# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: PCSX
registers:
  - name: PCSX(0..0)_CONTROL1_REG
    title: Control Register1
    address: 0x11800B0000800 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RESET
        bits: 15
        access: R/W/H
        reset: 1
        typical: 0
        description: |
          1=SW PCSX Reset, the bit will return to 0 after pcs
          has been reset. Takes 32 eclk cycles to reset pcs
          0=Normal operation

      - name: LOOPBCK1
        bits: 14
        access: R/W
        reset: 0
        typical: 0
        description: |
          0=normal operation, 1=internal loopback mode
          xgmii tx data received from gmx tx port is returned
          back into gmx, xgmii rx port.

      - name: SPDSEL1
        bits: 13
        access: RO
        reset: 1
        typical: 1
        description: See bit 6 description

      - name: --
        bits: 12
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LO_PWR
        bits: 11
        access: R/W
        reset: 1
        typical: 0
        description: 1=Power Down(HW reset), 0=Normal operation

      - name: --
        bits: 10..7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SPDSEL0
        bits: 6
        access: RO
        reset: 1
        typical: 1
        description: |
          SPDSEL1 and SPDSEL0 are always at 1'b1. Write has
          no effect.
          {<6>, <13>}Link Speed selection
          1    1   Bits 5:2 select speed

      - name: SPD
        bits: 5..2
        access: RO
        reset: 0x0
        typical: 0x0
        description: Always select 10Gb/s, writes have no effect

      - name: --
        bits: 1..0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: PCSX(0..0)_STATUS1_REG
    title: Status Register1
    address: 0x11800B0000808 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FLT
        bits: 7
        access: RO/H
        reset: 0
        typical: 0
        description: |
          1=Fault condition detected, 0=No fault condition
          This bit is a logical OR of Status2 reg bits 11,10

      - name: --
        bits: 6..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RCV_LNK
        bits: 2
        access: RO/H
        reset: 0
        typical: 1
        description: |
          1=Receive Link up, 0=Receive Link down
          Latching Low version of r_10gbx_status_reg[12],
          Link down status continues until SW read.

      - name: LPABLE
        bits: 1
        access: RO
        reset: 1
        typical: 1
        description: Always set to 1 for Low Power ablility indication

      - name: --
        bits: 0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: PCSX(0..0)_SPD_ABIL_REG
    title: Speed ability register
    address: 0x11800B0000810 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TENPASST
        bits: 1
        access: RO
        reset: 0
        typical: 0
        description: Always 0, no 10PASS-TS/2BASE-TL capability support

      - name: TENGB
        bits: 0
        access: RO
        reset: 1
        typical: 1
        description: Always 1, 10Gb/s supported


  - name: PCSX(0..0)_CONTROL2_REG
    title: Control Register2
    address: 0x11800B0000818 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TYPE
        bits: 1..0
        access: RO
        reset: 0x1
        typical: 0x1
        attributes:
          exempt_keyword: "True"
        description: Always 2'b01, 10GBASE-X only supported


  - name: PCSX(0..0)_STATUS2_REG
    title: Status Register2
    address: 0x11800B0000820 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DEV
        bits: 15..14
        access: RO
        reset: 0x2
        typical: 0x2
        description: Always at 2'b10, means a Device present at the addr

      - name: --
        bits: 13..12
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XMTFLT
        bits: 11
        access: RC/H
        reset: 0
        typical: 0
        description: |
          0=No xmit fault, 1=xmit fault. Implements latching
          High function until SW read.

      - name: RCVFLT
        bits: 10
        access: RC/H
        reset: 0
        typical: 0
        description: |
          0=No rcv fault, 1=rcv fault. Implements latching
          High function until SW read

      - name: --
        bits: 9..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TENGB_W
        bits: 2
        access: RO
        reset: 0
        typical: 0
        description: Always 0, no 10GBASE-W capability

      - name: TENGB_X
        bits: 1
        access: RO
        reset: 1
        typical: 1
        description: Always 1, 10GBASE-X capable

      - name: TENGB_R
        bits: 0
        access: RO
        reset: 0
        typical: 0
        description: Always 0, no 10GBASE-R capability


  - name: PCSX(0..0)_10GBX_STATUS_REG
    title: 10gbx_status_reg
    address: 0x11800B0000828 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..13
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: ALIGND
        bits: 12
        access: RO/H
        reset: 0
        typical: 1
        description: 1=Lane alignment achieved, 0=Lanes not aligned

      - name: PATTST
        bits: 11
        access: RO
        reset: 0
        typical: 0
        description: Always at 0, no pattern testing capability

      - name: --
        bits: 10..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: L3SYNC
        bits: 3
        access: RO/H
        reset: 0
        typical: 1
        description: 1=Rcv lane 3 code grp synchronized, 0=not sync'ed

      - name: L2SYNC
        bits: 2
        access: RO/H
        reset: 0
        typical: 1
        description: 1=Rcv lane 2 code grp synchronized, 0=not sync'ed

      - name: L1SYNC
        bits: 1
        access: RO/H
        reset: 0
        typical: 1
        description: 1=Rcv lane 1 code grp synchronized, 0=not sync'ed

      - name: L0SYNC
        bits: 0
        access: RO/H
        reset: 0
        typical: 1
        description: 1=Rcv lane 0 code grp synchronized, 0=not sync'ed


  - name: PCSX(0..0)_TX_RX_STATES_REG
    title: Transmit Receive States Register
    address: 0x11800B0000830 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TERM_ERR
        bits: 13
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          1=Check end function detected error in packet
          terminate ||T|| column or the one after it

      - name: SYN3BAD
        bits: 12
        access: RO/H
        reset: 0
        typical: 0
        description: 1=lane 3 code grp sync state machine in bad state

      - name: SYN2BAD
        bits: 11
        access: RO/H
        reset: 0
        typical: 0
        description: 1=lane 2 code grp sync state machine in bad state

      - name: SYN1BAD
        bits: 10
        access: RO/H
        reset: 0
        typical: 0
        description: 1=lane 1 code grp sync state machine in bad state

      - name: SYN0BAD
        bits: 9
        access: RO/H
        reset: 0
        typical: 0
        description: 1=lane 0 code grp sync state machine in bad state

      - name: RXBAD
        bits: 8
        access: RO/H
        reset: 0
        typical: 0
        description: 1=Rcv state machine in a bad state, HW malfunction

      - name: ALGN_ST
        bits: 7..5
        access: RO/H
        reset: 0x0
        typical: --
        description: Lane alignment state machine state state

      - name: RX_ST
        bits: 4..3
        access: RO/H
        reset: 0x0
        typical: --
        description: Receive state machine state state

      - name: TX_ST
        bits: 2..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Transmit state machine state state


  - name: PCSX(0..0)_RX_SYNC_STATES_REG
    title: Receive Sync States Register
    address: 0x11800B0000838 + a*0x8000000
    bus: RSL
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SYNC3ST
        bits: 15..12
        access: RO/H
        reset: 0x0
        typical: --
        description: Receive lane 3 code grp sync state machine state

      - name: SYNC2ST
        bits: 11..8
        access: RO/H
        reset: 0x0
        typical: --
        description: Receive lane 2 code grp sync state machine state

      - name: SYNC1ST
        bits: 7..4
        access: RO/H
        reset: 0x0
        typical: --
        description: Receive lane 1 code grp sync state machine state

      - name: SYNC0ST
        bits: 3..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Receive lane 0 code grp sync state machine state


  - name: PCSX(0..0)_TX_RX_POLARITY_REG
    title: TX_RX polarity reg
    address: 0x11800B0000840 + a*0x8000000
    bus: RSL
    description: |
      RX lane polarity vector [3:0] = XOR_RXPLRT<9:6>  ^  {4{RXPLRT<1>}};
      TX lane polarity vector [3:0] = XOR_TXPLRT<5:2>  ^  {4{TXPLRT<0>}};
      In short keep <1:0> to 2'b00, and use <5:2> and <9:6> fields to define per lane polarities
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..10
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XOR_RXPLRT
        bits: 9..6
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Per lane RX polarity control

      - name: XOR_TXPLRT
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Per lane TX polarity control

      - name: RXPLRT
        bits: 1
        access: R/W
        reset: 0
        typical: 0
        description: 1 is inverted polarity, 0 is normal polarity

      - name: TXPLRT
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: 1 is inverted polarity, 0 is normal polarity


  - name: PCSX(0..0)_MISC_CTL_REG
    address: 0x11800B0000848 + a*0x8000000
    bus: RSL
    description: |
      PCSX Misc Control Register
      LN_SWAP for XAUI is to simplify interconnection layout between devices
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TX_SWAP
        bits: 3
        access: R/W
        reset: 0
        typical: --
        description: |
          0=do not swap xaui lanes going out to qlm's
          1=swap lanes 3 <-> 0   and   2 <-> 1

      - name: RX_SWAP
        bits: 2
        access: R/W
        reset: 0
        typical: --
        description: |
          0=do not swap xaui lanes coming in from qlm's
          1=swap lanes 3 <-> 0   and   2 <-> 1

      - name: XAUI
        bits: 1
        access: RO/H
        reset: --
        typical: --
        description: |
          1=XAUI mode selected, 0=not XAUI mode selected
          This bit represents pi_qlm1/3_cfg[1:0] pin status

      - name: GMXENO
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: |
          GMX port enable override, GMX en/dis status is held
          during data packet reception.


  - name: PCSX(0..0)_BIT_LOCK_STATUS_REG
    address: 0x11800B0000850 + a*0x8000000
    bus: RSL
    description: PCSX Bit Lock Status Register
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BITLCK3
        bits: 3
        access: RO/H
        reset: 0
        typical: --
        description: Receive Lane 3 bit lock status

      - name: BITLCK2
        bits: 2
        access: RO/H
        reset: 0
        typical: --
        description: Receive Lane 2 bit lock status

      - name: BITLCK1
        bits: 1
        access: RO/H
        reset: 0
        typical: --
        description: Receive Lane 1 bit lock status

      - name: BITLCK0
        bits: 0
        access: RO/H
        reset: 0
        typical: --
        description: Receive Lane 0 bit lock status


  - name: PCSX(0..0)_INT_REG
    address: 0x11800B0000858 + a*0x8000000
    bus: RSL
    description: |
      PCSX Interrupt Register
      Note: DBG_SYNC is a edge triggered interrupt. When set it indicates PCS Synchronization state
      machine in
      Figure 48-7 state diagram in IEEE Std 802.3-2005 changes state SYNC_ACQUIRED_1 to
      SYNC_ACQUIRED_2
      indicating an invalid code group was received on one of the 4 receive lanes.
      This interrupt should be always disabled and used only for link problem debugging help.
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DBG_SYNC
        bits: 6
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Code Group sync failure debug help, see Note below

      - name: ALGNLOS
        bits: 5
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Set when XAUI lanes lose alignment

      - name: SYNLOS
        bits: 4
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Set when Code group sync lost on 1 or more  lanes

      - name: BITLCKLS
        bits: 3
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Set when Bit lock lost on 1 or more xaui lanes

      - name: RXSYNBAD
        bits: 2
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Set when RX code grp sync st machine in bad state
          in one of the 4 xaui lanes

      - name: RXBAD
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Set when RX state machine in bad state

      - name: TXFLT
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: None defined at this time, always 0x0


  - name: PCSX(0..0)_INT_EN_REG
    address: 0x11800B0000860 + a*0x8000000
    bus: RSL
    description: PCSX Interrupt Enable Register
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DBG_SYNC_EN
        bits: 6
        access: R/W/H
        reset: 0
        typical: 0
        description: Code Group sync failure debug help

      - name: ALGNLOS_EN
        bits: 5
        access: R/W
        reset: 0
        typical: 1
        description: Enable ALGNLOS interrupt

      - name: SYNLOS_EN
        bits: 4
        access: R/W
        reset: 0
        typical: 1
        description: Enable SYNLOS interrupt

      - name: BITLCKLS_EN
        bits: 3
        access: R/W
        reset: 0
        typical: 1
        description: Enable BITLCKLS interrupt

      - name: RXSYNBAD_EN
        bits: 2
        access: R/W
        reset: 0
        typical: 1
        description: Enable RXSYNBAD  interrupt

      - name: RXBAD_EN
        bits: 1
        access: R/W
        reset: 0
        typical: 1
        description: Enable RXBAD  interrupt

      - name: TXFLT_EN
        bits: 0
        access: R/W
        reset: 0
        typical: 1
        description: Enable TXFLT   interrupt


  - name: PCSX(0..0)_LOG_ANL_REG
    address: 0x11800B0000868 + a*0x8000000
    bus: RSL
    description: |
      PCSX Logic Analyzer Register
      NOTE: Logic Analyzer is enabled with LA_EN for xaui only. PKT_SZ is effective only when
      LA_EN=1
      For normal operation(xaui), this bit must be 0. The dropped lane is used to send rxc[3:0].
      See pcs.csr  for sgmii/1000Base-X logic analyzer mode.
      For full description see document at .../rtl/pcs/readme_logic_analyzer.txt
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    attributes:
      exempt_w1c_w: "True"
    fields:
      - name: --
        bits: 63..7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: ENC_MODE
        bits: 6
        access: R/W
        reset: 0
        typical: 0
        description: |
          1=send xaui encoded data, 0=send xaui raw data to GMX
          See .../rtl/pcs/readme_logic_analyzer.txt for details

      - name: DROP_LN
        bits: 5..4
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "xaui lane# to drop from logic analyzer packets
          {<5>, <4>}  Drop lane #
          0    0   Drop lane 0 data
          0    1   Drop lane 1 data
          1    0   Drop lane 2 data
          1    1   Drop lane 3 data"

      - name: LAFIFOVFL
        bits: 3
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          1=logic analyser fif overflowed one or more times
          during packetization.
          Write 1 to clear this bit

      - name: LA_EN
        bits: 2
        access: R/W
        reset: 0
        typical: 0
        description: 1= Logic Analyzer enabled, 0=Logic Analyzer disabled

      - name: PKT_SZ
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          {<1>, <0>}  Logic Analyzer Packet Size
          0    0   Packet size 1k bytes
          0    1   Packet size 4k bytes
          1    0   Packet size 8k bytes
          1    1   Packet size 16k bytes


  - name: PCSX(0..0)_BIST_STATUS_REG
    address: 0x11800B0000870 + a*0x8000000
    bus: RSL
    description: PCSX Bist Status Register
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BIST_STATUS
        bits: 0
        access: RO
        reset: 0
        typical: 0
        description: |
          1=bist failure, 0=bisted memory ok or bist in progress
          pcsx.tx_sm.drf8x36m1_async_bist


  - name: PCSX(0..0)_SERDES_CRDT_CNT_REG
    address: 0x11800B0000880 + a*0x8000000
    bus: RSL
    description: |
      PCSX SERDES Credit Count
      INTERNAL: Do not add this register to the HRM
    internal: |
      o70 supports a single RXAUI interface.  The PCSX1 version is not supported and should not be
      documented.
    attributes:
      dv_fc_scratch: "ALL"
    fields:
      - name: --
        bits: 63..5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 4..0
        access: R/W
        reset: 0x10
        typical: 0x10
        description: |
          INTERNAL: SERDES Credit Count.
          Valid rand is 1-31.
          Recommended value is 16 for all full-duplex operations.  Some clock ratios may require a
          larger setting of 20.
          Value of zero will disable the port.



