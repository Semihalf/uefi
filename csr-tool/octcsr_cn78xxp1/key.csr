# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: KEY
enums:
  - name: KEY_INTSN_E
    attributes:
      width: "20"
    description: Enumerates the different KEY generated interrupts.
    values:
      - name: KEY_ECC_KED0_SBE
        value: 0x20000
        description: See KEY_INT_SUM[KED0_SBE].

      - name: KEY_ECC_KED0_DBE
        value: 0x20001
        description: See KEY_INT_SUM[KED0_DBE].


registers:
  - name: KEY_INT_SUM
    title: KEY Interrupt Summary Register
    address: 0x1180020000000
    bus: RSL
    description: This register contains the different interrupt-summary bits of the KEY.
    fields:
      - name: --
        bits: 63..2
        access: --
        reset: --
        typical: --
        description: Reserved.

      - name: KED0_DBE
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          KED0 double-bit error. When set, a KED0 double-bit error has occurred. Throws
          KEY_INTSN_E::KEY_ECC_KED0_DBE.

      - name: KED0_SBE
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          KED0 single-bit error. When set, a KED0 single-bit error has occurred. Throws
          KEY_INTSN_E::KEY_ECC_KED0_SBE.


  - name: KEY_CTL_STATUS
    title: KEY Control and Status Register
    address: 0x1180020000010
    bus: RSL
    description: KEY control and status register.
    attributes:
      dv_fc_scratch: "ALL"
    fields:
      - name: --
        bits: 63..3
        access: --
        reset: --
        typical: --
        description: Reserved.

      - name: KMEM_DCOR
        bits: 2
        access: R/W
        reset: 0
        typical: 0
        description: Disable ECC correction in KEY MEM.

      - name: KMEM_FS
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: On next write flip the syndrome written into KEY MEM.


  - name: KEY_BIST_REG
    title: KEY BIST Status Register
    address: 0x1180020000018
    bus: RSL
    description: The KEY BIST status for memory (0 = pass, 1 = fail).
    attributes:
      dv_bist_all_fail_test: "ALL"
    fields:
      - name: --
        bits: 63..2
        access: --
        reset: --
        typical: --
        description: Reserved.

      - name: RRC
        bits: 1
        access: RO
        reset: 0
        typical: 0
        description: RRC BIST status.

      - name: KMEM
        bits: 0
        access: RO
        reset: 0
        typical: 0
        description: KMEM BIST status.



