# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: DFA
attributes:
  dv_fc_scratch_exempt: "RSL"
registers:
  - name: DFA_CONFIG
    address: 0x1180037000000
    bus: RSL
    description: |
      Specify the RSL base addresses for the block
      DFA_CONFIG = DFA Configuration Register
      Description:
    fields:
      - name: --
        bits: 63..11
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: DLCCLEAR_BIST
        bits: 10
        access: R/W
        reset: 0
        typical: 0
        description: |
          When DLCSTART_BIST is written 0->1, if DLCCLEAR_BIST=1, all
          previous DLC BiST state is cleared.
          NOTES:
          1) DLCCLEAR_BIST must be written to 1 before DLCSTART_BIST
          is written to 1 udsing a separate CSR write.
          2) DLCCLEAR_BIST must not be changed after writing DLCSTART_BIST
          0->1 until the BIST operation completes.

      - name: DLCSTART_BIST
        bits: 9
        access: R/W
        reset: 0
        typical: 0
        description: |
          When software writes DLCSTART_BIST=0->1, a BiST is executed
          for the DLC sub-block RAMs which contains DCLK domain
          asynchronous RAMs.
          NOTES:
          1) This bit should only be written after DCLK has been enabled
          by software and is stable.
          (see LMC initialization routine for details on how to enable
          the DDR3 memory (DCLK) - which requires LMC PLL init, clock
          divider and proper DLL initialization sequence).

      - name: REPL_ENA
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: |
          Replication Mode Enable
          *** o63-P2 NEW ***
          When set, enables replication mode performance enhancement
          feature. This enables the DFA to communicate address
          replication information during memory references to the
          memory controller.
          For o63-P2:        This is used by the memory controller
          to support graph data in multiple banks (or bank sets), so that
          the least full bank can be selected to minimize the effects of
          DDR3 bank conflicts (ie: tRC=row cycle time).
          For o68: This is used by the memory controller to support graph
          data in multiple ports (or port sets), so that the least full
          port can be selected to minimize latency effects.
          For o61: This bit MUST BE ZERO for proper operation, since there
          is only a single LMC port, port replication is not supported by HW.
          SWNOTE: Using this mode requires the DFA SW compiler and DFA
          driver to be aware of the address replication changes.
          This involves changes to the MLOAD/GWALK DFA instruction format
          (see: IWORD2.SREPL), as well as changes to node arc and metadata
          definitions which now support an additional REPL field.
          When clear, replication mode is disabled, and DFA will interpret
          DFA instructions and node-arc formats which DO NOT have
          address replication information.

      - name: CLMSKCRIP
        bits: 7..4
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          Cluster Cripple Mask
          A one in each bit of the mask represents which DTE cluster to
          cripple.
          NOTE: o63/o61 have only a single Cluster (therefore CLMSKCRIP[0]
          is the only bit used.
          o68 has 3 clusters, where CLMSKCRIP[2:0] mask bits are used.
          SWNOTE: The MIO_FUS___DFA_CLMASK_CRIPPLE[2:0] fuse bits will
          be forced into this register at reset. Any fuse bits that
          contain '1' will be disallowed during a write and will always
          be read as '1'.

      - name: CLDTECRIP
        bits: 3..1
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          "Encoding which represents #of DTEs to cripple for each
          cluster. Typically DTE_CLCRIP=0 which enables all DTEs
          within each cluster. However, when the DFA performance
          counters are used, SW may want to limit the #of DTEs
          per cluster available, as there are only 4 parallel
          performance counters.
          DTE_CLCRIP | #DTEs crippled(per cluster)
          ------------+-----------------------------
          0    |  0      DTE[15:0]:ON
          1    |  1/2    DTE[15:8]:OFF  /DTE[7:0]:ON
          2    |  1/4    DTE[15:12]:OFF /DTE[11:0]:ON
          3    |  3/4    DTE[15:4]:OFF  /DTE[3:0]:ON
          4    |  1/8    DTE[15:14]:OFF /DTE[13:0]:ON
          5    |  5/8    DTE[15:6]:OFF  /DTE[5:0]:ON
          6    |  3/8    DTE[15:10]:OFF /DTE[9:0]:ON
          7    |  7/8    DTE[15:2]:OFF  /DTE[1:0]:ON
          NOTE: Higher numbered DTEs are crippled first. For instance,
          on o63/o61 (with 16 DTEs/cluster), if DTE_CLCRIP=1(1/2), then
          DTE#s [15:8] within the cluster are crippled and only
          DTE#s [7:0] are available.
          IMPNOTE: The encodings are done in such a way as to later
          be used with fuses (for future OCTEON revisions which will disable
          some #of DTEs). Blowing a fuse has the effect that there will
          always be fewer DTEs available. [ie: we never want a customer
          to blow additional fuses to get more DTEs].
          SWNOTE: The MIO_FUS___DFA_NUMDTE_CRIPPLE[2:0] fuse bits will
          be forced into this register at reset. Any fuse bits that
          contain '1' will be disallowed during a write and will always
          be read as '1'."

      - name: DTECLKDIS
        bits: 0
        access: R/W
        reset: 1
        typical: 0
        description: |
          DFA Clock Disable Source
          When SET, the DFA clocks for DTE(thread engine)
          operation are disabled (to conserve overall chip clocking
          power when the DFA function is not used).
          NOTE: When SET, SW MUST NEVER issue NCB-Direct CSR
          operations to the DFA (will result in NCB Bus Timeout
          errors).
          NOTE: This should only be written to a different value
          during power-on SW initialization.
          SWNOTE: The MIO_FUS___DFA_DTE_DISABLE fuse bit will
          be forced into this register at reset. If the fuse bit
          contains '1', writes to DTECLKDIS are disallowed and
          will always be read as '1'.


  - name: DFA_CONTROL
    title: DFA Control Register
    address: 0x1180037000020
    bus: RSL
    description: |
      Description:
    fields:
      - name: --
        bits: 63..10
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: SBDNUM
        bits: 9..6
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "SBD Debug Entry#
          *FOR INTERNAL USE ONLY*
          DFA Scoreboard debug control
          Selects which one of 16 DFA Scoreboard entries is
          latched into the DFA_SBD_DBG[0-3] registers."

      - name: SBDLCK
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: |
          DFA Scoreboard LOCK Strobe
          *FOR INTERNAL USE ONLY*
          DFA Scoreboard debug control
          When written with a '1', the DFA Scoreboard Debug
          registers (DFA_SBD_DBG[0-3]) are all locked down.
          This allows SW to lock down the contents of the entire
          SBD for a single instant in time. All subsequent reads
          of the DFA scoreboard registers will return the data
          from that instant in time.

      - name: --
        bits: 4..3
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: PMODE
        bits: 2
        access: R/W
        reset: 1
        typical: 1
        description: |
          NCB-NRP Arbiter Mode
          (0=Fixed Priority {LP=WQF,DFF,HP=RGF}/1=RR
          NOTE: This should only be written to a different value
          during power-on SW initialization.

      - name: QMODE
        bits: 1
        access: R/W
        reset: 1
        typical: 1
        description: |
          NCB-NRQ Arbiter Mode
          (0=Fixed Priority {LP=IRF,RWF,PRF,HP=GRF}/1=RR
          NOTE: This should only be written to a different value
          during power-on SW initialization.

      - name: IMODE
        bits: 0
        access: R/W
        reset: 1
        typical: 1
        description: |
          NCB-Inbound Arbiter
          (0=FP {LP=NRQ,HP=NRP}, 1=RR)
          NOTE: This should only be written to a different value
          during power-on SW initialization.


  - name: DFA_ERROR
    title: DFA ERROR Register
    address: 0x1180037000028
    bus: RSL
    description: |
      Description:
    fields:
      - name: --
        bits: 63..19
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: REPLERR
        bits: 18
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          DFA Illegal Replication Factor Error
          For o68: DFA only supports 1x, 2x, and 4x port replication.
          Legal configurations for memory are to support 2 port or
          4 port configurations.
          The REPLERR interrupt will be set in the following illegal
          configuration cases:
          1) An 8x replication factor is detected for any memory reference.
          2) A 4x replication factor is detected for any memory reference
          when only 2 memory ports are enabled.

          NOTE: If REPLERR is set during a DFA Graph Walk operation,
          then the walk will prematurely terminate with RWORD0[REA]=ERR.
          If REPLERR is set during a NCB-Direct CSR read access to DFA
          Memory REGION, then the CSR read response data is UNPREDICTABLE.

      - name: DFANXM
        bits: 17
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          DFA Non-existent Memory Access
          For o68/o61: DTEs (and backdoor CSR DFA Memory REGION reads)
          have access to the following 38bit L2/DRAM address space
          which maps to a 37bit physical DDR3 SDRAM address space.
          see:
          DR0: 0x0 0000 0000 0000 to 0x0 0000 0FFF FFFF
          maps to lower 256MB of physical DDR3 SDRAM
          DR1: 0x0 0000 2000 0000 to 0x0 0020 0FFF FFFF
          maps to upper 127.75GB of DDR3 SDRAM
          L2/DRAM address space                     Physical DDR3 SDRAM Address space
          (38bit address)                           (37bit address)
          +-----------+ 0x0020.0FFF.FFFF

          ===   DR1   ===                          +-----------+ 0x001F.FFFF.FFFF
          (128GB-256MB)
          |           |                     =>    |           |  (128GB-256MB)
          +-----------+ 0x0000.1FFF.FFFF          |   DR1
          256MB   |   HOLE    |   (DO NOT USE)
          +-----------+ 0x0000.0FFF.FFFF          +-----------+ 0x0000.0FFF.FFFF
          256MB   |    DR0    |                           |   DR0     |   (256MB)
          +-----------+ 0x0000.0000.0000          +-----------+ 0x0000.0000.0000
          In the event the DFA generates a reference to the L2/DRAM
          address hole (0x0000.0FFF.FFFF - 0x0000.1FFF.FFFF) or to
          an address above 0x0020.0FFF.FFFF, the DFANXM programmable
          interrupt bit will be set.
          SWNOTE: Both the 1) SW DFA Graph compiler and the 2) SW NCB-Direct CSR
          accesses to DFA Memory REGION MUST avoid making references
          to these non-existent memory regions.

          NOTE: If DFANXM is set during a DFA Graph Walk operation,
          then the walk will prematurely terminate with RWORD0[REA]=ERR.
          If DFANXM is set during a NCB-Direct CSR read access to DFA
          Memory REGION, then the CSR read response data is forced to
          128'hBADE_FEED_DEAD_BEEF_FACE_CAFE_BEAD_C0DE. (NOTE: the QW
          being accessed, either the upper or lower QW will be returned).

      - name: CNDRD
        bits: 16
        access: RO/H
        reset: 0
        typical: 0
        description: |
          If any of the cluster's detected a Parity error on RAM1
          this additional bit further specifies that the
          RAM1 parity error was detected during a CND-RD
          (Cache Node Metadata Read).
          *DON'T PUT IN HRM*
          For CNDRD Parity Error, the previous CNA arc fetch
          information is written to RWORD1+ as follows:
          RWORD1+[NTYPE]=MNODE
          RWORD1+[NDNID]=cna.ndnid
          RWORD1+[NHMSK]=cna.hmsk
          RWORD1+[NNPTR]=cna.nnptr[13:0]
          NOTE: This bit is set if ANY node cluster's RAM1 accesses
          detect a CNDRD error.

      - name: --
        bits: 15
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: --
        bits: 14
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: DLC0_OVFERR
        bits: 13
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          DLC0 Fifo Overflow Error Detected
          This condition should NEVER architecturally occur, and
          is here in case HW credit/debit scheme is not working.

      - name: --
        bits: 12..4
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: DC0PERR
        bits: 3..1
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          "Cluster#0 RAM[3:1] Parity Error Detected
          See also DFA_DTCFADR register which contains the
          failing addresses for the internal node cache RAMs."

      - name: DBLOVF
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Doorbell Overflow detected - Status bit
          When set, the 20b accumulated doorbell register
          had overflowed (SW wrote too many doorbell requests).
          If the DBLINA had previously been enabled(set),
          an interrupt will be posted. Software can clear
          the interrupt by writing a 1 to this register bit.
          NOTE: Detection of a Doorbell Register overflow
          is a catastrophic error which may leave the DFA
          HW in an unrecoverable state.


  - name: DFA_INTMSK
    title: DFA ERROR Interrupt Mask Register
    address: 0x1180037000030
    bus: RSL
    description: |
      Description:
    fields:
      - name: --
        bits: 63..19
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: REPLERRENA
        bits: 18
        access: R/W
        reset: 0
        typical: 0
        description: DFA Illegal Replication Factor Interrupt Enable

      - name: DFANXMENA
        bits: 17
        access: R/W
        reset: 0
        typical: 0
        description: DFA Non-existent Memory Access Interrupt Enable

      - name: --
        bits: 16..15
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: --
        bits: 14
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: DLC0_OVFENA
        bits: 13
        access: R/W
        reset: 0
        typical: 0
        description: DLC0 Fifo Overflow Error Interrupt Enable

      - name: --
        bits: 12..4
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: DC0PENA
        bits: 3..1
        access: R/W
        reset: 0x0
        typical: 0x0
        description: "RAM[3:1] Parity Error Enabled Node Cluster #0"

      - name: DBLINA
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: |
          Doorbell Overflow Interrupt Enable bit.
          When set, doorbell overflow conditions are reported.


  - name: DFA_DEBUG0
    title: "DFA Scoreboard Debug #0 Register"
    address: 0x1180037000040
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description: When the DFA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down.
      Otherwise, the contents of this register are the 'active' contents of the DFA Scoreboard at
      the time of the
      CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model)
      on the reads unless the DTE Engine specified by DFA_CONTROL[SBDNUM] has previously been
      assigned an
      instruction."
    fields:
      - name: SBD0
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "DFA ScoreBoard #0 Data
          (DFA Scoreboard Debug)
          [63:38]   (26) rptr[28:3]: Result Base Pointer (QW-aligned)
          [37:22]   (16) Cumulative Result Write Counter (for HDR write)
          [21]       (1) Waiting for GRdRsp EOT
          [20]       (1) Waiting for GRdReq Issue (to NRQ)
          [19]       (1) GLPTR/GLCNT Valid
          [18]       (1) Completion Mark Detected
          [17:15]    (3) Completion Code [0=PDGONE/1=PERR/2=RFULL/3=TERM]
          [14]       (1) Completion Detected
          [13]       (1) Waiting for HDR RWrCmtRsp
          [12]       (1) Waiting for LAST RESULT RWrCmtRsp
          [11]       (1) Waiting for HDR RWrReq
          [10]        (1) Waiting for RWrReq
          [9]        (1) Waiting for WQWrReq issue
          [8]        (1) Waiting for PRdRsp EOT
          [7]        (1) Waiting for PRdReq Issue (to NRQ)
          [6]        (1) Packet Data Valid
          [5]        (1) WQVLD
          [4]        (1) WQ Done Point (either WQWrReq issued (for WQPTR<>0) OR HDR RWrCmtRsp)
          [3]        (1) Resultant write STF/P Mode
          [2]        (1) Packet Data LDT mode
          [1]        (1) Gather Mode
          [0]        (1) Valid"


  - name: DFA_DEBUG1
    title: "DFA Scoreboard Debug #1 Register"
    address: 0x1180037000048
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description: When the DFA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down.
      Otherwise, the contents of this register are the 'active' contents of the DFA Scoreboard at
      the time of the
      CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model)
      on the reads unless the DTE Engine specified by DFA_CONTROL[SBDNUM] has previously been
      assigned an
      instruction."
    fields:
      - name: SBD1
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "DFA ScoreBoard #1 Data
          DFA Scoreboard Debug Data
          [63:56]   (8) UNUSED
          [55:16]  (40) Packet Data Pointer
          [15:0]   (16) Packet Data Counter"


  - name: DFA_DEBUG2
    title: "DFA Scoreboard Debug #2 Register"
    address: 0x1180037000050
    bus: RSL
    description: |
      Description: When the DFA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down.
      Otherwise, the contents of this register are the 'active' contents of the DFA Scoreboard at
      the time of the
      CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model)
      on the reads unless the DTE Engine specified by DFA_CONTROL[SBDNUM] has previously been
      assigned an
      instruction.
    fields:
      - name: SBD2
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "DFA ScoreBoard #2 Data
          [63:45] (19) UNUSED
          [44:42]  (3) Instruction Type
          [41:5]  (37) rwptr[39:3]: Result Write Pointer
          [4:0]    (5) prwcnt[4:0]: Pending Result Write Counter"


  - name: DFA_DEBUG3
    title: "DFA Scoreboard Debug #3 Register"
    address: 0x1180037000058
    bus: RSL
    description: |
      Description: When the DFA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down.
      Otherwise, the contents of this register are the 'active' contents of the DFA Scoreboard at
      the time of the
      CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model)
      on the reads unless the DTE Engine specified by DFA_CONTROL[SBDNUM] has previously been
      assigned an
      instruction.
    fields:
      - name: SBD3
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "DFA ScoreBoard #3 Data
          [63:52] (11) rptr[39:29]: Result Base Pointer (QW-aligned)
          [52:16] (37) glptr[39:3]: Gather List Pointer
          [15:0]  (16) glcnt Gather List Counter"


  - name: DFA_DTCFADR
    title: DFA DTC Failing Address Register
    address: 0x1180037000060
    bus: RSL
    description: |
      "Description: DFA Node Cache Failing Address/Control Error Capture information
      This register contains useful information to help in isolating a Node Cache RAM failure.
      NOTE: The first detected PERR failure is captured in DFA_DTCFADR (locked down), until the
      corresponding PERR Interrupt is cleared by writing one (W1C). (see: DFA_ERR[DC0PERR[2:0]]).
      NOTE: In the rare event that multiple parity errors are detected in the same cycle from
      multiple
      clusters, the FADR register will be locked down for the least signicant cluster # (0->3)."
    fields:
      - name: --
        bits: 63..44
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: RAM3FADR
        bits: 43..32
        access: RO
        reset: --
        typical: --
        description: |
          DFA RAM3 Failing Address
          If DFA_ERR[DC0PERR<2>]=1, this field indicates the
          failing RAM3 Address. The failing address is locked
          down until the DC0PERR<2> W1C occurs.
          For o68: If multiple DC0PERR<0>=1 errors are detected,
          then the lsb cluster error information is captured.

      - name: --
        bits: 31..25
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: RAM2FADR
        bits: 24..16
        access: RO
        reset: --
        typical: --
        description: |
          DFA RAM2 Failing Address
          If DFA_ERR[DC0PERR<1>]=1, this field indicates the
          failing RAM2 Address. The failing address is locked
          down until the DC0PERR<1> W1C occurs.
          For o68: If multiple DC0PERR<0>=1 errors are detected,
          then the lsb cluster error information is captured.

      - name: --
        bits: 15..14
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: RAM1FADR
        bits: 13..0
        access: RO
        reset: --
        typical: --
        description: |
          DFA RAM1 Failing Address
          If DFA_ERR[DC0PERR<0>]=1, this field indicates the
          failing RAM1 Address. The failing address is locked
          down until the DC0PERR<0> W1C occurs.
          For o68: If multiple DC0PERR<0>=1 errors are detected,
          then the lsb cluster error information is captured.


  - name: DFA_PFC_GCTL
    title: DFA Performance Counter Global Control
    address: 0x1180037000080
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..29
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: VGID
        bits: 28..21
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Virtual Graph Id#
          When PMODE=1(per-graph selector), this field is used
          to select/monitor only those events which are
          associated with this selected VGID(virtual graph ID).
          This field is used globally across all four performance
          counters.
          IMPNOTE: I implemented a global VGID across all 4 performance
          counters to save wires/area."

      - name: PMODE
        bits: 20
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Select Mode
          0: Events are selected on a per-cluster DTE# (CLNUM/CLDTE)
          DFA_PFCx_CTL[CLNUM,CLDTE] specifies the cluster-DTE for
          each 1(of 4) performance counters.
          1: Events are selected on a per-graph basis (VGID=virtual Graph ID).
          NOTE: Only EVSEL=[0...31] can be used in conjunction with PMODE=1.
          DFA_PFC_GCTL[VGID] specifies the Virtual graph ID used across
          all four performance counters."

      - name: EDNODE
        bits: 19..18
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Ending DNODE Selector
          When ENODE=0/1(*DNODE), this field is used to further
          specify the Ending DNODE transition sub-type:
          0: ALL DNODE sub-types
          1: ->D2e (explicit DNODE transition node-arc alone transitions to DNODE)
          2: ->D2i (implicit DNODE transition:arc-present triggers transition)
          3: ->D1r (rescan DNODE transition)

      - name: ENODE
        bits: 17..15
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Ending Node Selector
          When DFA_PFCx_CTL[EVSEL]=Node Transition(31), the ENODE
          field is used to select Ending Node, and the SNODE
          field is used to select the Starting Node.
          0: LDNODE
          1: SDNODE
          2: LCNODE
          3: SCNODE
          4: LMNODE
          5: SMNODE
          6: MONODE
          7: RESERVED

      - name: SNODE
        bits: 14..12
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Starting Node Selector
          When DFA_PFCx_CTL[EVSEL]=Node Transition(31), the SNODE
          field is used to select Starting Node, and the ENODE
          field is used to select the Ending Node.
          0: LDNODE
          1: SDNODE
          2: LCNODE
          3: SCNODE
          4: LMNODE
          5: SMNODE
          6: MONODE
          7: RESERVED

      - name: CNT3RCLR
        bits: 11
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #3 Read Clear
          If this bit is set, CSR reads to the DFA_PFC3_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT2RCLR
        bits: 10
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #2 Read Clear
          If this bit is set, CSR reads to the DFA_PFC2_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT1RCLR
        bits: 9
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #1 Read Clear
          If this bit is set, CSR reads to the DFA_PFC1_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT0RCLR
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #0 Read Clear
          If this bit is set, CSR reads to the DFA_PFC0_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT3WCLR
        bits: 7
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #3 Write Clear
          If this bit is set, CSR writes to the DFA_PFC3_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the DFA_PFC3_CNT
          will continue the count from the written value."

      - name: CNT2WCLR
        bits: 6
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #2 Write Clear
          If this bit is set, CSR writes to the DFA_PFC2_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the DFA_PFC2_CNT
          will continue the count from the written value."

      - name: CNT1WCLR
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #1 Write Clear
          If this bit is set, CSR writes to the DFA_PFC1_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the DFA_PFC1_CNT
          will continue the count from the written value."

      - name: CNT0WCLR
        bits: 4
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #0 Write Clear
          If this bit is set, CSR writes to the DFA_PFC0_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the DFA_PFC0_CNT
          will continue the count from the written value."

      - name: CNT3ENA
        bits: 3
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 3 Enable
          When this bit is set, the performance counter #3
          is enabled."

      - name: CNT2ENA
        bits: 2
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 2 Enable
          When this bit is set, the performance counter #2
          is enabled."

      - name: CNT1ENA
        bits: 1
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 1 Enable
          When this bit is set, the performance counter #1
          is enabled."

      - name: CNT0ENA
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 0 Enable
          When this bit is set, the performance counter #0
          is enabled."


  - name: DFA_PFC0_CTL
    title: "DFA Performance Counter#0 Control"
    address: 0x1180037000088
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: |
          "Performance Counter#0 Event Selector
          // Events [0-31] are based on PMODE(0:per cluster-DTE 1:per graph)
          0:  #Total Cycles
          1:  #LDNODE visits
          2:  #SDNODE visits
          3:  #DNODE visits (LD/SD)
          4:  #LCNODE visits
          5:  #SCNODE visits
          6:  #CNODE visits (LC/SC)
          7:  #LMNODE visits
          8:  #SMNODE visits
          9:  #MNODE visits (LM/SM)
          10: #MONODE visits
          11: #CACHE visits (DNODE,CNODE) exc: CNDRD,MPHIDX
          12: #CACHE visits (DNODE,CNODE)+(CNDRD,MPHIDX)
          13: #MEMORY visits (MNODE+MONODE)
          14: #CNDRDs detected (occur for SCNODE->*MNODE transitions)
          15: #MPHIDX detected (occur for ->LMNODE transitions)
          16: #RESCANs detected (occur when HASH collision is detected)
          17: #GWALK iterations STALLED - Packet data/Result Buffer
          18: #GWALK iterations NON-STALLED
          19: #CLOAD iterations
          20: #MLOAD iterations
          [NOTE: If PMODE=1(per-graph) the MLOAD IWORD0.VGID will be used to discern graph#].
          21: #RWORD1+ writes
          22: #cycles Cluster is busy
          23: #GWALK Instructions
          24: #CLOAD Instructions
          25: #MLOAD Instructions
          [NOTE: If PMODE=1(per-graph) the MLOAD IWORD0.VGID will be used to discern graph#].
          26: #GFREE Instructions
          27-30: RESERVED
          31: # Node Transitions detected (see DFA_PFC_GCTL[SNODE,ENODE,EDNODE] registers
          //=============================================================
          // Events [32-63] are used ONLY FOR PMODE=0(per-cluster DTE mode):
          32: #cycles a specific cluster-DTE remains active(valid state)
          33: #cycles a specific cluster-DTE waits for Memory Response Data
          34: #cycles a specific cluster-DTE waits in resource stall state
          (waiting for packet data or result buffer space)
          35: #cycles a specific cluster-DTE waits in resource pending state
          36-63: RESERVED
          //============================================================="

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: CLDTE
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#0 Cluster DTE Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster's DTE# for all events
          associated with Performance Counter#0."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#0 Cluster Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#0."


  - name: DFA_PFC0_CNT
    title: "DFA Performance Counter #0"
    address: 0x1180037000090
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT0
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "Performance Counter #0
          When DFA_PFC_GCTL[CNT0ENA]=1, the event selected
          by DFA_PFC0_CTL[EVSEL] is counted.
          See also DFA_PFC_GCTL[CNT0WCLR] and DFA_PFC_GCTL
          [CNT0RCLR] for special clear count cases available
          for SW data collection."


  - name: DFA_PFC1_CTL
    title: "DFA Performance Counter#1 Control"
    address: 0x1180037000098
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: |
          "Performance Counter#1 Event Selector
          0:  #Cycles
          1:  #LDNODE visits
          2:  #SDNODE visits
          3:  #DNODE visits (LD/SD)
          4:  #LCNODE visits
          5:  #SCNODE visits
          6:  #CNODE visits (LC/SC)
          7:  #LMNODE visits
          8:  #SMNODE visits
          9:  #MNODE visits (LM/SM)
          10: #MONODE visits
          11: #CACHE visits (DNODE,CNODE) exc: CNDRD,MPHIDX
          12: #CACHE visits (DNODE,CNODE)+(CNDRD,MPHIDX)
          13: #MEMORY visits (MNODE+MONODE)
          14: #CNDRDs detected (occur for SCNODE->*MNODE transitions)
          15: #MPHIDX detected (occur for ->LMNODE transitions)
          16: #RESCANs detected (occur when HASH collision is detected)
          17: #GWALK STALLs detected - Packet data/Result Buffer
          18: #GWALK DTE cycles (all DTE-GNT[3a])
          19: #CLOAD DTE cycles
          20: #MLOAD DTE cycles
          21: #cycles waiting for Memory Response Data
          22: #cycles waiting in resource stall state (waiting for packet data or result buffer
          space)
          23: #cycles waiting in resource pending state
          24: #RWORD1+ writes
          25: #DTE-VLD cycles
          26: #DTE Transitions detected (see DFA_PFC_GCTL[SNODE,ENODE] registers
          27: #GWALK Instructions
          28: #CLOAD Instructions
          29: #MLOAD Instructions
          30: #GFREE Instructions (== #GFREE DTE cycles)
          31: RESERVED
          32: #DTE-Busy cycles (ALL DTE-GNT strobes)"

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: CLDTE
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#1 Cluster DTE Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster's DTE# for all events
          associated with Performance Counter#1."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#1 Cluster Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#1."


  - name: DFA_PFC1_CNT
    title: "DFA Performance Counter #1"
    address: 0x11800370000A0
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT1
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "Performance Counter #1
          When DFA_PFC_GCTL[CNT1ENA]=1, the event selected
          by DFA_PFC1_CTL[EVSEL] is counted.
          See also DFA_PFC_GCTL[CNT1WCLR] and DFA_PFC_GCTL
          [CNT1RCLR] for special clear count cases available
          for SW data collection."


  - name: DFA_PFC2_CTL
    title: "DFA Performance Counter#2 Control"
    address: 0x11800370000A8
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: |
          "Performance Counter#2 Event Selector
          0:  #Cycles
          1:  #LDNODE visits
          2:  #SDNODE visits
          3:  #DNODE visits (LD/SD)
          4:  #LCNODE visits
          5:  #SCNODE visits
          6:  #CNODE visits (LC/SC)
          7:  #LMNODE visits
          8:  #SMNODE visits
          9:  #MNODE visits (LM/SM)
          10: #MONODE visits
          11: #CACHE visits (DNODE,CNODE) exc: CNDRD,MPHIDX
          12: #CACHE visits (DNODE,CNODE)+(CNDRD,MPHIDX)
          13: #MEMORY visits (MNODE+MONODE)
          14: #CNDRDs detected (occur for SCNODE->*MNODE transitions)
          15: #MPHIDX detected (occur for ->LMNODE transitions)
          16: #RESCANs detected (occur when HASH collision is detected)
          17: #GWALK STALLs detected - Packet data/Result Buffer
          18: #GWALK DTE cycles (all DTE-GNT[3a])
          19: #CLOAD DTE cycles
          20: #MLOAD DTE cycles
          21: #cycles waiting for Memory Response Data
          22: #cycles waiting in resource stall state (waiting for packet data or result buffer
          space)
          23: #cycles waiting in resource pending state
          24: #RWORD1+ writes
          25: #DTE-VLD cycles
          26: #DTE Transitions detected (see DFA_PFC_GCTL[SNODE,ENODE] registers
          27: #GWALK Instructions
          28: #CLOAD Instructions
          29: #MLOAD Instructions
          30: #GFREE Instructions (== #GFREE DTE cycles)
          31: RESERVED
          32: #DTE-Busy cycles (ALL DTE-GNT strobes)"

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: CLDTE
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#2 Cluster DTE Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster's DTE# for all events
          associated with Performance Counter#2."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#2 Cluster Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#2."


  - name: DFA_PFC2_CNT
    title: "DFA Performance Counter #2"
    address: 0x11800370000B0
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT2
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "Performance Counter #2
          When DFA_PFC_GCTL[CNT2ENA]=1, the event selected
          by DFA_PFC2_CTL[EVSEL] is counted.
          See also DFA_PFC_GCTL[CNT2WCLR] and DFA_PFC_GCTL
          [CNT2RCLR] for special clear count cases available
          for SW data collection."


  - name: DFA_PFC3_CTL
    title: "DFA Performance Counter#3 Control"
    address: 0x11800370000B8
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: |
          "Performance Counter#3 Event Selector
          0:  #Cycles
          1:  #LDNODE visits
          2:  #SDNODE visits
          3:  #DNODE visits (LD/SD)
          4:  #LCNODE visits
          5:  #SCNODE visits
          6:  #CNODE visits (LC/SC)
          7:  #LMNODE visits
          8:  #SMNODE visits
          9:  #MNODE visits (LM/SM)
          10: #MONODE visits
          11: #CACHE visits (DNODE,CNODE) exc: CNDRD,MPHIDX
          12: #CACHE visits (DNODE,CNODE)+(CNDRD,MPHIDX)
          13: #MEMORY visits (MNODE+MONODE)
          14: #CNDRDs detected (occur for SCNODE->*MNODE transitions)
          15: #MPHIDX detected (occur for ->LMNODE transitions)
          16: #RESCANs detected (occur when HASH collision is detected)
          17: #GWALK STALLs detected - Packet data/Result Buffer
          18: #GWALK DTE cycles (all DTE-GNT[3a])
          19: #CLOAD DTE cycles
          20: #MLOAD DTE cycles
          21: #cycles waiting for Memory Response Data
          22: #cycles waiting in resource stall state (waiting for packet data or result buffer
          space)
          23: #cycles waiting in resource pending state
          24: #RWORD1+ writes
          25: #DTE-VLD cycles
          26: #DTE Transitions detected (see DFA_PFC_GCTL[SNODE,ENODE] registers
          27: #GWALK Instructions
          28: #CLOAD Instructions
          29: #MLOAD Instructions
          30: #GFREE Instructions (== #GFREE DTE cycles)
          31: RESERVED
          32: #DTE-Busy cycles (ALL DTE-GNT strobes)"

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: CLDTE
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#3 Cluster DTE Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster's DTE# for all events
          associated with Performance Counter#3."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#3 Cluster Selector
          When DFA_PFC_GCTL[PMODE]=0 (per-cluster DTE), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#3."


  - name: DFA_PFC3_CNT
    title: "DFA Performance Counter #3"
    address: 0x11800370000C0
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT3
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "Performance Counter #3
          When DFA_PFC_GCTL[CNT3ENA]=1, the event selected
          by DFA_PFC3_CTL[EVSEL] is counted.
          See also DFA_PFC_GCTL[CNT3WCLR] and DFA_PFC_GCTL
          [CNT3RCLR] for special clear count cases available
          for SW data collection."


  - name: DFA_BIST0
    title: DFA Bist Status (per-DTC)
    address: 0x11800370007F0
    bus: RSL
    description: |
      Description:
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: --
        bits: 31..30
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: --
        bits: 29..28
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: --
        bits: 27..25
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: GFB
        bits: 24
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for GFB RAM(s) (per-cluster)
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 23..18
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: STX
        bits: 17..16
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Bist Results for STX0 RAM(s)
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 15..10
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: DTX
        bits: 9..8
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Bist Results for DTX0 RAM(s)
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 7..5
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: RDF
        bits: 4
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for RWB RAM(s) (per-cluster)
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 3..1
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: PDB
        bits: 0
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for PDB RAM(s) (per-cluster)
          0: GOOD (or bist in progress/never run)
          1: BAD


  - name: DFA_BIST1
    title: DFA Bist Status (Globals)
    address: 0x11800370007F8
    bus: RSL
    description: |
      Description:
    fields:
      - name: --
        bits: 63..21
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: --
        bits: 20
        access: RAZ
        reset: 0
        typical: 0
        description: RESERVED

      - name: DLC0RAM
        bits: 19
        access: RO/H
        reset: 0
        typical: 0
        description: |
          DLC0 Bist Results
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 18..13
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: RAM3
        bits: 12
        access: RO/H
        reset: 0
        typical: 0
        description: |
          "Cluster#0 Bist Results for RAM3 RAM
          0: GOOD (or bist in progress/never run)
          1: BAD"

      - name: RAM2
        bits: 11
        access: RO/H
        reset: 0
        typical: 0
        description: |
          "Cluster#0 Bist Results for RAM2 RAM
          0: GOOD (or bist in progress/never run)
          1: BAD"

      - name: RAM1
        bits: 10
        access: RO/H
        reset: 0
        typical: 0
        description: |
          "Cluster#0 Bist Results for RAM1 RAM
          0: GOOD (or bist in progress/never run)
          1: BAD"

      - name: CRQ
        bits: 9
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for CRQ RAM
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: GUTV
        bits: 8
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for GUTV RAM
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 7..5
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: RESERVED

      - name: GUTP
        bits: 4
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for GUTP RAMs
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: NCD
        bits: 3
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for NCD RAM
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: GIF
        bits: 2
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for GIF RAM
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: GIB
        bits: 1
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for GIB RAM
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: GFU
        bits: 0
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for GFU RAM
          0: GOOD (or bist in progress/never run)
          1: BAD


  - name: DFA_DBELL
    title: DFA Doorbell Register
    address: 0x1370000000000
    bus: NCB
    description: |
      Description:
      NOTE: To write to the DFA_DBELL register, a device would issue an IOBST directed at the DFA
      with addr[34:33]=2'b00.
      To read the DFA_DBELL register, a device would issue an IOBLD64 directed at the DFA with
      addr[34:33]=2'b00.
      NOTE: If DFA_CONFIG[DTECLKDIS]=1 (DFA-DTE clocks disabled), reads/writes to the DFA_DBELL
      register do not take effect.
      NOTE: If FUSE[TBD]="DFA DTE disable" is blown, reads/writes to the DFA_DBELL register do not
      take effect.
    fields:
      - name: --
        bits: 63..20
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: DBELL
        bits: 19..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          Represents the cumulative total of pending
          DFA instructions which SW has previously written
          into the DFA Instruction FIFO (DIF) in main memory.
          Each DFA instruction contains a fixed size 32B
          instruction word which is executed by the DFA HW.
          The DBL register can hold up to 1M-1 (2^20-1)
          pending DFA instruction requests.
          During a read (by SW), the 'most recent' contents
          of the DFA_DBELL register are returned at the time
          the NCB-INB bus is driven.
          NOTE: Since DFA HW updates this register, its
          contents are unpredictable in SW.


  - name: DFA_DIFRDPTR
    title: DFA Instruction FIFO (DIF) RDPTR Register
    address: 0x1370200000000
    bus: NCB
    description: |
      Description:
      NOTE: To write to the DFA_DIFRDPTR register, a device would issue an IOBST directed at the DFA
      with addr[34:33]=2'b01.
      To read the DFA_DIFRDPTR register, a device would issue an IOBLD64 directed at the DFA with
      addr[34:33]=2'b01.
      NOTE: If DFA_CONFIG[DTECLKDIS]=1 (DFA-DTE clocks disabled), reads/writes to the DFA_DIFRDPTR
      register do not take effect.
      NOTE: If FUSE[TBD]="DFA DTE disable" is blown, reads/writes to the DFA_DIFRDPTR register do
      not take effect.
    fields:
      - name: --
        bits: 63..40
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: RDPTR
        bits: 39..5
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          Represents the 32B-aligned address of the current
          instruction in the DFA Instruction FIFO in main
          memory. The RDPTR must be seeded by software at
          boot time, and is then maintained thereafter
          by DFA HW.
          During the seed write (by SW), RDPTR[6:5]=0,
          since DFA instruction chunks must be 128B aligned.
          During a read (by SW), the 'most recent' contents
          of the RDPTR register are returned at the time
          the NCB-INB bus is driven.
          NOTE: Since DFA HW updates this register, its
          contents are unpredictable in SW (unless
          its guaranteed that no new DoorBell register
          writes have occurred and the DoorBell register is
          read as zero).

      - name: --
        bits: 4..0
        access: RAZ
        reset: --
        typical: --
        description: RESERVED


  - name: DFA_DIFCTL
    title: DFA Instruction FIFO (DIF) Control Register
    address: 0x1370600000000
    bus: NCB
    description: |
      Description:
      NOTE: To write to the DFA_DIFCTL register, a device would issue an IOBST directed at the DFA
      with addr[34:32]=3'b110.
      To read the DFA_DIFCTL register, a device would issue an IOBLD64 directed at the DFA with
      addr[34:32]=3'b110.
      NOTE: This register is intended to ONLY be written once (at power-up). Any future writes could
      cause the DFA and FPA HW to become unpredictable.
      NOTE: If DFA_CONFIG[DTECLKDIS]=1 (DFA-DTE clocks disabled), reads/writes to the DFA_DIFCTL
      register do not take effect.
      NOTE: If FUSE[TBD]="DFA DTE disable" is blown, reads/writes to the DFA_DIFCTL register do not
      take effect.
    attributes:
      dv_fc_scratch: "ALL"
    fields:
      - name: --
        bits: 63..26
        access: RAZ
        reset: --
        typical: --
        description: RESERVED

      - name: MSEGBASE
        bits: 25..20
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Memory Segmentation Base Address
          For debug purposes, backdoor accesses to the DFA
          memory are supported via NCB-Direct CSR accesses to
          the DFA Memory REGION(if addr[34:32]=5. However due
          to the existing NCB address decoding scheme, the
          address only offers a 4GB extent into the DFA memory
          REGION. Therefore, the MSEGBASE CSR field provides
          the additional upper memory address bits to allow access
          to the full extent of memory (128GB MAX).
          For DFA Memory REGION read NCB-Direct CSR accesses, the
          38bit L2/DRAM memory byte address is generated as follows:
          memaddr[37:0] = {DFA_DIFCTL[MSEGBASE],ncb_addr[31:3],3'b0}

          NOTE: See the upper 6bits of the memory address are sourced
          from DFA_DIFCTL[MSEGBASE] CSR field. The lower 4GB address
          offset is directly referenced using the NCB address bits during
          the reference itself.
          NOTE: The DFA_DIFCTL[MSEGBASE] is shared amongst all references.
          As such, if multiple PPs are accessing different segments in memory,
          their must be a SW mutual exclusive lock during each DFA Memory
          REGION access to avoid collisions between PPs using the same MSEGBASE
          CSR field.

          NOTE: See also DFA_ERROR[DFANXM] programmable interrupt which is
          flagged if SW tries to access non-existent memory space (address hole
          or upper unused region of 38bit address space).

      - name: DWBCNT
        bits: 19..12
        access: R/W
        reset: 0x1
        typical: --
        description: |
          "Represents the # of cache lines in the instruction
          buffer that may be dirty and should not be
          written-back to memory when the instruction
          chunk is returned to the Free Page list.
          NOTE: Typically SW will want to mark all DFA
          Instruction memory returned to the Free Page list
          as DWB (Don't WriteBack), therefore SW should
          seed this register as:
          DFA_DIFCTL[DWBCNT] = (DFA_DIFCTL[SIZE] + 4)/4"

      - name: POOL
        bits: 11..9
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Represents the 3bit buffer pool-id  used by DFA HW
          when the DFA instruction chunk is recycled back
          to the Free Page List maintained by the FPA HW
          (once the DFA instruction has been issued).

      - name: SIZE
        bits: 8..0
        access: R/W
        reset: 0x3
        typical: --
        description: |
          "Represents the # of 32B instructions contained
          within each DFA instruction chunk. At Power-on,
          SW will seed the SIZE register with a fixed
          chunk-size. (Must be at least 3)
          DFA HW uses this field to determine the size
          of each DFA instruction chunk, in order to:
          a) determine when to read the next DFA
          instruction chunk pointer which is
          written by SW at the end of the current
          DFA instruction chunk (see DFA description
          of next chunk buffer Ptr for format).
          b) determine when a DFA instruction chunk
          can be returned to the Free Page List
          maintained by the FPA HW."


  - name: DFA_MEMHIDAT
    title: DFA NCB-Direct CSR access to DFM Memory Space (High QW)
    address: 0x1370700000000
    bus: NCB
    description: |
      Description:
      DFA supports NCB-Direct CSR acccesses to DFM Memory space for debug purposes. Unfortunately,
      NCB-Direct accesses
      are limited to QW-size(64bits), whereas the minimum access granularity for DFM Memory space is
      OW(128bits). To
      support writes to DFM Memory space, the Hi-QW of data is sourced from the DFA_MEMHIDAT
      register. Recall, the
      OW(128b) in DDR3 memory space is fixed format:
      OWDATA[127:118]: OWECC[9:0] 10bits of in-band OWECC SEC/DED codeword
      This can be precomputed/written by SW OR
      if DFM_FNTCTL[ECC_WENA]=1, DFM hardware will auto-compute the 10b OWECC and place in the
      OWDATA[127:118] before being written to memory.
      OWDATA[117:0]:   Memory Data (contains fixed MNODE/MONODE arc formats for use by DTEs(thread
      engines).
      Or, a user may choose to treat DFM Memory Space as 'scratch pad' in which case the
      OWDATA[117:0] may contain user-specified information accessible via NCB-Direct CSR mode
      accesses to DFA Memory Space.
      NOTE: To write to the DFA_MEMHIDAT register, a device would issue an IOBST directed at the DFA
      with addr[34:32]=3'b111.
      To read the DFA_MEMHIDAT register, a device would issue an IOBLD64 directed at the DFA with
      addr[34:32]=3'b111.
      NOTE: If DFA_CONFIG[DTECLKDIS]=1 (DFA-DTE clocks disabled), reads/writes to the DFA_MEMHIDAT
      register do not take effect.
      NOTE: If FUSE[TBD]="DFA DTE disable" is blown, reads/writes to the DFA_MEMHIDAT register do
      not take effect.
      NOTE: PLEASE REMOVE DEFINITION FROM o68/o61 HRM
    fields:
      - name: HIDAT
        bits: 63..0
        access: R/W
        reset: --
        typical: --
        description: |
          DFA Hi-QW of Write data during NCB-Direct DFM DDR3
          Memory accesses.
          All DFM DDR3 memory accesses are OW(128b) references,
          and since NCB-Direct Mode writes only support QW(64b),
          the Hi QW of data must be sourced from a CSR register.
          NOTE: This single register is 'shared' for ALL DFM
          DDR3 Memory writes.
          For o68/o61: This register is UNUSED. Treat as spare bits.
          NOTE: PLEASE REMOVE DEFINITION FROM o68/o61 HRM



