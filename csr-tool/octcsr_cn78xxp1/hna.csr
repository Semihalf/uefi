# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: HNA
enums:
  - name: HNA_INTSN_E
    attributes:
      width: "20"
    description: Enumerates the different HNA generated interrupts.
    values:
      - name: HNA_ERROR_DBLOVF
        value: 0x47000
        attributes:
          cib_rtl_module: "hna"
        description: See HNA_ERROR[DBLOVF].

      - name: HNA_ERROR_DLC0_OVFERR
        value: 0x4700D
        attributes:
          cib_rtl_module: "hna"
        description: See HNA_ERROR[DLC0_OVFERR].

      - name: HNA_ERROR_DLC1_OVFERR
        value: 0x4700E
        attributes:
          cib_rtl_module: "hna"
        description: See HNA_ERROR[DLC1_OVFERR].

      - name: HNA_ERROR_HNANXM
        value: 0x47011
        attributes:
          cib_rtl_module: "hna"
        description: See HNA_ERROR[HNANXM].

      - name: HNA_ERROR_REPLERR
        value: 0x47012
        attributes:
          cib_rtl_module: "hna"
        description: See HNA_ERROR[REPLERR].

      - name: HNA_ERROR_OSMERR
        value: 0x47013
        attributes:
          cib_rtl_module: "hna"
        description: See HNA_ERROR[OSMERR].


registers:
  - name: HNA_CONFIG
    title: HNA Configuration Register
    address: 0x1180047000000
    bus: RSL
    description: |
      Description: This register specifies the HNA HPU programmable controls.
    fields:
      - name: --
        bits: 63..25
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: STK_LL_DIS
        bits: 24
        access: R/W
        reset: 1
        typical: 1
        description: |
          Stack Linked-List Disable.
          When set, the linked-list mechanism for run stack
          and save stack structures will be disabled.  In this mode,
          the linked-list chunk boundary checking is not done, and
          therefore the previous/next pointers are non-existent.  The
          stacks are effectively in an infinite linear buffer, bounded
          only by the maximum sizes provided in the instruction
          (IWORD3[RUNSTACKSZ] and IWORD6[SVSTACKSZ]).  There is no
          space reserved for the previous and next pointers, and
          [STK_CHKSZ] will be ignored.

          When the STK_LL_DIS is cleared, the stack linked-list mechanism
          will operate as per spec.

      - name: --
        bits: 23
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: STK_CHKSZ
        bits: 22..20
        access: R/W
        reset: 0x3
        typical: 0x3
        description: |
          Stack Chunk Size
          This encoded value specifies the chunk size for both the RNSTK/SVSTK data structures.
          The RNSTK/SVSTK use a doubly linked list where EACH Chunk's first two 64bit
          entries contain the PREVIOUS and NEXT chunk pointers.
          0: 32 entries or 256 bytes
          1: 64 entries or 512 Bytes
          2: 128 entries or 1K bytes
          3: 256 entries or 2K bytes    <= DEFAULT power on
          4: 512 entries or 4K bytes
          5: 1024 entries or 8K bytes
          6: 2048 entries or 16K bytes
          7: 4096 entries or 32K bytes
          NOTE: This field can only be changed at initialization/power on time before
          the HNA is fed instructions.

      - name: RNSTK_LWM
        bits: 19..16
        access: R/W
        reset: 0x1
        typical: 0x1
        description: |
          "RNSTK Low Water Mark
          This field specifies the low watermark for the run stack. Valid Range: [0..15]
          Once the run stack goes below the low water mark, HNA will fill entries from the
          global run stack head to the local run stack tail.
          The granularity of this field is represented as #of 128B cachelines.
          NOTE: This field can only be changed at initialization/power on time before
          the HNA is fed instructions."

      - name: RNSTK_HWM
        bits: 15..12
        access: R/W
        reset: 0xe
        typical: 0xe
        description: |
          "RNSTK High Water Mark
          This field specifies the hi watermark for the run stack. Valid Range: [0..15]
          Once the local run stack level goes above the hi water mark, the HNA will spill
          entries from the local run stack tail to the global run stack head (in DDR memory).
          The granularity of this field is represented as #of 128B cachelines.
          NOTE: This field can only be changed at initialization/power on time before
          the HNA is fed instructions."

      - name: --
        bits: 11..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: ECCCORDIS
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: |
          ECC Correction Disable
          When set, all HNA ECC protected data structures will disable their ECC correction
          logic. When clear (default) ECC correction is always enabled.

      - name: CLMSKCRIP
        bits: 7..4
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          Cluster Cripple Mask
          A one in each bit of the mask represents which HPC cluster to
          cripple. o78 HNA has 4 clusters, where all CLMSKCRIP mask bits are used.
          SWNOTE: The MIO_FUS___HNA_CLMASK_CRIPPLE[3:0] fuse bits will
          be forced into this register at reset. Any fuse bits that
          contain '1' will be disallowed during a write and will always
          be read as '1'.

      - name: HPU_CLCRIP
        bits: 3..1
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          "HPU Cluster Cripple
          Encoding which represents #of HPUs to cripple for each
          cluster. Typically HPU_CLCRIP=0 which enables all HPUs
          within each cluster. However, when the HNA performance
          counters are used, SW may want to limit the #of HPUs
          per cluster available, as there are only 4 parallel
          performance counters.
          HPU_CLCRIP | #HPUs crippled(per cluster)
          -----------+-----------------------------
             0       |  0      HPU[9:0]:ON                   All engines enabled
             1       |  1      HPU[9]:OFF    /HPU[8:0]:ON    (n-1) engines enabled
             2       |  3      HPU[9:7]:OFF  /HPU[6:0]:ON    (n-3) engines enabled
             3       |  4      HPU[9:6]:OFF  /HPU[5:0]:ON    (n-4) engines enabled
             4       |  5      HPU[9:5]:OFF  /HPU[4:0]:ON    (n-5) engines enabled
             5       |  6      HPU[9:4]:OFF  /HPU[3:0]:ON    (n-6) engines enabled
             6       |  8      HPU[9:2]:OFF  /HPU[1:0]:ON    (n-8) engines enabled
             7       |  9      HPU[9:1]:OFF  /HPU[0]:ON      (n-9) single engine enabled
          NOTE: Higher numbered HPUs are crippled first. For instance,
          on o78 (with 10 HPUs/cluster), if HPU_CLCRIP=0x1, then
          HPU#s [9] within the cluster are crippled and only
          HPU#s [8:0] are available.
          IMPNOTE: The encodings are done in such a way as to later
          be used with fuses (for future revisions which will disable
          some #of HPUs). Blowing a fuse has the effect that there will
          always be fewer HPUs available. [ie: we never want a customer
          to blow additional fuses to get more HPUs].
          SWNOTE: The MIO_FUS___HNA_NUMHPU_CRIPPLE[2:0] fuse bits will
          be forced into this register at reset. Any fuse bits that
          contain '1' will be disallowed during a write and will always
          be read as '1'."

      - name: HPUCLKDIS
        bits: 0
        access: R/W/H
        reset: 0
        typical: 0
        description: |
          HNA Clock Disable Source
          When SET, the HNA clocks for HPU(thread engine)
          operation are disabled (to conserve overall chip clocking
          power when the HNA function is not used).
          NOTE: When SET, SW MUST NEVER issue NCB-Direct CSR
          operations to the HNA (will result in NCB Bus Timeout
          errors).
          NOTE: This should only be written to a different value
          during power-on SW initialization.
          SWNOTE: The MIO_FUS___HNA_HPU_DISABLE fuse bit will
          be forced into this register at reset. If the fuse bit
          contains '1', writes to HPUCLKDIS are disallowed and
          will always be read as '1'.


  - name: HNA_HPU_DBG
    title: HNA HPU DBG Register
    address: 0x1180047000008
    bus: RSL
    description: |
      "Description: This register specifies the HPU CSR#, cluster#=CLID and HPU#=HPUID used during a
      a CSR READ of the HNA_HPU_CSR register."
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CSRNUM
        bits: 7..6
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "HPU CSR#
          0: HPU_STATUS
          1: DBG_CURSTK
          2: DBG_GENERAL"

      - name: CLID
        bits: 5..4
        access: R/W
        reset: 0x0
        typical: 0x0
        description: "HPC Cluster# Valid Range=[0..3]"

      - name: HPUID
        bits: 3..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: "HPU Engine ID# Valid Range=[0..11]"


  - name: HNA_HPU_CSR
    title: HNA HPU CSR Register
    address: 0x1180047000010
    bus: RSL
    description: |
      "Description: To read one of the HPU internal CSRs for debug (ie: HPU_STATUS, DBG_CURSTK,
      DBG_GENERAL),
      first a CSR WRITE of the HNA_HPU_DBG is done to specify the HPU CSR#, cluster#=CLID and
      HPU#=HPUID,
      which is followed by a CSR READ of the HPA_HPU_CSR which returns the contents of the specified
      HPU CSR."
    fields:
      - name: CSRDAT
        bits: 63..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: HPU CSR contents specified by the HNA_HPU_DBG CSR.


  - name: HNA_HPU_EIR
    title: HNA HPU Error Insertion Register
    address: 0x1180047000018
    bus: RSL
    description: |
      "Description: Used by SW to force Parity or ECC errors on some internal HPU data structures.
      A CSR WRITE of this register will force either a Parity or ECC error on the next access
      at cluster#=CLID, HPU#=HPUID."
    fields:
      - name: --
        bits: 63..12
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: WRDONE
        bits: 11
        access: RO/H
        reset: 0
        typical: 0
        description: |
          When the HNA_HPU_EIR register is written, this bit will
          be cleared by HW. When the targeted HPU has received
          the error injection command (ie: error injection armed),
          the WRDONE bit will be SET.
          SW will first write the HNA_HPU_EIR register, then do a
          polling read of the WRDONE bit (until it becomes 1),
          before issueing an HNA instruction to the targeted HPU
          which will inject the intended error type for a single
          occurrence (one-shot).

      - name: PDPERR
        bits: 10
        access: R/W
        reset: 0
        typical: 0
        description: |
          Packet Data buffer Parity error
          Forces parity error on next Packet data buffer read.

      - name: SVFLIPSYN
        bits: 9..8
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Save stack flip syndrome control.
          Forces 1-bit/2-bit errors on next save stack read.

      - name: RSFLIPSYN
        bits: 7..6
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Run stack flip syndrome control.
          Forces 1-bit/2-bit errors on next run stack read.

      - name: CLID
        bits: 5..4
        access: R/W
        reset: 0x0
        typical: 0x0
        description: "HPC Cluster# Valid Range=[0..3]"

      - name: HPUID
        bits: 3..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: "HPU Engine ID# Valid Range=[0..11]"


  - name: HNA_CONTROL
    title: HNA Control Register
    address: 0x1180047000020
    bus: RSL
    description: |
      Description: This register specifies the HNA CTL/HNC programmable controls.
    fields:
      - name: --
        bits: 63..13
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FRCPERR
        bits: 12
        access: R/W
        reset: 0
        typical: 0
        description: |
          Force Parity Error during CLOAD (HNC-write)
          When SET, a parity error is forced during the HNC CLOAD
          instruction. SW can force a single line in the HNC to contain
          a parity error by setting this bit and performance a CLOAD
          for a single line (DLEN=32), then clearing the bit.

      - name: SBDNUM
        bits: 11..6
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "SBD Debug Entry#
          INTERNAL:
          HNA Scoreboard debug control
          Selects which one of 48 HNA Scoreboard entries is
          latched into the HNA_SBD_DBG[0-3] registers."

      - name: SBDLCK
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: |
          HNA Scoreboard LOCK Strobe
          INTERNAL:
          HNA Scoreboard debug control
          When written with a '1', the HNA Scoreboard Debug
          registers (HNA_SBD_DBG[0-3]) are all locked down.
          This allows SW to lock down the contents of the entire
          SBD for a single instant in time. All subsequent reads
          of the HNA scoreboard registers will return the data
          from that instant in time.

      - name: --
        bits: 4..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PMODE
        bits: 2
        access: R/W
        reset: 1
        typical: 1
        description: |
          NCB-NRP Arbiter Mode
          (0=Fixed Priority {LP=DFF,HP=RGF}/1=RR
          NOTE: This should only be written to a different value
          during power-on SW initialization.

      - name: QMODE
        bits: 1
        access: R/W
        reset: 1
        typical: 1
        description: |
          NCB-NRQ Arbiter Mode
          (0=Fixed Priority {LP=NPF,IRF,WRF,PRF,RSRF,HP=SLL}/1=RR
          NOTE: This should only be written to a different value
          during power-on SW initialization.

      - name: IMODE
        bits: 0
        access: R/W
        reset: 1
        typical: 1
        description: |
          NCB-Inbound Arbiter
          (0=FP {LP=NRQ,HP=NRP}, 1=RR)
          NOTE: This should only be written to a different value
          during power-on SW initialization.


  - name: HNA_ERROR
    title: HNA Error Status Register
    address: 0x1180047000028
    bus: RSL
    description: |
      Description: This register contains error status information.
    fields:
      - name: --
        bits: 63..20
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: OSMERR
        bits: 19
        access: R/W1C/H
        reset: 0
        typical: 0
        description: OSM reported an Error with the response data.

      - name: REPLERR
        bits: 18
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          HNA Illegal Replication Factor Error
          HNA only supports 1x, 2x, and 4x port replication.
          Legal configurations for memory are to support 2 port or
          4 port configurations.
          The REPLERR interrupt will be set in the following illegal
          configuration cases:
          1) An 8x replication factor is detected for any memory reference.
          2) A 4x replication factor is detected for any memory reference
          when only 2 memory ports are enabled.
          NOTE: If REPLERR is set during a HNA Graph Walk operation,
          then the walk will prematurely terminate with RWORD0[REA]=ERR.
          If REPLERR is set during a NCB-Direct CSR read access to HNA
          Memory REGION, then the CSR read response data is UNPREDICTABLE.

      - name: HNANXM
        bits: 17
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          HNA Non-existent Memory Access
          HPUs (and backdoor CSR HNA Memory REGION reads)
          have access to the following 40bit L2/DRAM address space
          which maps to a 38bit physical DDR3 SDRAM address space [256GB(max)].
          see:
          DR0: 0x0 0000 0000 0000 to 0x0 0000 0FFF FFFF
          maps to lower 256MB of physical DDR3 SDRAM
          DR1: 0x0 0000 2000 0000 to 0x0 0020 0FFF FFFF
          maps to upper 127.75GB of DDR3 SDRAM
          NOTE: the 2nd 256MB HOLE maps to IO and is unused(nonexistent) for memory.

          L2/DRAM address space                     Physical DDR3 SDRAM Address space
          (40bit address)                           (38bit address)
          +-----------+ 0x0040.0FFF.FFFF

          |   DR1     |                            +-----------+ 0x003F.FFFF.FFFF
          |           | (256GB-256MB)
          |           |                     =>     |   DR1
          +-----------+ 0x0000.1FFF.FFFF           |           | (256GB-256MB)
          |   HOLE    | 256MB (DO NOT USE)
          +-----------+ 0x0000.0FFF.FFFF           +-----------+ 0x0000.0FFF.FFFF
          |    DR0    | 256MB                      |   DR0     | (256MB)
          +-----------+ 0x0000.0000.0000           +-----------+ 0x0000.0000.0000

          In the event the HNA generates a reference to the L2/DRAM
          address hole (0x0000.0FFF.FFFF - 0x0000.1FFF.FFFF) the HNANXM
          programmable interrupt bit will be set.
          SWNOTE: Both the 1) SW HNA Graph compiler and the 2) SW NCB-Direct CSR
          accesses to HNA Memory REGION MUST avoid making references
          to this 2nd 256MB HOLE which is non-existent memory region.
          NOTE: If HNANXM is set during a HNA Graph Walk operation,
          then the walk will prematurely terminate with RWORD0[REA]=ERR.
          If HNANXM is set during a NCB-Direct CSR read access to HNA
          Memory REGION, then the CSR read response data is forced to
          128'hBADE_FEED_DEAD_BEEF_FACE_CAFE_BEAD_C0DE. (NOTE: the QW
          being accessed, either the upper or lower QW will be returned).

      - name: --
        bits: 16..15
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DLC1_OVFERR
        bits: 14
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          DLC1 Fifo Overflow Error Detected
          This condition should NEVER architecturally occur, and
          is here in case HW credit/debit scheme is not working.

      - name: DLC0_OVFERR
        bits: 13
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          DLC0 Fifo Overflow Error Detected
          This condition should NEVER architecturally occur, and
          is here in case HW credit/debit scheme is not working.

      - name: --
        bits: 12..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DBLOVF
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Doorbell Overflow detected - Status bit
          When set, the 20b accumulated doorbell register
          had overflowed (SW wrote too many doorbell requests).
          If the DBLINA had previously been enabled(set),
          an interrupt will be posted. Software can clear
          the interrupt by writing a 1 to this register bit.
          NOTE: Detection of a Doorbell Register overflow
          is a catastrophic error which may leave the HNA
          HW in an unrecoverable state.
          Throws HNA_INTSN_E::HNA_ERROR_DBLOVF.


  - name: HNA_SBD_DBG0
    title: "HNA Scoreboard Debug #0 Register"
    address: 0x1180047000040
    bus: RSL
    description: |
      Description: When the HNA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down. Otherwise, the contents of this register are the 'active' contents of the
      HNA Scoreboard at the time of the CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model) on the reads unless the HPU Engine specified by HNA_CONTROL[SBDNUM] has previously been
      assigned an instruction.
    fields:
      - name: SBD
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "HNA ScoreBoard #0 Data
          [63:38]   (26) rptr[28:3]: Result Base Pointer (QW-aligned)
          [37:22]   (16) Cumulative Result Write Counter (for HDR write)
          [21]       (1) Waiting for GRdRsp EOT
          [20]       (1) Waiting for GRdReq Issue (to NRQ)
          [19]       (1) GLPTR/GLCNT Valid
          [18]       (1) Completion Mark Detected
          [17:15]    (3) Completion Code [0=PDGONE/1=PERR/2=RFULL/3=TERM]
          [14]       (1) Completion Detected
          [13]       (1) Waiting for HDR RWrCmtRsp
          [12]       (1) Waiting for LAST RESULT RWrCmtRsp
          [11]       (1) Waiting for HDR RWrReq
          [10]        (1) Waiting for RWrReq
          [9]        (1) Waiting for WQWrReq issue
          [8]        (1) Waiting for PRdRsp EOT
          [7]        (1) Waiting for PRdReq Issue (to NRQ)
          [6]        (1) Packet Data Valid
          [5]        (1) WQVLD
          [4]        (1) WQ Done Point (either WQWrReq issued (for WQPTR<>0) OR HDR RWrCmtRsp)
          [3]        (1) Resultant write STF/P Mode
          [2]        (1) Packet Data LDT mode
          [1]        (1) Gather Mode
          [0]        (1) Valid"


  - name: HNA_SBD_DBG1
    title: "HNA Scoreboard Debug #1 Register"
    address: 0x1180047000048
    bus: RSL
    description: |
      Description: When the HNA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down. Otherwise, the contents of this register are the 'active' contents of the
      HNA Scoreboard at the time of the CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model) on the reads unless the HPU Engine specified by HNA_CONTROL[SBDNUM] has previously been
      assigned an instruction.
    fields:
      - name: SBD
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "HNA ScoreBoard #1 Data
          [63:56]   (8) UNUSED
          [55:16]  (40) Packet Data Pointer
          [15:0]   (16) Packet Data Counter"


  - name: HNA_SBD_DBG2
    title: "HNA Scoreboard Debug #2 Register"
    address: 0x1180047000050
    bus: RSL
    description: |
      Description: When the HNA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down. Otherwise, the contents of this register are the 'active' contents of the
      HNA Scoreboard at the time of the CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model) on the reads unless the HPU Engine specified by HNA_CONTROL[SBDNUM] has previously been
      assigned an instruction.
    fields:
      - name: SBD
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "HNA ScoreBoard #2 Data
          [63:45] (19) UNUSED
          [44:42]  (3) Instruction Type
          [41:5]  (37) rwptr[39:3]: Result Write Pointer
          [4:0]    (5) prwcnt[4:0]: Pending Result Write Counter"


  - name: HNA_SBD_DBG3
    title: "HNA Scoreboard Debug #3 Register"
    address: 0x1180047000058
    bus: RSL
    description: |
      Description: When the HNA_CONTROL[SBDLCK] bit is written '1', the contents of this register
      are locked down. Otherwise, the contents of this register are the 'active' contents of the
      HNA Scoreboard at the time of the CSR read.
      VERIFICATION NOTE: Read data is unsafe. X's(undefined data) can propagate (in the behavioral
      model) on the reads unless the HPU Engine specified by HNA_CONTROL[SBDNUM] has previously been
      assigned an instruction.
    fields:
      - name: SBD
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: |
          "HNA ScoreBoard #3 Data
          [63:52] (11) rptr[39:29]: Result Base Pointer (QW-aligned)
          [52:16] (37) glptr[39:3]: Gather List Pointer
          [15:0]  (16) glcnt Gather List Counter"


  - name: HNA_PFC_GCTL
    title: HNA Performance Counter Global Control
    address: 0x1180047000080
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description: Global control across all performance counters."
    fields:
      - name: --
        bits: 63..12
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT3RCLR
        bits: 11
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #3 Read Clear
          If this bit is set, CSR reads to the HNA_PFC3_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT2RCLR
        bits: 10
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #2 Read Clear
          If this bit is set, CSR reads to the HNA_PFC2_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT1RCLR
        bits: 9
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #1 Read Clear
          If this bit is set, CSR reads to the HNA_PFC1_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT0RCLR
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #0 Read Clear
          If this bit is set, CSR reads to the HNA_PFC0_CNT
          will clear the count value. This allows SW to maintain
          'cumulative' counters to avoid HW wraparound."

      - name: CNT3WCLR
        bits: 7
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #3 Write Clear
          If this bit is set, CSR writes to the HNA_PFC3_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the HNA_PFC3_CNT
          will continue the count from the written value."

      - name: CNT2WCLR
        bits: 6
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #2 Write Clear
          If this bit is set, CSR writes to the HNA_PFC2_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the HNA_PFC2_CNT
          will continue the count from the written value."

      - name: CNT1WCLR
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #1 Write Clear
          If this bit is set, CSR writes to the HNA_PFC1_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the HNA_PFC1_CNT
          will continue the count from the written value."

      - name: CNT0WCLR
        bits: 4
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter #0 Write Clear
          If this bit is set, CSR writes to the HNA_PFC0_CNT
          will clear the count value.
          If this bit is clear, CSR writes to the HNA_PFC0_CNT
          will continue the count from the written value."

      - name: CNT3ENA
        bits: 3
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 3 Enable
          When this bit is set, the performance counter #3
          is enabled."

      - name: CNT2ENA
        bits: 2
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 2 Enable
          When this bit is set, the performance counter #2
          is enabled."

      - name: CNT1ENA
        bits: 1
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 1 Enable
          When this bit is set, the performance counter #1
          is enabled."

      - name: CNT0ENA
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: |
          "Performance Counter 0 Enable
          When this bit is set, the performance counter #0
          is enabled."


  - name: HNA_PFC0_CTL
    title: "HNA Performance Counter#0 Control"
    address: 0x1180047000088
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: "Performance Counter#0 Event Selector (64 total)"

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CLHPU
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#0 Cluster HPU Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster's HPU# for all events
          associated with Performance Counter#0."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#0 Cluster Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#0."


  - name: HNA_PFC0_CNT
    title: "HNA Performance Counter #0"
    address: 0x1180047000090
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "HNA Performance Counter #0
          When HNA_PFC_GCTL[CNT0ENA]=1, the event selected
          by HNA_PFC0_CTL[EVSEL] is counted.
          See also HNA_PFC_GCTL[CNT0WCLR] and HNA_PFC_GCTL
          [CNT0RCLR] for special clear count cases available
          for SW data collection."


  - name: HNA_PFC1_CTL
    title: "HNA Performance Counter#1 Control"
    address: 0x1180047000098
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: "Performance Counter#1 Event Selector (64 total)"

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CLHPU
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#1 Cluster HPU Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster's HPU# for all events
          associated with Performance Counter#1."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#1 Cluster Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#1."


  - name: HNA_PFC1_CNT
    title: "HNA Performance Counter #1"
    address: 0x11800470000A0
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "HNA Performance Counter #1
          When HNA_PFC_GCTL[CNT1ENA]=1, the event selected
          by HNA_PFC1_CTL[EVSEL] is counted.
          See also HNA_PFC_GCTL[CNT1WCLR] and HNA_PFC_GCTL
          [CNT1RCLR] for special clear count cases available
          for SW data collection."


  - name: HNA_PFC2_CTL
    title: "HNA Performance Counter#2 Control"
    address: 0x11800470000A8
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: "Performance Counter#2 Event Selector (64 total)"

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CLHPU
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#2 Cluster HPU Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster's HPU# for all events
          associated with Performance Counter#2."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#2 Cluster Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#2."


  - name: HNA_PFC2_CNT
    title: "HNA Performance Counter #2"
    address: 0x11800470000B0
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "HNA Performance Counter #2
          When HNA_PFC_GCTL[CNT2ENA]=1, the event selected
          by HNA_PFC2_CTL[EVSEL] is counted.
          See also HNA_PFC_GCTL[CNT2WCLR] and HNA_PFC_GCTL
          [CNT2RCLR] for special clear count cases available
          for SW data collection."


  - name: HNA_PFC3_CTL
    title: "HNA Performance Counter#3 Control"
    address: 0x11800470000B8
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EVSEL
        bits: 13..8
        access: R/W
        reset: --
        typical: --
        description: "Performance Counter#3 Event Selector (64 total)"

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CLHPU
        bits: 5..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#3 Cluster HPU Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster's HPU# for all events
          associated with Performance Counter#3."

      - name: CLNUM
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          "Performance Counter#3 Cluster Selector
          When HNA_PFC_GCTL[PMODE]=0 (per-cluster HPU), this field
          is used to select/monitor the cluster# for all events
          associated with Performance Counter#3."


  - name: HNA_PFC3_CNT
    title: "HNA Performance Counter #3"
    address: 0x11800470000C0
    bus: RSL
    description: |
      "*FOR INTERNAL USE ONLY*
      Description:"
    fields:
      - name: PFCNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          "HNA Performance Counter #3
          When HNA_PFC_GCTL[CNT3ENA]=1, the event selected
          by HNA_PFC3_CTL[EVSEL] is counted.
          See also HNA_PFC_GCTL[CNT3WCLR] and HNA_PFC_GCTL
          [CNT3RCLR] for special clear count cases available
          for SW data collection."


  - name: HNA_BIST0
    title: HNA Bist Status (per-HPU)
    address: 0x11800470007F0
    bus: RSL
    description: |
      Description:
    fields:
      - name: --
        bits: 63..60
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: HPC3
        bits: 59..48
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Bist Results for HPC3 RAM(s) (per-HPU)
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 47..44
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: HPC2
        bits: 43..32
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Bist Results for HPC2 RAM(s) (per-HPU)
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 31..28
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: HPC1
        bits: 27..16
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Bist Results for HPC1 RAM(s) (per-HPU)
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 15..12
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: HPC0
        bits: 11..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Bist Results for HPC0 RAM(s) (per-HPU)
          0: GOOD (or bist in progress/never run)
          1: BAD


  - name: HNA_BIST1
    title: HNA Bist Status (Globals)
    address: 0x11800470007F8
    bus: RSL
    description: |
      Description:
    fields:
      - name: --
        bits: 63..7
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: HNC1
        bits: 6
        access: RO/H
        reset: 0
        typical: 0
        description: |
          "SC#1 Bist Results for cumulative HNC1 RAMs
          0: GOOD (or bist in progress/never run)
          1: BAD"

      - name: HNC0
        bits: 5
        access: RO/H
        reset: 0
        typical: 0
        description: |
          "SC#0 Bist Results for cumulative HNC0 RAMs
          0: GOOD (or bist in progress/never run)
          1: BAD"

      - name: MRP1
        bits: 4
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for DSM-DLC:MRP1 RAM
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: MRP0
        bits: 3
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for DSM-DLC:MRP0 RAM
          0: GOOD (or bist in progress/never run)
          1: BAD

      - name: --
        bits: 2..1
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: GIB
        bits: 0
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Bist Results for GIB RAM
          0: GOOD (or bist in progress/never run)
          1: BAD


  - name: HNA_DBELL
    title: HNA Doorbell Register
    address: 0x1470000000000
    bus: NCB
    description: |
      Description:
      NOTE: To write to the HNA_DBELL register, a device would issue an IOBST directed at the HNA
      with addr[34:32] = 0x0 or 0x1.
      To read the HNA_DBELL register, a device would issue an IOBLD64 directed at the HNA with
      addr[34:32] = 0x0 or 0x1.
      NOTE: If HNA_CONFIG[HPUCLKDIS]=1 (HNA-HPU clocks disabled), reads/writes to the HNA_DBELL
      register do not take effect.
      NOTE: If FUSE[TBD]="HNA HPU disable" is blown, reads/writes to the HNA_DBELL register do not
      take effect.
    fields:
      - name: --
        bits: 63..20
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DBELL
        bits: 19..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          Represents the cumulative total of pending
          HNA instructions which SW has previously written
          into the HNA Instruction FIFO (DIF) in main memory.
          Each HNA instruction contains a fixed size 64B
          instruction word which is executed by the HNA HW.
          The DBELL field can hold up to 1M-1 (2^20-1)
          pending HNA instruction requests.
          During a read (by SW), the 'most recent' contents
          of the HNA_DBELL register are returned at the time
          the NCB-INB bus is driven.
          NOTE: Since HNA HW updates this register, its
          contents are unpredictable in SW.


  - name: HNA_DIFRDPTR
    title: HNA Instruction FIFO RDPTR Register
    address: 0x1470200000000
    bus: NCB
    description: |
      Description:
      NOTE: To write to the HNA_DIFRDPTR register, a device would issue an IOBST directed at the HNA
      with addr[34:32] = 0x2 or 0x3.
      To read the HNA_DIFRDPTR register, a device would issue an IOBLD64 directed at the HNA with
      addr[34:32] = 0x2 or 0x3.
      NOTE: If HNA_CONFIG[HPUCLKDIS]=1 (HNA-HPU clocks disabled), reads/writes to the HNA_DIFRDPTR
      register do not take effect.
      NOTE: If FUSE[TBD]="HNA HPU disable" is blown, reads/writes to the HNA_DIFRDPTR register do
      not take effect.
    fields:
      - name: --
        bits: 63..42
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RDPTR
        bits: 41..6
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          Represents the 64B-aligned address of the current
          instruction in the HNA Instruction FIFO in main
          memory. The RDPTR must be seeded by software at
          boot time, and is then maintained thereafter
          by HNA HW.
          During the seed write (by SW), RDPTR[6]=0,
          since HNA instruction chunks must be 128B aligned.
          During a read (by SW), the 'most recent' contents
          of the RDPTR register are returned at the time
          the NCB-INB bus is driven.
          NOTE: Since HNA HW updates this register, its
          contents are unpredictable in SW (unless
          its guaranteed that no new DoorBell register
          writes have occurred and the DoorBell register is
          read as zero).

      - name: --
        bits: 5..0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: HNA_DIFCTL
    title: HNA Instruction FIFO Control Register
    address: 0x1470600000000
    bus: NCB
    description: |
      Description:
      NOTE: To write to the HNA_DIFCTL register, a device would issue an IOBST directed at the HNA
      with addr[34:32]=0x6.
      To read the HNA_DIFCTL register, a device would issue an IOBLD64 directed at the HNA with
      addr[34:32]=0x6.
      NOTE: This register is intended to ONLY be written once (at power-up). Any future writes could
      cause the HNA and FPA HW to become unpredictable.
      NOTE: If HNA_CONFIG[HPUCLKDIS]=1 (HNA-HPU clocks disabled), reads/writes to the HNA_DIFCTL
      register do not take effect.
      NOTE: If FUSE[TBD]="HNA HPU disable" is blown, reads/writes to the HNA_DIFCTL register do not
      take effect.
    fields:
      - name: --
        bits: 63..42
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: AURA
        bits: 41..26
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Represents the 16bit Aura-id  used by HNA HW
          when the HNA instruction chunk is recycled back
          to the Free Page List maintained by the FPA HW
          (once the HNA instruction has been issued).

      - name: --
        bits: 25..13
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LDWB
        bits: 12
        access: R/W
        reset: 1
        typical: --
        description: |
          Load Don't Write Back.
          When set, the HW will issue LDWB command towards the cache when
          fetching last word of instructions, as a result the line will not be written back when
          replaced.
          When clear, the HW will issue regular load towards cache which will cause
          the line to be written back before being replaced.

      - name: --
        bits: 11..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SIZE
        bits: 8..0
        access: R/W
        reset: 0x3
        typical: --
        description: |
          "Represents the # of 64B instructions contained
          within each HNA instruction chunk. At Power-on,
          SW will seed the SIZE register with a fixed
          chunk-size. (Must be at least 3)
          HNA HW uses this field to determine the size
          of each HNA instruction chunk, in order to:
          a) determine when to read the next HNA
          instruction chunk pointer which is
          written by SW at the end of the current
          HNA instruction chunk (see HNA description
          of next chunk buffer Ptr for format).
          b) determine when a HNA instruction chunk
          can be returned to the Free Page List
          maintained by the FPA HW."



