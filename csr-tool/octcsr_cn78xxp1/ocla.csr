# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: OCLA
enums:
  - name: OCLA_INTSN_E
    attributes:
      width: "20"
    description: Enumerates the different generated interrupts.
    values:
      - name: OCLA(0..4)_STATE_OVFL(0..3)
        value: 0xA8000 + a*0x1000 + b
        description: See OCLA(0..4)_STATE_INT[OVFL<b>].

      - name: OCLA(0..4)_STATE_TRIG
        value: 0xA8008 + a*0x1000
        description: See OCLA(0..4)_STATE_INT[TRIG].

      - name: OCLA(0..4)_STATE_MCD(0..2)
        value: 0xA8009 + a*0x1000 + b
        description: See OCLA(0..4)_STATE_INT[MCD<b>].

      - name: OCLA(0..4)_STATE_FSM0_INT
        value: 0xA800C + a*0x1000
        description: See OCLA(0..4)_STATE_INT[FSM0_INT].

      - name: OCLA(0..4)_STATE_FSM1_INT
        value: 0xA800D + a*0x1000
        description: See OCLA(0..4)_STATE_INT[FSM1_INT].

      - name: OCLA(0..4)_STATE_CAPTURED
        value: 0xA800E + a*0x1000
        description: See OCLA(0..4)_STATE_INT[CAPTURED].

      - name: OCLA(0..4)_STATE_TRIGFULL
        value: 0xA800F + a*0x1000
        description: See OCLA(0..4)_STATE_INT[TRIGFULL].

      - name: OCLA(0..4)_STATE_OVERFULL
        value: 0xA8010 + a*0x1000
        description: See OCLA(0..4)_STATE_INT[OVERFULL].

      - name: OCLA(0..4)_STATE_WMARK
        value: 0xA8011 + a*0x1000
        description: See OCLA(0..4)_STATE_INT[WMARK].

      - name: OCLA(0..4)_STATE_DDRFULL
        value: 0xA8012 + a*0x1000
        description: See OCLA(0..4)_STATE_INT[DDRFULL].


structs:
  - name: OCLA_CAP_CTL_S
    description: |
      Control packets are indicated by an entry's bit 37 being set, and described by the
      OCLA_CAP_CTL_S structure:
    fields:
      - name: CYCLE
        bits: 31..0
        description: Cycle at which this control entry was written, from OCLA(0..4)_TIME register.

      - name: SOT0
        bits: 32
        description: |
          Start transaction for low data. When set, CYCLE indicates the cycle number of the next new
          low data, minus one cycle.

      - name: SOT1
        bits: 33
        description: Start transaction for high data.

      - name: EOT0
        bits: 34
        description: |
          End transaction for low data. When set, CYCLE indicates the cycle at which the previous
          entry of low data stopped being replicated. This may be set along with SOT0 to indicate a
          repeat followed by new sequence.

      - name: EOT1
        bits: 35
        description: End transaction for high data.

      - name: --
        bits: 36
        description: Reserved.

      - name: CTL
        bits: 37
        description: Indicates a control word. Always set for control structures.


  - name: OCLA_CAP_DAT_S
    description: |
      Data packets are indicated by an entry's bit 37 being clear, and described by the
      OCLA_CAP_DAT_S structure:
    fields:
      - name: DATA
        bits: 35..0
        description: Captured trace data.

      - name: HI
        bits: 36
        description: Set to indicate a sample of high data, clear for a sample of low data.

      - name: CTL
        bits: 37
        description: Indicates a control word. Always clear for data structures.


registers:
  - name: OCLA(0..4)_CONST
    title: OCLA Constants Registers
    address: 0x11800A8000000 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DAT_SIZE
        bits: 15..0
        access: RO
        reset: 0x2000
        typical: 0x2000
        description: |
          Size of data RAM in units of 36-bit entries. This value is subject to change between chip
          passes, and software should thus use this value rather than a hard coded constant.


  - name: OCLA(0..4)_SFT_RST
    title: OCLA Reset Registers
    address: 0x11800A8000020 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..1
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: RESET
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Reset. When set, causes a block reset, except RSL.


  - name: OCLA(0..4)_BIST_RESULT
    title: OCLA BIST Result Registers
    address: 0x11800A8000040 | a<<24
    bus: RSL
    description: |
      This register provides access to the internal BIST results. Each bit is the BIST result of an
      individual memory (per bit, 0 = pass and 1 = fail).
    fields:
      - name: --
        bits: 63..1
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DAT
        bits: 0
        access: RO
        reset: X
        typical: 0
        description: BIST result of the DAT memory.


  - name: OCLA(0..4)_GEN_CTL
    title: OCLA General Control Registers
    address: 0x11800A8000060 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: EXTEN
        bits: 3
        access: R/W
        reset: 0
        typical: 1
        description: |
          Enable external triggering. When set, external triggering may be used. Must be clear on
          all OCLAs simultaneously to insure that the external trigger can de-assert. INTERNAL: The
          external trigger is a wire-OR with repeater flops and clock crossings, and without the bit
          clear it would stay set forever as each block 'echos' back the same set state.

      - name: DEN
        bits: 2
        access: R/W
        reset: 0
        typical: 1
        description: |
          Enable data bus and counter clocking. When set, the OCLA inbound data bus may be used and
          counters may increment. When clear, the bus is always zero and internal flops may be clock
          gated off to save power. Must be set for normal operation. INTERNAL: When clear, RTL must
          assert that the data bus is zero, to make sure at full chip that no block is 'spamming'
          non-zero OCLA data after reset.

      - name: STT
        bits: 1
        access: R/W
        reset: 0
        typical: --
        description: Store to DDR directly, bypassing L2 cache.

      - name: --
        bits: 0
        access: ---
        reset: --
        typical: --
        description: Reserved.


  - name: OCLA(0..4)_STATE_INT
    title: OCLA State and Interrupt Registers
    address: 0x11800A8000080 | a<<24
    bus: RSL
    fields:
      - name: FSM1_STATE
        bits: 63..60
        access: RO
        reset: 0x0
        typical: --
        description: FSM1 current state.

      - name: FSM0_STATE
        bits: 59..56
        access: RO
        reset: 0x0
        typical: --
        description: FSM0 current state.

      - name: --
        bits: 55..36
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSM1_RST
        bits: 35
        access: R/W1C
        reset: 0
        typical: 0
        description: Writing one resets FSM1 to state zero.

      - name: FSM0_RST
        bits: 34
        access: R/W1C
        reset: 0
        typical: 0
        description: Writing one resets FSM0 to state zero.

      - name: FSM1_ENA
        bits: 33
        access: R/W1C
        reset: 0
        typical: 0
        description: FSM1 sequencing and capturing enabled.

      - name: FSM0_ENA
        bits: 32
        access: R/W1C
        reset: 0
        typical: 0
        description: FSM0 sequencing and capturing enabled.

      - name: --
        bits: 31..19
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DDRFULL
        bits: 18
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          DDR buffer wrapped. Asserted when OCLA(0..4)_STACK_CUR has wrapped and been re-initialized
          to OCLA(0..4)_STACK_BASE.

      - name: WMARK
        bits: 17
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Internal buffer watermark reached. Asserted when OCLA(0..4)_FIFO_DEPTH >=
          OCLA(0..4)_FIFO_LIMIT[WMARK].

      - name: OVERFULL
        bits: 16
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Capture ended due to FIFO overflow. Asserted when OCLA(0..4)_FIFO_DEPTH >=
          OCLA(0..4)_FIFO_LIMIT[OVERFILL].

      - name: TRIGFULL
        bits: 15
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Capture ended due to buffer full. Asserted when OCLA(0..4)_FIFO_TRIG[LIMIT] >=
          OCLA(0..4)_FIFO_TRIG[COUNT].

      - name: CAPTURED
        bits: 14
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Capture started. Asserted when the first capture is made. Informational only; often masked.

      - name: FSM1_INT
        bits: 13
        access: R/W1C/H
        reset: 0
        typical: 0
        description: FSM1 interrupt requested.

      - name: FSM0_INT
        bits: 12
        access: R/W1C/H
        reset: 0
        typical: 0
        description: FSM0 interrupt requested.

      - name: MCD
        bits: 11..9
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Multichip Debug (MCD0..2) set. Asserted on MCD received from another coprocessor or code,
          or FSM MCD request or W1S to OCLA(0..4)_STATE_SET[MCD].

      - name: TRIG
        bits: 8
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Internal trigger set. Asserted on FSM internal trigger request or W1S to OCLA(0..4)_STATE_SET[TRIG]

      - name: --
        bits: 7..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: OVFL
        bits: 3..0
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Match counter has overflowed. Asserted when OCLA(0..4)_MAT(0..3)_COUNT >=
          OCLA(0..4)_MAT(0..3)_THRESH. Informational only; often masked. Writing 1 clears the
          counter, not just the interrupt.


  - name: OCLA(0..4)_STATE_SET
    title: OCLA State Set Registers
    address: 0x11800A80000A0 | a<<24
    bus: RSL
    description: This register reads identically to OCLA(0..4)_STATE_INT, but allows R/W1S instead of R/W1C access.
    fields:
      - name: FSM1_STATE
        bits: 63..60
        access: RO
        reset: 0x0
        typical: --
        description: See OCLA(0..4)_STATE_INT[FSM1_STATE].

      - name: FSM0_STATE
        bits: 59..56
        access: RO
        reset: 0x0
        typical: --
        description: See OCLA(0..4)_STATE_INT[FSM0_STATE].

      - name: --
        bits: 55..36
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSM1_RST
        bits: 35
        access: R/W1S
        reset: 0
        typical: 0
        description: Writing one resets FSM1 to state zero.

      - name: FSM0_RST
        bits: 34
        access: R/W1S
        reset: 0
        typical: 0
        description: Writing one resets FSM0 to state zero.

      - name: FSM1_ENA
        bits: 33
        access: R/W1S
        reset: 0
        typical: 1
        description: See OCLA(0..4)_STATE_INT[FSM1_ENA].

      - name: FSM0_ENA
        bits: 32
        access: R/W1S
        reset: 0
        typical: 1
        description: See OCLA(0..4)_STATE_INT[FSM0_ENA].

      - name: --
        bits: 31..19
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DDRFULL
        bits: 18
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[DDRFULL].

      - name: WMARK
        bits: 17
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[WMARK].

      - name: OVERFULL
        bits: 16
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[OVERFULL].

      - name: TRIGFULL
        bits: 15
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[TRIGFULL].

      - name: CAPTURED
        bits: 14
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[CAPTURED].

      - name: FSM1_INT
        bits: 13
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[FSM1_INT].

      - name: FSM0_INT
        bits: 12
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[FSM0_INT].

      - name: MCD
        bits: 11..9
        access: R/W1S/H
        reset: 0x0
        typical: 0x0
        description: See OCLA(0..4)_STATE_INT[MCD].

      - name: TRIG
        bits: 8
        access: R/W1S/H
        reset: 0
        typical: 0
        description: See OCLA(0..4)_STATE_INT[TRIG].

      - name: --
        bits: 7..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: OVFL
        bits: 3..0
        access: R/W1S/H
        reset: 0x0
        typical: 0x0
        description: See OCLA(0..4)_STATE_INT[OVFL].


  - name: OCLA(0..4)_TIME
    title: OCLA Current Time Registers
    address: 0x11800A80000C0 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: CYCLE
        bits: 31..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: Current time as free running counter. Loaded into captured control packets.


  - name: OCLA(0..4)_RAW(0..1)
    title: OCLA Raw Input Registers
    address: 0x11800A8000100 | a<<24 | b<<3
    bus: RSL
    fields:
      - name: --
        bits: 63..36
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: RAW
        bits: 35..0
        access: RO/H
        reset: --
        typical: --
        description: Raw value of debug bus input signals into OCLA.


  - name: OCLA(0..4)_FIFO_DEPTH
    title: OCLA Capture FIFO Depth Registers
    address: 0x11800A8000200 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DEPTH
        bits: 15..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Current capture FIFO depth in 36-bit words.


  - name: OCLA(0..4)_FIFO_LIMIT
    title: OCLA Capture FIFO Limit Registers
    address: 0x11800A8000240 | a<<24
    bus: RSL
    fields:
      - name: OVERFILL
        bits: 63..48
        access: R/W
        reset: all-ones
        typical: --
        description: |
          Stop level. When OCLA(0..4)_FIFO_DEPTH >= OVERFILL, stop capturing and set
          OCLA(0..4)_STATE_INT[OVERFILL]. This should be set to just less than the FIFO size when
          using DDR capture to insure that overflow can be detected.

      - name: DDR
        bits: 47..32
        access: R/W
        reset: all-ones
        typical: --
        description: |
          DDR level. When OCLA(0..4)_FIFO_DEPTH >= DDR, FIFO entries will be removed, packed into a
          cache line, and overflowed to DDR/L2. All-ones disables overflow to DDR/L2. If non-zero
          must be at least 28.

      - name: BP
        bits: 31..16
        access: R/W
        reset: all-ones
        typical: --
        description: |
          Backpressure level. When OCLA(0..4)_FIFO_DEPTH >= BP, OCLA will signal backpressure to
          coprocessors. All-ones disables indicating backpressure.

      - name: WMARK
        bits: 15..0
        access: R/W
        reset: all-ones
        typical: --
        description: |
          Interrupt watermark level. When OCLA(0..4)_FIFO_DEPTH >= WMARK OCLA will set
          OCLA(0..4)_STATE_INT[WMARK] interrupt. All-ones disables setting the interrupt.


  - name: OCLA(0..4)_FIFO_TAIL
    title: OCLA Capture FIFO Tail Registers
    address: 0x11800A8000260 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: TAIL
        bits: 15..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Address last written into entry FIFO.


  - name: OCLA(0..4)_FIFO_WRAP
    title: OCLA Capture FIFO Wrap Counter Registers
    address: 0x11800A8000280 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: WRAPS
        bits: 31..0
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: Number of times FIFO has wrapped since trigger. Cleared when OCLA(0..4)_STATE_INT[TRIG] clear.


  - name: OCLA(0..4)_FIFO_TRIG
    title: OCLA Capture FIFO Trigger Level Registers
    address: 0x11800A80002A0 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: LIMIT
        bits: 31..16
        access: R/W
        reset: 0x0
        typical: 0x1
        description: |
          Post-trigger number of entries to collect before stopping collection. If zero, collection
          will never stop, which may be desirable when overflowing to DDR/L2.

      - name: CNT
        bits: 15..0
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: Number of entries collected since trigger. Cleared when OCLA(0..4)_STATE_INT[TRIG] clear.


  - name: OCLA(0..4)_STACK_BASE
    title: OCLA Stack Base Registers
    address: 0x11800A8000400 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..42
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: PTR
        bits: 41..7
        access: R/W
        reset: 0x0
        typical: --
        description: Memory address for base of overflow stack. This address must be on the local node in a OCI system.

      - name: --
        bits: 6..0
        access: ---
        reset: --
        typical: --
        description: Reserved. For cache line alignment.


  - name: OCLA(0..4)_STACK_TOP
    title: OCLA Stack Top Address Registers
    address: 0x11800A8000420 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..42
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: PTR
        bits: 41..7
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Memory address for top of overflow stack plus one. This address must be on the local node
          in a OCI system.

      - name: --
        bits: 6..0
        access: ---
        reset: --
        typical: --
        description: Reserved. For cache line alignment.


  - name: OCLA(0..4)_STACK_WRAP
    title: OCLA Stack Wrap Counter Registers
    address: 0x11800A8000440 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: WRAPS
        bits: 31..0
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          Number of times stack has been reset to OCLA(0..4)_STACK_BASE since trigger. Cleared when
          OCLA(0..4)_STATE_INT[TRIG] clear.


  - name: OCLA(0..4)_STACK_STORE_CNT
    title: OCLA Stack Stores Performance Counter Registers
    address: 0x11800A8000460 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: STORES
        bits: 31..0
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: Number of cache line stores sent to memory subsystem. Not cleared by hardware.


  - name: OCLA(0..4)_STACK_CUR
    title: OCLA Stack Current Registers
    address: 0x11800A8000480 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..42
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: PTR
        bits: 41..7
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          Next address to write for overflow stack. This address must be on the local node in a OCI
          system. During initialization this must be between OCLA(0..4)_STACK_BASE and
          OCLA(0..4)_STACK_TOP.

      - name: --
        bits: 6..0
        access: ---
        reset: --
        typical: --
        description: Reserved. For cache line alignment.


  - name: OCLA(0..4)_CDH(0..1)_CTL
    title: OCLA Capture Data Half Control Registers
    address: 0x11800A8000600 | a<<24 | b<<3
    bus: RSL
    fields:
      - name: --
        bits: 63..6
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DUP
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: Retain duplicates in the data stream.

      - name: DIS_STAMP
        bits: 4
        access: R/W
        reset: 0
        typical: 0
        description: Remove time stamps from data stream.

      - name: CAP_CTL
        bits: 3..0
        access: R/W
        reset: 0x2
        typical: 0x2
        description: |
          Minterms that will cause data to be captured. These minterms are the four inputs to a 4-1
          mux selected by PLA1 and 0. The output is thus calulated from the equation:
          out = (    (<3> & PLA1 & PLA0)
          || (<2> & PLA1 & !PLA0)
          || (<1> & !PLA1 & PLA0)
          || (<0> & !PLA1 & !PLA0))
          Common examples:
          0x0 = No capture
          0x2 = Capture when PLA0 requests capture
          0x4 = Capture when PLA1 requests capture
          0x6 = Capture on PLA0 | PLA1
          0x8 = Capture on PLA0 & PLA1
          0xF = Always capture.


  - name: OCLA(0..4)_DAT_POP
    title: OCLA Data Pop Registers
    address: 0x11800A8000800 | a<<24
    bus: RSL
    fields:
      - name: VALID
        bits: 63
        access: RC/H
        reset: 0
        typical: 1
        description: Valid entry. Indicates the FIFO contains data, and equivalent to OCLA(0..4)_FIFO_DEPTH[DEPTH] != 0.

      - name: TRIG
        bits: 62
        access: RO/H
        reset: 0
        typical: 0
        description: Internal trigger set. Equivalent to OCLA(0..4)_STATE_INT[TRIG].

      - name: WMARK
        bits: 61
        access: RO/H
        reset: 0
        typical: 0
        description: Internal buffer watermark reached. Equivalent to OCLA(0..4)_STATE_INT[WMARK].

      - name: --
        bits: 60..38
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: ENTRY
        bits: 37..0
        access: RC/H
        reset: 0x0
        typical: --
        description: |
          Captured entry. If VALID is set, has read side effect of unloading data by decrementing
          OCLA(0..4)_FIFO_DEPTH[DEPTH]. Data is in the format described by OCLA_CAP_DAT_S or
          OCLA_CAP_CTL_S.
          Note that unloading data will cause that data not to be sent to memory, therefore
          OCLA(0..4)_DAT_POP should not be read when OCLA(0..4)_FIFO_LIMIT[DDR] != all-ones.


  - name: OCLA(0..4)_STAGE(0..71)
    title: OCLA Input Staging Registers
    address: 0x11800A8100000 | a<<24 | b<<3
    bus: RSL
    fields:
      - name: --
        bits: 63..3
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DLY
        bits: 2..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Cycles of delay staging to apply to corresponding input bit.


  - name: OCLA(0..4)_MAT(0..3)_CTL
    title: OCLA Matcher Control Registers
    address: 0x11800A8200000 | a<<24 | b<<12
    bus: RSL
    fields:
      - name: --
        bits: 63..8
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSM_CTR
        bits: 7
        access: R/W
        reset: 0
        typical: 1
        description: |
          What output matcher provides to FSM:
          0 = FSM receives raw match signal, asserting only in those cycles with matches.
          1 = FSM receives OCLA(0..4)_MAT(0..3)_COUNT >= OCLA(0..4)_MAT(0..3)_THRESH.

      - name: INC_MATCH
        bits: 6
        access: R/W
        reset: 0
        typical: 1
        description: Increment OCLA(0..4)_MAT(0..3)_COUNT counter automatically on each match.

      - name: SHIFT
        bits: 5..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Right rotation amount to apply to data loaded into OCLA(0..4)_MAT(0..3)_VALUE(0..1)
          register when FSM requests a value load.


  - name: OCLA(0..4)_MAT(0..3)_VALUE(0..1)
    title: OCLA Matcher Compare Value Registers
    address: 0x11800A8210000 | a<<24 | b<<12 | c<<3
    bus: RSL
    fields:
      - name: --
        bits: 63..36
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: MASK
        bits: 35..0
        access: R/W
        reset: 0x0
        typical: --
        description: Data value to compare against when corresponding bits of OCLA(0..4)_MAT(0..3)_MASK(0..1) are set.


  - name: OCLA(0..4)_MAT(0..3)_MASK(0..1)
    title: OCLA Matcher Compare Mask Registers
    address: 0x11800A8220000 | a<<24 | b<<12 | c<<3
    bus: RSL
    fields:
      - name: --
        bits: 63..36
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: MASK
        bits: 35..0
        access: R/W
        reset: 0x0
        typical: --
        description: Bitmask of which bits in OCLA(0..4)_MAT(0..3)_VALUE(0..1) are to be compared.


  - name: OCLA(0..4)_MAT(0..3)_COUNT
    title: OCLA Matcher Count Registers
    address: 0x11800A8230000 | a<<24 | b<<12
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: COUNT
        bits: 31..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          Current counter value. Note software must reset this to zero (or the appropriate count)
          before starting capture.


  - name: OCLA(0..4)_MAT(0..3)_THRESH
    title: OCLA Matcher Count Threshold Registers
    address: 0x11800A8240000 | a<<24 | b<<12
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: THRESH
        bits: 31..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Counter threshold value. Compared against OCLA(0..4)_MAT(0..3)_COUNT to assert matcher
          output, and set OCLA(0..4)_STATE_INT[OVFL].


  - name: OCLA(0..4)_FSM(0..1)_AND(0..15)_I(0..1)
    title: OCLA FSM PLA AND Tree Registers
    address: 0x11800A8300000 | a<<24 | b<<12 | c<<4 | d<<3
    bus: RSL
    description: |
      Values for PLA-AND plane. AND(0..31) represents the 32 allowed AND terms. I(0..1) for I=0
      indicates the term non-inverted, for I=1 indicates the term inverted. Any AND tree may be
      disabled by setting the same bit in both _I(0) and _I(1), as '((1) & !(1))' is always false.
    fields:
      - name: --
        bits: 63..15
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: MCD
        bits: 14..12
        access: R/W
        reset: 0x0
        typical: --
        description: Multichip Debug (MCD) 0..2 inputs.

      - name: MATCH
        bits: 11..8
        access: R/W
        reset: 0x0
        typical: --
        description: Matcher 0..3 input.

      - name: FSM1_STATE
        bits: 7..4
        access: R/W
        reset: 0x0
        typical: --
        description: FSM 1 last state.

      - name: FSM0_STATE
        bits: 3..0
        access: R/W
        reset: 0x0
        typical: --
        description: FSM 0 last state.


  - name: OCLA(0..4)_FSM(0..1)_OR(0..15)
    title: OCLA FSM PLA AND Tree Registers
    address: 0x11800A8310000 | a<<24 | b<<12 | c<<3
    bus: RSL
    fields:
      - name: --
        bits: 63..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: OR_STATE
        bits: 3..0
        access: R/W
        reset: 0x0
        typical: --
        description: Column to drive on PLA OR-plane.


  - name: OCLA(0..4)_FSM(0..1)_STATE(0..15)
    title: OCLA FSM State Registers
    address: 0x11800A8320000 | a<<24 | b<<12 | c<<3
    bus: RSL
    description: See State Outputs for more details on each of these actions.
    fields:
      - name: --
        bits: 63..30
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: SET_INT
        bits: 29
        access: R/W
        reset: 0
        typical: 0
        description: In this state set interrupt.

      - name: CAP
        bits: 28
        access: R/W
        reset: 0
        typical: 1
        description: In this state request capture this cycle.

      - name: SET_MCD
        bits: 27..25
        access: R/W
        reset: 0x0
        typical: 0x0
        description: In this state set MCD.

      - name: SET_TRIG
        bits: 24
        access: R/W
        reset: 0
        typical: 0
        description: In this state set internal trigger indication.

      - name: --
        bits: 23..20
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: SET_VAL
        bits: 19..16
        access: R/W
        reset: 0x0
        typical: 0x0
        description: In this state store match value into matcher 0..3.

      - name: --
        bits: 15..12
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: CLR_CNT
        bits: 11..8
        access: R/W
        reset: 0x0
        typical: 0x0
        description: In this state clear match counter.

      - name: --
        bits: 7..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: INC_CNT
        bits: 3..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          In this state increment match counter. See State Outputs for more information on this or
          any of the bits above.


  - name: OCLA(0..4)_DAT(0..8191)
    title: OCLA Data Registers
    address: 0x11800A8400000 | a<<24 | b<<3
    bus: RSL
    fields:
      - name: --
        bits: 63..38
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: ENTRY
        bits: 37..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Captured entry. Data is in the format described by OCLA_CAP_DAT_S or OCLA_CAP_CTL_S.



