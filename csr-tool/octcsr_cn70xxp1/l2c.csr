# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: L2C
description: |
  Octeon III L2C RSL2 address map

    2 22 211 1111 111 1        |
    3 21 098 7654 321 09876 543|210  byte address
    -+--+---+----+---+-----+---+---
    1 00 000        0          |     Octeon III common registers
    1 00 000        1          |     Octeon III CMB PFC registers
    1 00 001                   |     Octeon III way partitioning registers
    1 00 010                   |     Octeon III QOS registers
    1 00 011                   |
    1 00 100                   |
    1 00 101                   |
    1 01 000 0                 |     Octeon III TAD0 registers
    1 01 000 1                 |     Octeon III TAD0 debug registers
    1 01 001                   |     Octeon III TAD1 registers
    1 01 010                   |     Octeon III TAD2 registers
    1 01 011                   |     Octeon III TAD3 registers
    1 01 100                   |     Octeon III TAD4 registers
    1 01 101                   |     Octeon III TAD5 registers
    1 01 110                   |     Octeon III TAD6 registers
    1 01 111                   |     Octeon III TAD7 registers
    1 10 000                   |     Octeon III MCI0 registers
    1 10 001                   |     Octeon III MCI1 registers
    1 10 010                   |     Octeon III MCI2 registers
    1 10 011                   |     Octeon III MCI3 registers
    1 11 000                   |     Octeon III CBC0 registers
    1 11 001                   |     Octeon III CBC1 registers
    1 11 010                   |     Octeon III CBC2 registers
    1 11 011                   |     Octeon III CBC3 registers
    -+--+---+----+---+-----+---+---
attributes:
  dv_fc_regs_extends: "l2c_pkg::l2c_rsl_reg_block_c"
enums:
  - name: IOC_CMD_E
    title: |
      INTERNAL: IOC Command Enumeration
    attributes:
      parent_block_override: "L2C"
      width: "4"
    description: Enumerates the different IOC command encodings.
    values:
      - name: IDLE
        value: 0x0
        description: Idle cycle.

      - name: STORE
        value: 0x1
        description: Store of size 1-8 bytes.

      - name: LOAD
        value: 0x2
        description: Load of size 1-8 bytes.

      - name: LMTST
        value: 0x3
        description: Store of size 1-16 quadwords.

      - name: IOBDMA
        value: 0x4
        description: Load of size 1-16 quadwords.

      - name: LMTDMA
        value: 0x5
        description: Store of size 1-16 quadwords, followed by load of size 1-16 quadwords (atomic).

      - name: ADDR
        value: 0x6
        description: Send address only (i.e. store of size 0 quadwords).

      - name: SLIST
        value: 0x7
        description: Store of size 1-8 bytes, initiated by remote SLI.

      - name: SLILD
        value: 0x8
        description: Load of size 1-8 bytes, initiated by remote SLI.


  - name: IOR_CMD_E
    title: |
      INTERNAL: IOR Command Enumeration
    attributes:
      parent_block_override: "L2C"
      width: "2"
    description: Enumerates the different IOR command encodings.
    values:
      - name: IDLE
        value: 0x0
        description: Idle cycle.

      - name: DATA
        value: 0x1
        description: Response data return for IOC_LOAD, IOC_IOBDMA, IOC_LMTDMA.

      - name: PREF
        value: 0x2
        description: L1D prefetch request to core from coprocessor.

      - name: SLIRSP
        value: 0x3
        description: Response data return for IOC_SLILD.


  - name: L2C_DAT_ERRPRIO_E
    title: L2C Quad Error Priority Enumeration
    attributes:
      width: "3"
    description: Enumerates the different quad error priorities
    values:
      - name: NBE
        value: 0x0
        description: No error.

      - name: FBFSBE
        value: 0x1
        description: FBF single-bit error.

      - name: SBFSBE
        value: 0x2
        description: SBF single-bit error.

      - name: L2DSBE
        value: 0x3
        description: L2D single-bit error.

      - name: FBFDBE
        value: 0x4
        description: FBF double-bit error.

      - name: SBFDBE
        value: 0x5
        description: SBF double-bit error.

      - name: L2DDBE
        value: 0x6
        description: L2D double-bit error.


  - name: L2C_INTSN_E
    title: |
      INTERNAL: L2C Interrupt Source Enumeration
    attributes:
      width: "20"
    description: Enumerates the different interrupts from L2C.
    values:
      - name: L2C_TAD(0..0)_INT_L2DSBE
        value: 0x80000 | a<<8
        attributes:
          cib_rtl_minor_width: "3"
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[L2DSBE].

      - name: L2C_TAD(0..0)_INT_L2DDBE
        value: 0x80001 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[L2DDBE].

      - name: L2C_TAD(0..0)_INT_SBFSBE
        value: 0x80002 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[SBFSBE].

      - name: L2C_TAD(0..0)_INT_SBFDBE
        value: 0x80003 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[SBFDBE].

      - name: L2C_TAD(0..0)_INT_FBFSBE
        value: 0x80004 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[FBFSBE].

      - name: L2C_TAD(0..0)_INT_FBFDBE
        value: 0x80005 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[FBFDBE].

      - name: L2C_TAD(0..0)_INT_TAGSBE
        value: 0x80006 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[TAGSBE].

      - name: L2C_TAD(0..0)_INT_TAGDBE
        value: 0x80007 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[TAGDBE].

      - name: L2C_TAD(0..0)_INT_NOWAY
        value: 0x80008 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[NOWAY].

      - name: L2C_TAD(0..0)_INT_HOLEWR
        value: 0x80009 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[HOLEWR].

      - name: L2C_TAD(0..0)_INT_HOLERD
        value: 0x8000A | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[HOLERD].

      - name: L2C_TAD(0..0)_INT_BIGWR
        value: 0x8000B | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[BIGWR].

      - name: L2C_TAD(0..0)_INT_BIGRD
        value: 0x8000C | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[BIGRD].

      - name: L2C_TAD(0..0)_INT_WRDISLMC
        value: 0x8000D | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[WRDISLMC].

      - name: L2C_TAD(0..0)_INT_RDDISLMC
        value: 0x8000E | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[RDDISLMC].

      - name: L2C_TAD(0..0)_INT_RTGSBE
        value: 0x8000F | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[RTGSBE].

      - name: L2C_TAD(0..0)_INT_RTGDBE
        value: 0x80010 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_TAD(0..0)_INT[RTGDBE].

      - name: L2C_MCI(0..0)_INT_VBFSBE
        value: 0x80800 | a<<8
        attributes:
          cib_rtl_minor_width: "4"
          intsn_lsb_mismatch: "True"
        description: See L2C_MCI(0..0)_INT[VBFSBE].

      - name: L2C_MCI(0..0)_INT_VBFDBE
        value: 0x80801 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_MCI(0..0)_INT[VBFDBE].

      - name: L2C_CBC(0..0)_INT_RSDSBE
        value: 0x80C00 | a<<8
        attributes:
          cib_rtl_minor_width: "4"
          intsn_lsb_mismatch: "True"
        description: See L2C_CBC(0..0)_INT[RSDSBE].

      - name: L2C_CBC(0..0)_INT_RSDDBE
        value: 0x80C01 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_CBC(0..0)_INT[RSDDBE].

      - name: L2C_CBC(0..0)_INT_IOCCMDSBE
        value: 0x80C02 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_CBC(0..0)_INT[IOCCMDSBE].

      - name: L2C_CBC(0..0)_INT_IOCCMDDBE
        value: 0x80C03 | a<<8
        attributes:
          intsn_lsb_mismatch: "True"
        description: See L2C_CBC(0..0)_INT[IOCCMDDBE].


  - name: L2C_TAD_PRF_SEL_E
    title: L2C TAD Performance Counter Select Enumeration
    attributes:
      width: "8"
    description: Enumerates the different TAD performance counter selects.
    values:
      - name: "NONE"
        value: 0x00
        description: Nothing (disabled).

      - name: L2T_HIT
        value: 0x01
        description: L2 tag hit.

      - name: L2T_MISS
        value: 0x02
        description: L2 tag miss.

      - name: L2T_NOALLOC
        value: 0x03
        description: L2 tag no-allocate (forced).

      - name: L2_VIC
        value: 0x04
        description: L2 victim.

      - name: SC_FAIL
        value: 0x05
        description: Store-conditional fail.

      - name: SC_PASS
        value: 0x06
        description: Store-conditional pass.

      - name: LFB_OCC
        value: 0x07
        description: LFB occupancy (each cycle adds number of LFBs valid).

      - name: WAIT_LFB
        value: 0x08
        description: LFB wait LFB (each cycle adds number of LFBs waiting for other LFBs).

      - name: WAIT_VAB
        value: 0x09
        description: LFB wait VAB (each cycle adds number of LFBs waiting for VAB).

      - name: QD(0..1)_IDX
        value: 0x80 | a<<4
        description: Quad(0..1) index bus inuse.

      - name: QD(0..1)_RDAT
        value: 0x81 | a<<4
        description: Quad(0..1) read data bus inuse.

      - name: QD(0..1)_BNKS
        value: 0x82 | a<<4
        description: Quad(0..1) number of banks inuse (0-4/cycle).

      - name: QD(0..1)_WDAT
        value: 0x83 | a<<4
        description: Quad(0..1) write data flops inuse (0-4/cycle).


  - name: L2C_TAG_ERRPRIO_E
    title: L2C Tag Error Priority Enumeration
    attributes:
      width: "2"
    description: Enumerates the different TAG error priorities.
    values:
      - name: NBE
        value: 0x0
        description: No error.

      - name: NOWAY
        value: 0x1
        description: TAG NOWAY error.

      - name: SBE
        value: 0x2
        description: TAG single-bit error.

      - name: DBE
        value: 0x3
        description: TAG double-bit error.


  - name: RSC_CMD_E
    title: |
      INTERNAL: RSC Command Enumeration
    attributes:
      parent_block_override: "L2C"
      width: "3"
    description: Enumerates the different RSC command encodings.
    values:
      - name: NOP
        value: 0x0
        description: No operation.

      - name: IFDN
        value: 0x1
        description: Filling data, last fill, must write L1T invalid.

      - name: FILL
        value: 0x2
        description: Filling data, but not the last.

      - name: FLDN
        value: 0x3
        description: Filling data, last fill.

      - name: STDN
        value: 0x4
        description: Store commit.

      - name: PREF
        value: 0x5
        description: Prefetch from NCB/IOR.

      - name: SCDN
        value: 0x6
        description: Store conditional pass/commit.

      - name: SCFL
        value: 0x7
        description: Store conditional fail/commit.


  - name: XMC_CMD_E
    title: |
      INTERNAL: XMC Command Enumeration
    attributes:
      parent_block_override: "L2C"
      width: "7"
    description: Enumerates the different XMC command encodings.
    values:
      - name: NOP
        value: 0x00
        description: No operation.

      - name: LDT
        value: 0x01
        description: Don't allocate L2 or L1

      - name: LDI
        value: 0x02
        description: Don't allocate L1

      - name: PL2
        value: 0x03
        description: Prefetch L2

      - name: RPL2
        value: 0x04
        description: Mark for replacement in L2

      - name: DWB
        value: 0x05
        description: Clear L2 dirty bit (no writeback) + RPL2

      - name: LDY
        value: 0x06
        description: synonym for LDT

      - name: LDD
        value: 0x08
        description: Normal load

      - name: PSL1
        value: 0x09
        description: Prefetch L1, bypass L2

      - name: LDC
        value: 0x0A
        description: reserved, not currently implemented

      - name: LDE
        value: 0x0B
        description: synonym for LDD

      - name: LDWB
        value: 0x0D
        description: synonym for LDT

      - name: STY
        value: 0x0E
        description: synonym for STT

      - name: RSTP
        value: 0x0F
        description: synonym for STP

      - name: STF
        value: 0x10
        description: Full block store to L2, fill zeros

      - name: STT
        value: 0x11
        description: Full block store bypass-L2, fill zeros

      - name: STP
        value: 0x12
        description: Partial store to L2

      - name: STC
        value: 0x13
        description: Partial store to L2, if duptag valid

      - name: STFIL1
        value: 0x14
        description: Full block store to L2, fill zeros, self-inval L1

      - name: STTIL1
        value: 0x15
        description: Full block store bypass-L2, fill zeros, self-inval L1

      - name: FAS32
        value: 0x16
        description: fetch and swap 32b quantity, returning old data

      - name: FAS64
        value: 0x17
        description: fetch and swap 64b quantity, returning old data

      - name: WBIL2I
        value: 0x18
        description: Writeback if dirty, invalidate, clear use bit, by index/way

      - name: LTGL2I
        value: 0x19
        description: Read tag at index/way into CSR

      - name: STGL2I
        value: 0x1A
        description: Write tag at index/way from CSR

      - name: WBL2I
        value: 0x1B
        description: Writeback if dirty, make clean, clear use bit, by index/way

      - name: INVL2
        value: 0x1C
        description: Invalidate, clear use bit, by address (dirty data is LOST)

      - name: WBIL2
        value: 0x1D
        description: Writeback if dirty, invalidate, clear use bit, by address

      - name: WBL2
        value: 0x1E
        description: Writeback if dirty, make clean, clear use bit, by address

      - name: LCKL2
        value: 0x1F
        description: Set lock bit, set use bit, by address

      - name: CAS32
        value: 0x22
        description: reserved, not implemented

      - name: CAS64
        value: 0x23
        description: reserved, not implemented

      - name: SAAM132
        value: 0x26
        description: reserved, not implemented

      - name: SAAM164
        value: 0x27
        description: reserved, not implemented

      - name: SET8
        value: 0x28
        description: set 8b word to all 1's, returning old

      - name: SET16
        value: 0x29
        description: set 16b word to all 1's, returning old

      - name: SET32
        value: 0x2A
        description: set 32b word to all 1's, returning old

      - name: SET64
        value: 0x2B
        description: set 64b word to all 1's, returning old

      - name: CLR8
        value: 0x2C
        description: clear 8b word to all 0's, returning old

      - name: CLR16
        value: 0x2D
        description: clear 16b word to all 0's, returning old

      - name: CLR32
        value: 0x2E
        description: clear 32b word to all 0's, returning old

      - name: CLR64
        value: 0x2F
        description: clear 64b word to all 0's, returning old

      - name: INCR8
        value: 0x30
        description: increment 8b word, returning old

      - name: INCR16
        value: 0x31
        description: increment 16b word, returning old

      - name: INCR32
        value: 0x32
        description: increment 32b word, returning old

      - name: INCR64
        value: 0x33
        description: increment 64b word, returning old

      - name: DECR8
        value: 0x34
        description: decrement 8b word, returning old

      - name: DECR16
        value: 0x35
        description: decrement 16b word, returning old

      - name: DECR32
        value: 0x36
        description: decrement 32b word, returning old

      - name: DECR64
        value: 0x37
        description: decrement 64b word, returning old

      - name: FAA32
        value: 0x3A
        description: fetch and add 32b word, returning old

      - name: FAA64
        value: 0x3B
        description: fetch and add 62b word, returning old

      - name: SAA32
        value: 0x3E
        description: store and add 32b word, no return data

      - name: SAA64
        value: 0x3F
        description: store and add 64b word, no return data

      - name: IOBLD8
        value: 0x40
        description: I/O 1-byte load.

      - name: IOBLD16
        value: 0x41
        description: I/O 2-byte load.

      - name: IOBLD32
        value: 0x42
        description: I/O 4-byte load.

      - name: IOBLD64
        value: 0x43
        description: I/O 8-byte load.

      - name: IOBST8
        value: 0x44
        description: I/O 1-byte store.

      - name: IOBST16
        value: 0x45
        description: I/O 2-byte store.

      - name: IOBST32
        value: 0x46
        description: I/O 4-byte store.

      - name: IOBST64
        value: 0x47
        description: I/O 8-byte store.

      - name: IOBADDR
        value: 0x48
        description: I/O send address only.

      - name: IOBDMA
        value: 0x49
        description: I/O multi-quadword load.

      - name: LMTST
        value: 0x4A
        description: I/O multi-quadword store.

      - name: LMTDMA
        value: 0x4B
        description: I/O multi-quadword store with multi-quadword load.

      - name: IOBSTA8
        value: 0x64
        description: I/O 1-byte store, with commit.

      - name: IOBSTA16
        value: 0x65
        description: I/O 2-byte store, with commit.

      - name: IOBSTA32
        value: 0x66
        description: I/O 4-byte store, with commit.

      - name: IOBSTA64
        value: 0x67
        description: I/O 8-byte store, with commit.

      - name: IOBADDRA
        value: 0x68
        description: I/O send address only, with commit.

      - name: IOBDMAA
        value: 0x69
        description: I/O multi-quadword load, with commit.

      - name: LMTSTA
        value: 0x6A
        description: I/O multi-quadword store, with commit.

      - name: LMTDMAA
        value: 0x6B
        description: I/O multi-quadword store with multi-quadword load, with commit.


registers:
  - name: L2C_CTL
    title: Level 2 Cache Control Register
    address: 0x1180080800000
    bus: RSL
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: OCLA_QOS
        bits: 31..29
        access: R/W
        reset: 0x7
        typical: 0x7
        description: QOS level for the transactions from OCLA to L2C.

      - name: --
        bits: 28
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DISSTGL2I
        bits: 27
        access: R/W
        reset: 0
        typical: 0
        description: Disable STGL2Is from changing the tags.

      - name: --
        bits: 26..25
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DISCCLK
        bits: 24
        access: R/W
        reset: 0
        typical: 0
        description: Disable conditional clocking in L2C PNR blocks.

      - name: --
        bits: 23..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RSP_ARB_MODE
        bits: 15
        access: R/W
        reset: 0
        typical: 0
        description: |
          Arbitration mode for RSC/RSD bus. 0 = round-robin; 1 = static priority.
          1. IOR data
          2. STIN/FILLs
          3. STDN/SCDN/SCFL

      - name: XMC_ARB_MODE
        bits: 14
        access: R/W
        reset: 0
        typical: 0
        description: |
          Arbitration mode for ADD bus QOS queues. 0 = fully determined through QOS, 1 = QOS0
          highest priority; QOS 1-7 use normal mode.

      - name: RDF_CNT
        bits: 13..6
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Defines the sample point of the LMC response data in the DDR-clock/core-clock crossing.
          For optimal performance set to
          10 * (DDR-clock period/core-clock period) - 1.
          To disable set to 0. All other values are reserved.

      - name: --
        bits: 5..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DISECC
        bits: 1
        access: R/W
        reset: 0
        typical: 0
        description: Tag and data ECC disable.

      - name: DISIDXALIAS
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Index alias disable.


  - name: L2C_QOS_WGT
    title: Level 2 Cache QOS Weight Register
    address: 0x1180080800008
    bus: RSL
    fields:
      - name: WGT7
        bits: 63..56
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 7.

      - name: WGT6
        bits: 55..48
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 6.

      - name: WGT5
        bits: 47..40
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 5.

      - name: WGT4
        bits: 39..32
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 4.

      - name: WGT3
        bits: 31..24
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 3.

      - name: WGT2
        bits: 23..16
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 2.

      - name: WGT1
        bits: 15..8
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 1.

      - name: WGT0
        bits: 7..0
        access: R/W
        reset: 0xff
        typical: 0xff
        description: Weight for QOS level 0.


  - name: L2C_ECC_CTL
    title: L2C ECC Control Register
    address: 0x1180080800010
    bus: RSL
    description: |
      Flip ECC bits to generate single-bit or double-bit ECC errors in all instances of a given
      memory type. Encodings are as follows.
      0x0 = No error.
      0x1 = Single-bit error on ECC[0].
      0x2 = Single-bit error on ECC[1].
      0x3 = Double-bit error on ECC[1:0].
      L2DFLIP allows software to generate L2DSBE, L2DDBE, VBFSBE, and VBFDBE errors for the purposes
      of testing error handling code. When one (or both) of these bits are set, a PL2 that misses in
      the L2 will fill with the appropriate error in the first two OWs of the fill. Software can
      determine which OW pair gets the error by choosing the desired fill order (address<6:5>). A
      PL2 that hits in the L2 will not inject any errors. Therefore sending a WBIL2 prior to the PL2
      is recommended to make a miss likely. (If multiple processors are involved, software must be
      sure that no other processor or I/O device can bring the block into the L2).
      To generate a VBFSBE or VBFDBE, software must first get the cache block into the cache with an
      error using a PL2 that misses the L2. Then a store partial to a portion of the cache block
      without the error must change the block to dirty. Then, a subsequent WBL2/WBIL2/victim will
      trigger the VBFSBE/VBFDBE error.
    fields:
      - name: --
        bits: 63..10
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: L2DFLIP
        bits: 9..8
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Generate an ECC error in the L2D. See note above.

      - name: L2TFLIP
        bits: 7..6
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Generate an ECC error in the L2T.

      - name: RDFFLIP
        bits: 5..4
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Generate an ECC error in RDF memory.

      - name: XMDFLIP
        bits: 3..2
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Generate an ECC error in all corresponding CBC XMD memories.

      - name: IOCCMDFLIP
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Generate an ECC error in all corresponding IOCCMD memories.


  - name: L2C_TAD_CTL
    title: Level 2 Cache TAD Control Register
    address: 0x1180080800018
    bus: RSL
    description: |
      (1a) If MAXLFB is != 0, VBF_THRESH should be less than MAXLFB.

      (1b) If MAXVBF is != 0, VBF_THRESH should be less than MAXVBF.
    fields:
      - name: --
        bits: 63..11
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: VBF_THRESH
        bits: 10..8
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          VBF threshold. When the number of in-use VBFs exceeds this number the L2C TAD increases
          the priority of all its write operations in the LMC.

      - name: --
        bits: 7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MAXVBF
        bits: 6..4
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Maximum VABs/LFBs in use at once (0 means 16, 1-15 as expected).

      - name: --
        bits: 3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MAXLFB
        bits: 2..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Maximum VABs/LFBs in use at once (0 means 8, 1-7 as expected)


  - name: L2C_XMC_CMD
    title: Level 2 Cache ADD Bus Command Register
    address: 0x1180080800028
    bus: RSL
    description: |
      Note the following:
      The ADD bus command chosen must not be a IOB-destined command or operation is UNDEFINED.
      The ADD bus command will have SID forced to IOB, DID forced to L2C, no virtualization checks
      performed (always pass), and xmdmsk forced to 0. Note that this implies that commands that
      REQUIRE a STORE cycle (STP, STC, SAA, FAA, FAS) should not be used or the results are
      unpredictable. The sid=IOB means that the way partitioning used for the command is
      L2C_WPAR_IOB0/1. None of L2C_QOS_IOB0/1, L2C_QOS_PP(0..31), L2C_VIRTID_IOB0/1,
      L2C_VIRTID_PP(0..31) are used for these commands.
      Any FILL responses generated by the ADD bus command are ignored. Generated STINs, however,
      will correctly invalidate the required cores.
      Any L2D read generated by the ADD bus command records the syndrome information in
      L2C_TAD(0..0)_ECC0/1. If ECC is disabled prior to the CSR write, this provides the ability to
      read the ECC bits directly. If ECC is not disabled, this should log zeros (assuming no ECC
      errors were found in the block).
      A write that arrives while the INUSE bit is set will block until the INUSE bit clears. This
      gives software two options when needing to issue a stream of write operations to L2C_XMC_CMD:
      polling on the INUSE bit, or allowing hardware to handle the interlock -- at the expense of
      locking up the RSL bus for potentially tens of cycles at a time while waiting for an available
      LFB/VAB entry. Note that when the INUSE bit clears, the only ordering it implies is that
      software can send another ADD bus command. Subsequent commands may complete out of order
      relative to earlier commands.
      The address written to L2C_XMC_CMD is a physical address. L2C performs hole removal and index
      aliasing (if enabled) on the written address and uses that for the command. This hole
      removed/index aliased address is what is returned on a read of the L2C_XMC_CMD register.
    fields:
      - name: INUSE
        bits: 63
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Set to 1 by hardware upon receiving a write; cleared when command has issued (not
          necessarily completed, but ordered relative to other traffic) and hardware can accept
          another command.

      - name: CMD
        bits: 62..56
        access: R/W
        reset: 0x0
        typical: --
        description: Command to use for simulated ADD bus request. A new request can be accepted.

      - name: --
        bits: 55..47
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: QOS
        bits: 46..44
        access: R/W
        reset: 0x0
        typical: --
        description: QOS level to use for simulated ADD bus request.

      - name: NODE
        bits: 43..40
        access: R/W
        reset: 0x0
        typical: --
        description: Must be zero.

      - name: ADDR
        bits: 39..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Address to use for simulated ADD bus request. (The address written to L2C_XMC_CMD is a
          physical address. L2C performs hole removal and index aliasing (if enabled) on the written
          address and uses that for the command. This hole-removed/index-aliased address is what is
          returned on a read of L2C_XMC_CMD.)


  - name: L2C_BIG_CTL
    title: Level 2 Cache Big Memory Control Register
    address: 0x1180080800030
    bus: RSL
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MAXDRAM
        bits: 7..4
        access: R/W
        reset: 0x9
        typical: 0x4
        description: |
          Amount of configured DRAM.
          0x0 = reserved.
          0x1 = 512 MB.
          0x2 = 1 GB.
          0x3 = 2 GB.
          0x4 = 4 GB.
          0x5 = 8 GB.
          0x6 = 16 GB.
          0x7 = 32 GB.
          0x8 = 64 GB.
          0x9 = 128 GB.
          0xA = 256 GB.
          0xB = 512 GB.
          0xC-0xF= reserved.
          Violations of this limit causes L2C to set L2C_TAD*_INT[BIGRD/BIGWR].
          BIGRD interrupts can occur during normal operation as the cores are allowed to prefetch to
          nonexistent memory locations. Therefore, BIGRD is for informational purposes only.
          When a HOLERD/BIGRD occurs or HOLEWR/BIGWR blocks a store operation, L2C_TAD(0..0)_ERR is
          loaded. L2C_TAD(0..0)_ERR is not locked for a BIGRD, however.

      - name: --
        bits: 3..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DISBIG
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: |
          Disable the BIG/HOLE logic. When set, the BIG/HOLE is logic disabled completely. When
          clear, BIGWR and HOLEWR block stores and BIGRD/HOLERD is reported.


  - name: L2C_COP0_ADR
    title: Level 2 Cache COP0 Address Register
    address: 0x1180080800038
    bus: RSL
    description: |
      Provides the address of the COP0 register to read/write when L2C_COP0_DAT is accessed.

      NOTE: for 78xx, if the PPID is outside the range of 0-47,255 the write will be ignored and
      reads will return 0x2bad2bad2bad2bad

      (1) RD and SEL are as defined in the HRM description of Core Coprocessor 0 registers
      and note 4 below.

      (2) if a COP0 register cannot be accessed by this mechanism the write be silently ignored and
      the read data will be 0x2bad2bad2bad2bad.

      (3) if the PPID is outside the range of 0-47,255 or if the PP in question is in reset
      a write will be ignored and reads will timeout the RSL bus.

      (4) Referring to note (1) above, the following root/rd/sel values are supported:
      NOTE: Put only the "Customer type" in HRM. do not put the "Real type" in HRM.

                   Customer                                           Real
      root rd  sel   type         Description                         type
      ====+===+===+========+=========================================+====
       1    4   2     RO     CP0 Root.UserLocal                        RW
       0    4   2     RO     CP0 Guest.UserLocal                       RW
       1    7   0     RO     CP0 Root.HWREna                           RW
       0    7   0     RO     CP0 Guest.HWREna                          RW
       1    8   1     RO     CP0 Root.BadInstr                         RW
       0    8   1     RO     CP0 Guest.BadInstr                        RW
       1    8   2     RO     CP0 Root.BadInstrP                        RW
       0    8   2     RO     CP0 Guest.BadInstrP                       RW
       1    9   0     RO     CP0 Root.Count                            RW
       1    9   6     RO     CP0 Root.CvmCount                         RW
       1    9   7     RO     CP0 Root.CvmCtl                           RW
       0    9   7     RO     CP0 Guest.CvmCtl                          RW
       1   10   5     RO     CP0 Root.GuestCtl0                        RW
       1   11   0     RO     CP0 Root.Compare                          RW
       0   11   0     RO     CP0 Guest.Compare                         RW
       1   11   4     RO     CP0 Root.GuestCtl0Ext                     RW
       1   11   6     RW     CP0 Root.PowThrottle                      RW
       1   12   0     RO     CP0 Root.Status                           RW
       0   12   0     RO     CP0 Guest.Status                          RW
       1   12   1     RO     CP0 Root.IntCtl                           RO
       0   12   1     RO     CP0 Guest.IntCtl                          RO
       1   12   2     RO     CP0 Root.SRSCtl                           RO
       0   12   2     RO     CP0 Guest.SRSCtl                          RO
       1   12   6     RO     CP0 Root.GuestCtl0                        RW
       1   12   7     RO     CP0 Root.GTOffset                         RW
       1   13   0     RO     CP0 Root.Cause                            RW
       0   13   0     RO     CP0 Guest.Cause                           RW
       1   14   0     RO     CP0 Root.EPC                              RW
       0   14   0     RO     CP0 Guest.EPC                             RW
       1   15   0     RO     CP0 Root.PrID                             RO
       0   15   0     RO     CP0 Guest.PrID                            RO
       1   15   1     RO     CP0 Root.EBase                            RW
       0   15   1     RO     CP0 Guest.EBase                           RW
       1   16   0     RO     PC Issue Debug Info (see details below)   RO
       1   16   1     RO     PC Fetch Debug Info (see details below)   RO
       1   16   2     RO     PC Fill Debug Info (see details below)    RO
       1   16   3     RO     PC Misc Debug Info (see details below)    RO
       1   16   5     RO     PC Committed Info (see details below)     RO
       1   18   0     RO     CP0 Root.WatchLo0                         RW
       1   19   0     RO     CP0 Root.WatchHi0                         RW
       1   22   0     RO     CP0 Root.MultiCoreDebug                   RW
       1   22   1            CP0 Root.ImplDebug                        R0
       1   22   2     RO     CP0 Root.CvmCountOffset                   RW
       1   23   0     RO     CP0 Root.Debug                            RW
       1   23   6     RO     CP0 Root.Debug2                           RO
       1   24   0     RO     CP0 Root.DEPC                             RW
       1   25   0     RO     CP0 Root.PerfCnt Control0                 RW
       1   25   1     RO     CP0 Root.PerfCnt Counter0                 RW
       1   25   2     RO     CP0 Root.PerfCnt Control1                 RW
       1   25   3     RO     CP0 Root.PerfCnt Counter1                 RW
       1   25   4     RO     CP0 Root.PerfCnt Control2                 RW
       1   25   5     RO     CP0 Root.PerfCnt Counter2                 RW
       1   25   6     RO     CP0 Root.PerfCnt Control3                 RW
       1   25   7     RO     CP0 Root.PerfCnt Counter3                 RW
       1   27   0     RO     CP0 Root.CacheErr (icache)                RW
       1   27   2     RO     CP0 Root.IcacheDebug                      RO
       1   28   0     RO     CP0 Root.TagLo (icache)                   RW
       1   28   1     RO     CP0 Root.DataLo (icache)                  RW
       1   29   1     RO     CP0 Root.DataHi (icache)                  RW
       1   30   0     RO     CP0 Root.ErrorEPC                         RW
       0   30   0     RO     CP0 Guest.ErrorEPC                        RW
       1   31   0     RO     CP0 Root.DESAVE                           RW
       1   31   2     RO     CP0 Root.Scratch                          RW
       0   31   2     RO     CP0 Guest.Scratch                         RW
       1   31   3     RO     CP0 Root.Scratch1                         RW
       0   31   3     RO     CP0 Guest.Scratch1                        RW
       1   31   4     RO     CP0 Root.Scratch2                         RW
       0   31   4     RO     CP0 Guest.Scratch2                        RW
       1   31   5     RO     CP0 Root.Scratch3                         RW

      PC Issue Debug Info
       63:2  issue_address<63:2>   // often VA<63:2> (PC) of the next instruction to issue (5a in
      pipeline)
                                   //    but can also be the PC of an instruction
      executing/replaying
                                   //    or can also be a PC being filled into the instruction cache
                                   //    or can also be unpredictable
                                   // <58:50> is a copy of <49>
       1     issue_illegal         // set when issue_address is an illegal PC
       0     issue_delayslot       // set when issue_address is in a delayslot (prior instruction
      may be either taken or not taken)

      PC Fetch Debug Info
       63:0  fetch_address<63:0>   // VA <63:0> (PC) being fetched from the instruction cache (3a in
      pipeline)
                                   // <58:50> is a copy of <49>
                                   // <1:0> RAZ

      PC Fill Debug Info
       63:2  fill_address<63:2>    // VA<63:2> being filled into instruction cache (4a in pipeline)
                                   // valid when waiting_for_ifill is set (see PC Misc Debug Info
      below)
                                   // <58:50> is a copy of <49>
       1     fill_illegal          // set when fill_address is an illegal PC
       0     RAZ

      PC Misc Debug Info
       63:3  RAZ
       2     mem_stall             // stall term from L1 memory system (3a in pipeline)
       1     waiting_for_pfill     // when waiting_for_ifill is set, indicates whether instruction
                                   // cache fill is due to a prefetch (4a in pipeline)
       0     waiting_for_ifill     // set when there is an outstanding instruction cache fill (4a in
      pipeline)

      PC Committed Debug Info
       63    RAZ
       62:55 commit_ASID           // ASID of commit_address
       54:49 commit_address<63:59> // VA<63:59> (PC) of the last committed instruction (11a in
      pipeline)
       48:0  commit_address<48:0>  // VA<48:0> (PC) of last committed instruction (11a in pipeline)
                                   // <1:0> RAZ
    fields:
      - name: --
        bits: 63..24
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PPID
        bits: 23..16
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Core to access; use 0xFF for broadcast write. Broadcast reads are unpredictable.

      - name: --
        bits: 15
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MBZ
        bits: 14..9
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Must be written to zero.

      - name: ROOT
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: If 1, root register is accessed, if 0 guest register is accessed.

      - name: RD
        bits: 7..3
        access: R/W
        reset: 0x0
        typical: 0x0
        description: COP0 register number

      - name: SEL
        bits: 2..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: COP0 sel


  - name: L2C_COP0_DAT
    title: L2C COP0 Data Access Register
    address: 0x1180080800040
    bus: RSL
    description: Provides data access for the COP0 register specified by the L2C_COP0_ADR register.
    fields:
      - name: DATA
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: Data to write to specified COP0 register or return data for a read.


  - name: L2C_XMC(0..0)_PFC
    title: Level 2 Cache ADD bus Performance Counter Registers
    address: 0x1180080800800 + a*0x40
    bus: RSL
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_XMD(0..0)_PFC
    title: Level 2 Cache STORE bus Performance Counter Registers
    address: 0x1180080800808 + a*0x40
    bus: RSL
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_RSC(0..0)_PFC
    title: Level 2 Cache COMMIT Bus Performance Counter Registers
    address: 0x1180080800810 + a*0x40
    bus: RSL
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_RSD(0..0)_PFC
    title: Level 2 Cache FILL Bus Performance Counter Registers
    address: 0x1180080800818 + a*0x40
    bus: RSL
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_INV(0..0)_PFC
    title: Level 2 Cache IOC Performance Counter Registers
    address: 0x1180080800820 + a*0x40
    bus: RSL
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_IOC(0)_PFC
    title: Level 2 Cache IOC Performance Counter Register
    address: 0x1180080800828 + a*0x40
    bus: RSL
    attributes:
      dv_fc_scratch: "ALL"
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_IOR(0)_PFC
    title: Level 2 Cache IOR Performance Counter Register
    address: 0x1180080800830 + a*0x40
    bus: RSL
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_WPAR_PP(0..3)
    title: Level 2 Cache Core Way Partitioning Registers
    address: 0x1180080840000 + a*0x8
    bus: RSL
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MASK
        bits: 3..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Way partitioning mask (1 means do not use). The read value of MASK includes bits set
          because of the L2C cripple fuses.


  - name: L2C_WPAR_IOB(0..0)
    title: Level 2 Cache IOB Way Partitioning Registers
    address: 0x1180080840200 + a*0x8
    bus: RSL
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MASK
        bits: 3..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Way partitioning mask (1 means do not use). The read value of MASK includes bits set
          because of the L2C cripple fuses.


  - name: L2C_QOS_PP(0..3)
    title: Level 2 Cache Core QOS Level Registers
    address: 0x1180080880000 + a*0x8
    bus: RSL
    fields:
      - name: --
        bits: 63..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LVL
        bits: 2..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: QOS level to use for this core.


  - name: L2C_QOS_IOB(0..0)
    title: Level 2 Cache IOB QOS Level Registers
    address: 0x1180080880200 + a*0x8
    bus: RSL
    fields:
      - name: --
        bits: 63..7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DWBLVL
        bits: 6..4
        access: R/W
        reset: 0x0
        typical: 0x0
        description: QOS level for DWB commands.

      - name: --
        bits: 3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LVL
        bits: 2..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: QOS level for non-DWB commands.


  - name: L2C_TAD(0..0)_PRF
    title: Level 2 Cache TAD Performance Counter Control Registers
    address: 0x1180080A00008 + a*0x40000
    bus: RSL
    description: All four counters are equivalent and can use any of the defined selects.
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT3SEL
        bits: 31..24
        access: R/W
        reset: 0x0
        typical: 0x1
        description: Selects event to count for L2C_TAD(0..0)_PFC3. Enumerated by L2C_TAD_PRF_SEL_E.

      - name: CNT2SEL
        bits: 23..16
        access: R/W
        reset: 0x0
        typical: 0x1
        description: Selects event to count for L2C_TAD(0..0)_PFC2. Enumerated by L2C_TAD_PRF_SEL_E.

      - name: CNT1SEL
        bits: 15..8
        access: R/W
        reset: 0x0
        typical: 0x1
        description: Selects event to count for L2C_TAD(0..0)_PFC1. Enumerated by L2C_TAD_PRF_SEL_E.

      - name: CNT0SEL
        bits: 7..0
        access: R/W
        reset: 0x0
        typical: 0x1
        description: Selects event to count for L2C_TAD(0..0)_PFC0. Enumerated by L2C_TAD_PRF_SEL_E.


  - name: L2C_TAD(0..0)_TAG
    title: Level 2 Cache Tag Data Registers
    address: 0x1180080A00010 + a*0x40000
    bus: RSL
    description: This register holds the tag information for LTGL2I and STGL2I commands.
    fields:
      - name: SBLKDTY
        bits: 63..60
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          Sub-block dirty bits. INTERNAL: 70xx does not implement true sub-block dirty bits,
          therefore when L2C_TAD_TAG is written, it is set to all ones if DIRTY is 1, or all zeroes
          if DIRTY is zero. LTGL2I will always result in similar legal values being loaded.

      - name: --
        bits: 59..56
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BUSINFO
        bits: 55..48
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          The businfo bits. Legal values: when [55]==1, we are in idmode and [54:50] must be 0,
          [49:48] are the PPVID of the PP which could be holding the block; when [55]==0, we are in
          bus mask mode and [54:49] must be 0 [48] is 1 if any of the PP's could contain the
          block. Operation is undefined if an STGL2I causes an illegal value to be written to the L2
          TAGs. LTGL2Is will only load legal values into this register.

      - name: --
        bits: 47
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: ECC
        bits: 46..40
        access: R/W/H
        reset: 0x0
        typical: --
        description: The tag ECC

      - name: TAG
        bits: 39..17
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: The tag. The tag is the corresponding bits from the L2C+LMC internal L2/DRAM byte address.

      - name: --
        bits: 16..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: USED
        bits: 3
        access: R/W/H
        reset: 0
        typical: 0
        description: |
          The LRU use bit. If setting the LOCK bit, the USE bit should also be set or the operation
          is undefined.

      - name: VALID
        bits: 2
        access: R/W/H
        reset: 0
        typical: 0
        description: The valid bit

      - name: DIRTY
        bits: 1
        access: R/W/H
        reset: 0
        typical: 0
        description: The dirty bit

      - name: LOCK
        bits: 0
        access: R/W/H
        reset: 0
        typical: 0
        description: |
          The lock bit. If setting the LOCK bit, the USE bit should also be set or the operation is
          undefined.


  - name: L2C_TAD(0..0)_DLL
    title: Level 2 Cache TAD DLL Observability Register
    address: 0x1180080A00018 + a*0x40000
    bus: RSL
    description: This register provides the parameters for DLL observability.
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DLL_SETTING
        bits: 15..4
        access: RO/H
        reset: 0x0
        typical: 0x1
        description: DLL setting.

      - name: DLL_STATE
        bits: 3..1
        access: RO/H
        reset: 0x0
        typical: 0x1
        description: DLL state.

      - name: DLL_LOCK
        bits: 0
        access: RO/H
        reset: 0
        typical: 1
        description: |
          DLL lock: 1 = locked, 0 = unlocked.


  - name: L2C_TAD(0..0)_INT
    title: Level 2 Cache TAD Interrupt Registers
    address: 0x1180080A00028 + a*0x40000
    bus: RSL
    description: This register is for TAD-based interrupts.
    fields:
      - name: --
        bits: 63..34
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RTGDBE
        bits: 33
        access: R/W1C/H
        reset: 0
        typical: 0
        description: RTG double-bit error

      - name: RTGSBE
        bits: 32
        access: R/W1C/H
        reset: 0
        typical: 0
        description: RTG single-bit error

      - name: --
        bits: 31..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: WRDISLMC
        bits: 16
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Illegal write to disabled LMC error. A DRAM write arrived before the LMC(s) were enabled.

      - name: RDDISLMC
        bits: 15
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Illegal read to disabled LMC error. A DRAM read arrived before the LMC(s) were enabled.

      - name: BIGRD
        bits: 14
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Read reference past L2C_BIG_CTL[MAXDRAM] occurred.

      - name: BIGWR
        bits: 13
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Write reference past L2C_BIG_CTL[MAXDRAM] occurred.

      - name: HOLERD
        bits: 12
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Read reference to 256MB hole occurred.

      - name: HOLEWR
        bits: 11
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Write reference to 256MB hole occurred.

      - name: NOWAY
        bits: 10
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          No way was available for allocation. L2C sets NOWAY during its processing of a transaction
          whenever it needed/wanted to allocate a WAY in the L2 cache, but was unable to. When this
          bit = 1, it is (generally) not an indication that L2C failed to complete transactions.
          Rather, it is a hint of possible performance degradation. (For example, L2C must read-
          modify-write DRAM for every transaction that updates some, but not all, of the bytes in a
          cache block, misses in the L2 cache, and cannot allocate a WAY.) There is one 'failure'
          case where L2C sets NOWAY: when it cannot leave a block locked in the L2 cache as part of
          a LCKL2 transaction. See L2C_TTG(0..7)_ERR for logged information.

      - name: TAGDBE
        bits: 9
        access: R/W1C/H
        reset: 0
        typical: 0
        description: TAG double-bit error occurred. See L2C_TTG(0..7)_ERR for logged information.

      - name: TAGSBE
        bits: 8
        access: R/W1C/H
        reset: 0
        typical: 0
        description: TAG single-bit error occurred. See L2C_TTG(0..7)_ERR for logged information.

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FBFDBE
        bits: 5
        access: R/W1C/H
        reset: 0
        typical: 0
        description: FBF double-bit error occurred. See L2C_TQD(0..7)_ERR for logged information.

      - name: FBFSBE
        bits: 4
        access: R/W1C/H
        reset: 0
        typical: 0
        description: FBF single-bit error occurred. See L2C_TQD(0..7)_ERR for logged information.

      - name: SBFDBE
        bits: 3
        access: R/W1C/H
        reset: 0
        typical: 0
        description: SBF double-bit error occurred. See L2C_TQD(0..7)_ERR for logged information.

      - name: SBFSBE
        bits: 2
        access: R/W1C/H
        reset: 0
        typical: 0
        description: SBF single-bit error occurred. See L2C_TQD(0..7)_ERR for logged information.

      - name: L2DDBE
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: L2D double-bit error occurred. See L2C_TQD(0..7)_ERR for logged information.

      - name: L2DSBE
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: L2D single-bit error occurred. See L2C_TQD(0..7)_ERR for logged information.


  - name: L2C_TAD(0..0)_PFC(0..3)
    title: Level 2 Cache TAD Performance Counter Registers
    address: 0x1180080A00400 + a*0x40000 + b*0x8
    bus: RSL
    fields:
      - name: COUNT
        bits: 63..0
        access: R/W/H
        reset: 0x0
        typical: --
        attributes:
          dv_uvm_force_compare: "True"
        description: Current counter value


  - name: L2C_TAD(0..0)_ERR
    title: Level 2 Cache TAD Request Error Info Registers
    address: 0x1180080A007D0 + a*0x40000
    bus: RSL
    description: |
      This register records error information for HOLE* and BIG* interrupts. The first non-BIGRD
      error will lock the register until the logged error type is cleared; BIGRD never locks the
      register.
    fields:
      - name: BIGRD
        bits: 63
        access: RO/H
        reset: 0
        typical: 0
        description: Logged information is for a BIGRD error.

      - name: BIGWR
        bits: 62
        access: RO/H
        reset: 0
        typical: 0
        description: Logged information is for a BIGWR error.

      - name: HOLERD
        bits: 61
        access: RO/H
        reset: 0
        typical: 0
        description: Logged information is for a HOLERD error.

      - name: HOLEWR
        bits: 60
        access: RO/H
        reset: 0
        typical: 0
        description: Logged information is for a HOLEWR error.

      - name: --
        bits: 59..58
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CMD
        bits: 57..51
        access: RO/H
        reset: 0x0
        typical: --
        description: XMC command of request causing error.

      - name: SOURCE
        bits: 50..44
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          XMC 'source' of request causing error. If SOURCE<6>==0, SOURCE<5:0> = PPID else
          SOURCE<3:0> is BUSID of IOB which made the request.

      - name: NODE
        bits: 43..40
        access: RO/H
        reset: 0x0
        typical: --
        description: Always zero.

      - name: ADDR
        bits: 39..0
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          XMC address causing the error. This field is the physical address after hole removal and
          index aliasing (if enabled). (The hole is between DR0 and DR1. Remove the hole by
          subtracting 256MB from all L2/DRAM physical addresses >= 512 MB.)


  - name: L2C_TQD(0..0)_ERR
    title: Level 2 Cache TAD Quad Error Information Registers
    address: 0x1180080A007D8 + a*0x40000
    bus: RSL
    description: |
      This register records error information for all L2D/SBF/FBF errors.
      An error locks the L2DIDX, and SYN fields and set the bit corresponding to the error received.
      DBE errors take priority and overwrite an earlier logged SBE error. Only one of SBE/DBE is set
      at any given time and serves to document which error the L2DIDX/SYN is associated with.
      The syndrome is recorded for DBE errors, though the utility of the value is not clear.
    fields:
      - name: L2DDBE
        bits: 63
        access: RO/H
        reset: 0
        typical: 0
        description: L2DIDX/SYN corresponds to a double-bit L2D ECC error.

      - name: SBFDBE
        bits: 62
        access: RO/H
        reset: 0
        typical: 0
        description: L2DIDX/SYN corresponds to a double-bit SBF ECC error.

      - name: FBFDBE
        bits: 61
        access: RO/H
        reset: 0
        typical: 0
        description: L2DIDX/SYN corresponds to a double-bit FBF ECC error.

      - name: L2DSBE
        bits: 60
        access: RO/H
        reset: 0
        typical: 0
        description: L2DIDX/SYN corresponds to a single-bit L2D ECC error.

      - name: SBFSBE
        bits: 59
        access: RO/H
        reset: 0
        typical: 0
        description: L2DIDX/SYN corresponds to a single-bit SBF ECC error.

      - name: FBFSBE
        bits: 58
        access: RO/H
        reset: 0
        typical: 0
        description: L2DIDX/SYN corresponds to a single-bit FBF ECC error.

      - name: --
        bits: 57..40
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SYN
        bits: 39..32
        access: RO/H
        reset: 0x0
        typical: --
        description: Error syndrome.

      - name: --
        bits: 31..18
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: QDNUM
        bits: 17..15
        access: RO/H
        reset: 0x0
        typical: --
        description: Quad containing the error.

      - name: QDHLF
        bits: 14
        access: RO/H
        reset: 0
        typical: --
        description: Quad half of the containing the error.

      - name: L2DIDX
        bits: 13..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Index within the quad-half containing the error


  - name: L2C_TTG(0..0)_ERR
    title: Level 2 Cache TAD Tag Error Information Registers
    address: 0x1180080A007E0 + a*0x40000
    bus: RSL
    description: |
      Error info for all TAG SBE/DBE/NOWAY errors.

      (1) The priority of errors (lowest to highest) is NOWAY, SBE, DBE. An error will lock the SYN,
      WAY, and L2IDX fields for equal or lower priority errors until cleared by software.

      (2) The syndrome is recorded for DBE errors, though the utility of the value is not clear.

      (3) A NOWAY error does not change the value of the SYN field, and leaves WAY unpredictable.
      L2IDX[16:7] is the L2 block index associated with the command which had no way to allocate.
    fields:
      - name: TAGDBE
        bits: 63
        access: RO/H
        reset: 0
        typical: 0
        description: Information refers to a double-bit TAG ECC error.

      - name: TAGSBE
        bits: 62
        access: RO/H
        reset: 0
        typical: 0
        description: Information refers to a single-bit TAG ECC error.

      - name: NOWAY
        bits: 61
        access: RO/H
        reset: 0
        typical: 0
        description: Information refers to a NOWAY error.

      - name: --
        bits: 60..39
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SYN
        bits: 38..32
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Syndrome for the single-bit error.

      - name: --
        bits: 31..19
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: WAY
        bits: 18..17
        access: RO/H
        reset: 0x0
        typical: --
        description: Way of the L2 block containing the error

      - name: L2IDX
        bits: 16..7
        access: RO/H
        reset: 0x0
        typical: --
        description: Index of the L2 block containing the error

      - name: --
        bits: 6..0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: L2C_TBF(0..0)_BIST_STATUS
    title: Level 2 Cache TAD Quad Buffer BIST Status Registers
    address: 0x1180080A007E8 + a*0x40000
    bus: RSL
    fields:
      - name: VBFFL
        bits: 63..48
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for VBF ({QD7H1,QD7H0, ... , QD0H1, QD0H0})

      - name: SBFFL
        bits: 47..32
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for SBF ({QD7H1,QD7H0, ... , QD0H1, QD0H0})

      - name: FBFRSPFL
        bits: 31..16
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for FBF RSP port ({QD7H1,QD7H0, ... , QD0H1, QD0H0})

      - name: FBFWRPFL
        bits: 15..0
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for FBF WRP port ({QD7H1,QD7H0, ... , QD0H1, QD0H0})


  - name: L2C_TDT(0..0)_BIST_STATUS
    title: Level 2 Cache TAD Data BIST Status Registers
    address: 0x1180080A007F0 + a*0x40000
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: L2DFL
        bits: 15..0
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for L2D ({QD7H1,QD7H0, ... , QD0H1, QD0H0})


  - name: L2C_TTG(0..0)_BIST_STATUS
    title: Level 2 Cache TAD Tag BIST Status Registers
    address: 0x1180080A007F8 + a*0x40000
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RTGFL
        bits: 47..32
        access: RO
        reset: 0x0
        typical: 0x0
        description: Always zero for 70xx.

      - name: --
        bits: 31..18
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LRULFBFL
        bits: 17
        access: RO
        reset: 0
        typical: 0
        description: BIST failure status for LRULFB memory

      - name: LRUFL
        bits: 16
        access: RO
        reset: 0
        typical: 0
        description: BIST failure status for tag LRU

      - name: TAGFL
        bits: 15..0
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for TAG ways.


  - name: L2C_MCI(0..0)_INT
    title: Level 2 Cache MCI Interrupt Registers
    address: 0x1180080C00028 + a*0x40000
    bus: RSL
    description: This register is for MCI-based interrupts.
    fields:
      - name: --
        bits: 63..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: VBFDBE
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: VBF double-bit error occurred. See L2C_MCI(0..3)_ERR for logged information.

      - name: VBFSBE
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: VBF single-bit error occurred. See L2C_MCI(0..3)_ERR for logged information.


  - name: L2C_MCI(0..0)_ERR
    title: Level 2 Cache MCI Error Information Registers
    address: 0x1180080C007F0 + a*0x40000
    bus: RSL
    description: |
      This register records error information for all MCI errors.
      An error locks the VBF4, INDEX, and SYN0/1 fields and set the bit corresponding to the error
      received. VBFDBE errors take priority and will overwrite an earlier logged VBFSBE error. The
      information from exactly one VBF read is present at any given time and serves to document
      which error(s) were present in the read with the highest priority error.
      The syndrome is recorded for DBE errors, though the utility of the value is not clear.
    fields:
      - name: VBFDBE1
        bits: 63
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN1 corresponds to a double-bit VBF ECC error

      - name: VBFDBE0
        bits: 62
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN0 corresponds to a double-bit VBF ECC error

      - name: VBFSBE1
        bits: 61
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN1 corresponds to a single-bit VBF ECC error

      - name: VBFSBE0
        bits: 60
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN0 corresponds to a single-bit VBF ECC error

      - name: --
        bits: 59..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SYN1
        bits: 47..40
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Error syndrome for QW1 ([127:64]).

      - name: SYN0
        bits: 39..32
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          Error syndrome for QW0 ([63:0]).

      - name: --
        bits: 31..12
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: VBF4
        bits: 11
        access: RO/H
        reset: 0
        typical: --
        description: When 1, errors were from VBF (4+a), when 0, from VBF (0+a).

      - name: INDEX
        bits: 10..4
        access: RO/H
        reset: 0x0
        typical: --
        description: VBF index which was read and had the error(s).

      - name: --
        bits: 3..0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: L2C_MCI(0..0)_BIST_STATUS
    title: Level 2 MCI BIST Status (DCLK) Registers
    address: 0x1180080C007F8 + a*0x40000
    bus: RSL
    description: |
      If clear BIST is desired, CLEAR_BIST must be written to 1 before START_BIST is written to 1
      using a separate CSR write operation.
      CLEAR_BIST must not be changed after writing START_BIST to 1 until the BIST operation
      completes (indicated by START_BIST returning to 0) or operation is undefined.
    attributes:
      dv_bist_all_fail_test: "ALL"
    fields:
      - name: START_BIST
        bits: 63
        access: R/W/H
        reset: 0
        typical: 0
        description: When written to 1, starts BIST. Remains 1 until BIST is complete.

      - name: CLEAR_BIST
        bits: 62
        access: R/W
        reset: 0
        typical: 0
        description: When BIST is triggered, run clear BIST.

      - name: --
        bits: 61..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: VBFFL
        bits: 1..0
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for VBF0-1. For 70xx, VBFFL[1] will always be 0.


  - name: L2C_CBC(0..0)_INT
    title: Level 2 Cache CBC Interrupt Registers
    address: 0x1180080E00028 + a*0x40000
    bus: RSL
    description: This register is for CBC-based interrupts.
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: IOCCMDDBE
        bits: 3
        access: R/W1C/H
        reset: 0
        typical: 0
        description: IOCCMD double-bit error occurred. See L2C_CBC(0..3)_IOCERR for logged information.

      - name: IOCCMDSBE
        bits: 2
        access: R/W1C/H
        reset: 0
        typical: 0
        description: IOCCMD single-bit error occurred. See L2C_CBC(0..3)_IOCERR for logged information.

      - name: RSDDBE
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: RSD double-bit error occurred. See L2C_CBC(0..3)_RSDERR for logged information.

      - name: RSDSBE
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: RSD single-bit error occurred. See L2C_CBC(0..3)_RSDERR for logged information.


  - name: L2C_CBC(0..0)_IOCERR
    title: Level 2 Cache CBC Error Information Registers
    address: 0x1180080E007E8 + a*0x40000
    bus: RSL
    description: |
      This register records error information for all CBC IOC errors.
      An error locks the INDEX, and SYN fields and set the bit corresponding to the error received.
      CMDDBE errors take priority and overwrite an earlier logged CMDSBE error. Only one of
      CMDSBE/CMDDBE is set at any given time and serves to document which error the INDEX/SYN is
      associated with.
      The syndrome is recorded for DBE errors, though the utility of the value is not clear.
    fields:
      - name: CMDDBE
        bits: 63
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN corresponds to a double-bit IOCCMD ECC error.

      - name: CMDSBE
        bits: 62
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN corresponds to a single-bit IOCCMD ECC error.

      - name: --
        bits: 61..40
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SYN
        bits: 39..32
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Error syndrome.

      - name: --
        bits: 31..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XMCNUM
        bits: 2..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Indicates the XMC that had the error.


  - name: L2C_CBC(0..0)_RSDERR
    title: Level 2 Cache RSD Error Information Registers
    address: 0x1180080E007F0 + a*0x40000
    bus: RSL
    description: |
      This register records error information for all CBC RSD errors.
      An error locks the INDEX, and SYN fields and set the bit corresponding to the error received.
      RSDDBE errors take priority and overwrite an earlier logged RSDSBE error. Only one of
      RSDSBE/RSDDBE is set at any given time and serves to document which error the INDEX/SYN is
      associated with.
      The syndrome is recorded for DBE errors, though the utility of the value is not clear.
    fields:
      - name: RSDDBE
        bits: 63
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN corresponds to a double-bit RSD ECC error

      - name: RSDSBE
        bits: 62
        access: RO/H
        reset: 0
        typical: 0
        description: INDEX/SYN corresponds to a single-bit RSD ECC error

      - name: --
        bits: 61..40
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SYN
        bits: 39..32
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Error syndrome.

      - name: --
        bits: 31..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TADNUM
        bits: 8..6
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Indicates the TAD FIFO containing the error.

      - name: QWNUM
        bits: 5..4
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Indicates the QW containing the error.

      - name: RSDNUM
        bits: 3..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Indicates the RSD that had the error.


  - name: L2C_CBC(0..0)_BIST_STATUS
    title: Level 2 Cache CBC BIST Status Registers
    address: 0x1180080E007F8 + a*0x40000
    bus: RSL
    attributes:
      dv_bist_all_fail_test: "ALL"
    fields:
      - name: --
        bits: 63..34
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: IOCCMDFL
        bits: 33..32
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for IOCCMD0-1.

      - name: RSDFL
        bits: 31..0
        access: RO
        reset: 0x0
        typical: 0x0
        description: BIST failure status for RSDQW0-31.



