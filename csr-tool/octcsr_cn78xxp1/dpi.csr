# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: DPI
attributes:
  mif_heading2: "DPI"
enums:
  - name: DPI_HDR_PT_E
    title: DPI Header Pointer Type Enumeration
    attributes:
      width: "2"
    description: Enumerates the pointer type in DPI_DMA_INSTR_HDR_S[PT].
    values:
      - name: ZBW_CA
        value: 0x0
        description: |
          Zero-byte-write with cache allocate. DPI_DMA_INSTR_HDR_S[PTR] indicates the byte in memory
          to write. DPI_DMA_CONTROL[B0_LEND] selects the endianness of PTR. When PTR < 64, the
          operation is ignored.

      - name: ZBW_NC
        value: 0x1
        description: |
          Zero-byte-write with no cache allocate. DPI_DMA_INSTR_HDR_S[PTR] indicates the byte in
          memory to write. DPI_DMA_CONTROL[B0_LEND] selects the endianness of PTR. When PTR < 64,
          the operation is ignored.

      - name: WQP
        value: 0x2
        description: |
          Work-queue Pointer. DPI_DMA_INSTR_HDR_S[PTR] is work queue entry pointer for SSO. When PTR
          = 0x0, the operation is ignored.

      - name: CNT
        value: 0x3
        description: |
          Count. DPI_DMA_INSTR_HDR_S[PTR]<5:0> indicates which counter to increment. PTR<5:0>-1
          indicates which counter to increment. Valid values of PTR<5:0> are 1..48. The operation is
          ignored for all other values.


  - name: DPI_INTSN_E
    title: DPI Interrupt Source Enumeration
    attributes:
      width: "20"
    description: Enumerates the different DPI-generated interrupts.
    values:
      - name: DPI_INT_NDERR
        value: 0xDF000
        description: See DPI_INT_REG[NDERR].

      - name: DPI_INT_NFOVR
        value: 0xDF001
        description: See DPI_INT_REG[NFOVR].

      - name: DPI_INT_DMADBO(0..7)
        value: 0xDF008 + a
        attributes:
          exempt_natural_alignment: "a"
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[DMADBO<a>].

      - name: DPI_INT_REQ_BADADR
        value: 0xDF010
        description: See DPI_INT_REG[REQ_BADADR].

      - name: DPI_INT_REQ_BADLEN
        value: 0xDF011
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[REQ_BADLEN].

      - name: DPI_INT_REQ_OVRFLW
        value: 0xDF012
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[REQ_OVRFLW].

      - name: DPI_INT_REQ_UNDFLW
        value: 0xDF013
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[REQ_UNDFLW].

      - name: DPI_INT_REQ_ANULL
        value: 0xDF014
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[REQ_ANULL].

      - name: DPI_INT_REQ_INULL
        value: 0xDF015
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[REQ_INULL].

      - name: DPI_INT_REQ_BADFIL
        value: 0xDF016
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[REQ_BADFIL].

      - name: DPI_INT_SPRT0_RST
        value: 0xDF018
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[SPRT0_RST].

      - name: DPI_INT_SPRT1_RST
        value: 0xDF019
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[SPRT1_RST].

      - name: DPI_INT_SPRT2_RST
        value: 0xDF01A
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[SPRT2_RST].

      - name: DPI_INT_SPRT3_RST
        value: 0xDF01B
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_INT_REG[SPRT3_RST].

      - name: DPI_DMA_PP(0..47)_INT
        value: 0xDF040 + a
        attributes:
          intsn_level_sensitive: "1"
          intsn_lsb_mismatch: "True"
        description: See DPI_DMA_PP_INT[COMPLETE<a>].

      - name: DPI_ERR_RAM_DBE(0..14)
        value: 0xDF080 + a
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_ECC_INT[RAM_DBE<a>].

      - name: DPI_ERR_RAM_SBE(0..14)
        value: 0xDF0A0 + a
        attributes:
          intsn_lsb_mismatch: "True"
        description: See DPI_ECC_INT[RAM_SBE<a>].


structs:
  - name: DPI_DMA_INSTR_HDR_S
    title: DPI DMA Instruction Header Structure
    attributes:
      allow_missing_bits: "True"
    description: DPI DMA Instruction Header Format
    fields:
      - name: AURA
        bits: w0(11..0)
        description: |
          FPA Aura.  Indicates the AURA sent to FPA when HW determines that buffers are to be freed
          based on FL, II, and LocalPtr[I].

      - name: --
        bits: w0(15..12)
        description: |
          Reserved. INTERNAL: For extending AURA.

      - name: TT
        bits: w0(17..16)
        description: SSO Tag Type.  Sent to SSO upon instruction completion if PT = DPI_HDR_PT_WQP.

      - name: GRP
        bits: w0(27..18)
        description: SSO Group.  Sent to SSO upon instruction completion if PT = DPI_HDR_PT_WQP.

      - name: --
        bits: w0(29..28)
        description: |
          Reserved. INTERNAL: For extending GRP.

      - name: --
        bits: w0(31..30)
        description: Reserved.

      - name: NFST
        bits: w0(35..32)
        description: |
          Number of first pointers. The number of pointers in the first-pointers area.

          In the inbound, outbound, and internal-only cases, the first-pointers area
          contains local pointers, and the number of 64-bit words required in the
          first-pointers area is HDR[NFST].

          In the external-only case, the first-pointers area contains DPI components, and
          the number of 64-bit words required in the first-pointers area is:

            _ HDR[NFST] + ((HDR[NFST] + 3)/4)

          where the division removes the fraction.

          Note that the sum of the number of 64-bit words in the last-pointers and
          first-pointers area must never exceed 30.

      - name: --
        bits: w0(36)
        description: |
          Reserved. INTERNAL: For extending NFST.

      - name: --
        bits: w0(37)
        description: Reserved.

      - name: NLST
        bits: w0(41..38)
        description: |
          Number last pointers. The number of pointers in the last-pointers area.

          In the inbound, outbound, and external-only cases, the last-pointers area
          contains DPI components, and the number of 64-bit words required in the
          last-pointers area is:

          _  HDR[NLST] + ((HDR[NLST] + 3)/4)

          where the division removes the fraction.

          In the internal-only case, the last-pointers area contains local pointers, and
          the number of 64-bit words required in the last-pointers area is HDR[NLST].

          Note that the sum of the number of 64-bit words in the last-pointers and
          first-pointers area must never exceed 30.

      - name: --
        bits: w0(42)
        description: |
          Reserved. INTERNAL: For extending NLST.

      - name: DEALLOCE
        bits: w0(43)
        description: |
          Deallocation value enable. When set, use the DEALLOCV to decrement the aura
          count on the instruction's final pointer return.

      - name: PT
        bits: w0(45..44)
        description: |
          Pointer Type.
          0 = PTR<41:0> is byte address for ZBW with cache allocate.
          1 = PTR<41:0> is byte address for ZBW with no cache allocate.
          2 = PTR<41:3> is QW address for SSO PTR.
          3 = PTR<5:0> is CNT(0..47) to increment.

          If no competition indication is required for the instruction, software should
          set PTR = 0x0.

      - name: --
        bits: w0(46)
        description: |
          Reserved. INTERNAL: For extending PT.

      - name: FL
        bits: w0(47)
        description: |
          Free local buffer. When FL = 1, for an outbound operation, it indicates that the
          local buffers in the FIRST BUFFERS area should be freed.

          If II = 1, the FL bit alone indicates whether the local buffer should be freed:

          * when FL = 1, DPI frees the local buffer when II = 1.

          * when FL = 0, DPI does not free the local buffer when II = 1.

          If II = 0, DPI_DMA_LOCAL_PTR_S[I] determines whether the local buffer is freed:

          * when (FL xor I) is true, DPI frees the local buffer when II = 0.

          For an inbound, internal-only, or external-only DMA transfer, FL must never be
          set, and DPI never frees local buffers.

      - name: II
        bits: w0(48)
        description: |
          Ignore the I bit (DPI_DMA_LOCAL_PTR_S[I]).

          For outbound transfers when II = 1, ignore DPI_DMA_LOCAL_PTR_S[I] and the
          DPI_DMA_INSTR_HDR_S[FL] bit alone determines whether the hardware frees any/all
          of the local buffers in the first-pointers area:

            * when FL = 1, DPI frees the local buffer when II = 1.

            * when FL = 0, DPI does not free the local buffer when II = 1.

          For outbound transfers when II = 0, DPI_DMA_LOCAL_PTR_S[I] selects
          whether local buffers are freed on a pointer-by-pointer basis:

            * when (FL xor I) is true, DPI frees the local buffer when II = 0.

          For inbound, internal-only, and external-only DMA transfers, II must never be
          set, and DPI never frees local buffers.

      - name: FI
        bits: w0(49)
        description: |
          Force interrupt.
          When FI is set for an outbound or external-only transfer, DPI sets a forced
          interrupt bit after it completes the DMA instruction. If C = 0, DPI sets
          SLI_INT_SUM[DMAFI<0>], else sets SLI_INT_SUM[DMAFI<1>]. For an inbound or
          internal-only DMA operation, FI must never be set, and DPI never generates
          interrupts.

      - name: CA
        bits: w0(50)
        description: |
          Counter add.

          When CA = 1, DPI updates the selected counter after it completes the DMA
          outbound or external-only instruction.

          _ If C = 0, DPI updates SLI_DMA0_CNT[CNT].
          _ If C = 1, DPI updates SLI_DMA1_CNT[CNT].

          Note that this update may indirectly cause SLI_INT_SUM[DCNT,DTIME] to become set
          (depending on the SLI_DMA()_INT_LEVEL settings), so may cause interrupts to
          occur on a remote MAC host.

          If DPI_DMA_CONTROL[O_ADD1] = 1, DPI updates the counter by 1.

          If DPI_DMA_CONTROL[O_ADD1] = 0, DPI updates the counter by the total bytes in
          the transfer.

          When CA = 0, DPI does not update any counters.

          For an inbound or internal-only DMA transfer, CA must never be set, and DPI
          never adds to the counters.

      - name: CSEL
        bits: w0(51)
        description: |
          Counter. The CSEL bit selects between the two counters (SLI_DMA()_CNT[CNT]) that DPI
          can optionally update after an outbound or external-only transfer, and also
          selects between the two forced-interrupt bits (SLI_INT_SUM[DMAFI]) that DPI can
          optionally set after an outbound or external-only transfer. CSEL must be zero
          for inbound or internal-only transfers.
          0 = Use counter 0.
          1 = Use counter 1,

      - name: XTYPE
        bits: w0(53..52)
        description: |
          Transfer type. A given DMA transfer is either outbound (read operation from
          L2/DRAM, write operation into MAC memory space), inbound (read operation from
          MAC memory space, write operation into L2/DRAM), internal-only (read operation
          from L2/DRAM, write operation into L2/DRAM), or external-only (read operation
          from MAC memory space, write operation into MAC memory space).
          0x0 = Outbound.
          0x1 = Inbound.
          0x2 = Internal-only.
          0x3 = External-only.

      - name: --
        bits: w0(55..54)
        description: |
          Reserved. INTERNAL: For extending TYPE.

      - name: FPORT
        bits: w0(57..56)
        description: |
          First port. FPORT indicates the physical MAC port used for the MAC memory space
          pointers in the first-pointers block in the external-only case. Must be zero in
          the outbound, inbound, and internal-only cases.

      - name: --
        bits: w0(59..58)
        description: |
          Reserved. INTERNAL: For extending FPORT.

      - name: LPORT
        bits: w0(61..60)
        description: |
          Last port. LPORT indicates the physical MAC port used for the MAC memory space
          pointers in the last-pointers block in the outbound, inbound, and external-only
          cases. Must be zero in the internal-only case.

      - name: --
        bits: w0(63..62)
        description: |
          Reserved. INTERNAL: For extending LPORT.

      - name: PTR
        bits: w1(41..0)
        description: |
          Pointer.

          When PT = 0x2 and PTR != 0x0, DPI inserts the work-queue entry indicated by PTR
          into a SSO input queue after the DMA operation is complete. PTR<2:0> must be 0x0.

          When PT = 0x0 and PTR != 0x0, DPI writes the single byte in local memory indicated
          by PTR to 0x0 with cache allocation after the DMA operation is
          complete. DPI_DMA_CONTROL[B0_LEND] selects the endian-ness of PTR in this
          case. PTR values between 0x1 and 0x3F are reserved values.

          When PT = 0x1 and PTR != 0x0, DPI writes the single byte in local memory indicated
          by PTR to 0x0 without cache allocation after the DMA operation is
          complete. DPI_DMA_CONTROL[B0_LEND] selects the endian-ness of PTR in this
          case. PTR values between 0x1 and 0x3F are reserved values.

          When PT = 0x3, PTR is between 1 and 48, DPI increments the DPI_DMA_PP()_CNT[CNT],
          where the value for core n is PTR<5:0>-1.

          When PTR = 0x0, DPI performs no operation after the DMA operation is complete.

      - name: --
        bits: w1(47..42)
        description: |
          Reserved. INTERNAL: For extending PTR.

      - name: DEALLOCV
        bits: w1(63..48)
        description: |
          Deallocation value to decrement the aura count on the instruction's final
          pointer return.


  - name: DPI_DMA_LOCAL_PTR_S
    title: DPI DMA Local Pointer Structure
    attributes:
      allow_missing_bits: "True"
    description: DPI DMA Local Pointer Format
    fields:
      - name: PTR
        bits: 41..0
        description: |
          L2/DRAM byte pointer. Points to where the packet data starts. PTR can be any
          byte alignment. Note that PTR is interpreted as a big-endian byte pointer when L
          is clear, a little-endian byte pointer when L is set.

      - name: --
        bits: 46..42
        description: |
          Reserved. INTERNAL: For extending PTR.

      - name: L
        bits: 47
        description: |
          Little-endian.
          When L is set, the data at PTR is in little-endian format rather than big-endian.

      - name: SIZE
        bits: 60..48
        description: |
          Size in bytes of the contiguous space specified by PTR. A SIZE value of 0x0 is
          illegal.

          Note that the sum of the sizes in the first-pointers area must always exactly
          equal the sum of the sizes/lengths in the last-pointers area:

          * In the outbound and inbound cases, the HDR[NFST] size fields in the local
          pointers in the first-pointers area must exactly equal the lengths of the
          HDR[NLST] fragments in the DPI components in the last-pointers area.

          * In the internal-only case, the HDR[NFST] size fields in the local pointers in
          the first-pointers area must equal the HDR[NLST] size fields in the local
          pointers in the last-pointers area.

      - name: AC
        bits: 61
        description: |
          Allocate L2. This is a hint to DPI that the cache blocks should be allocated in
          the L2 cache (if they were not already). Should typically be set to allocate the
          referenced cache blocks into the L2 cache.

          When the local pointer is a source of data (e.g. an outbound transfer), the
          referenced cache blocks are not allocated into the L2 cache as part of
          completing the DMA (when not already present in the L2) if the AC bit is clear.

          When the local pointer is a destination for data (e.g. an inbound transfer), the
          referenced cache blocks are not allocated into the cache as part of completing
          the DMA (when not already present in the L2) if the AC bit is clear, and either:

          * the entire cache block is written by this local pointer.

          * or, the F bit is set so that the entire cache block can be written.

      - name: F
        bits: 62
        description: |
          Full-block write operations are allowed.

          When set, the hardware is permitted to write all the bytes in the cache blocks
          covered by PTR, PTR + Size - 1. This can improve memory system performance when
          the write misses in the L2 cache.

          F can only be set for local pointers that can be written to:

          * The local pointers in the first-pointers area that are write pointers for
          inbound transfers.

          * The local pointers in the last-pointers area that are always write pointers
          (when present for internal-only transfers).

          F must not be set for local pointers that are not written to:

          * The local pointers in the first-pointers area for outbound and internal-only
          transfers.

      - name: I
        bits: 63
        description: |
          Invert free. This bit gives the software the ability to free buffers
          independently for an outbound DMA transfer. See DPI_DMA_INSTR_HDR_S[II] and
          DPI_DMA_INSTR_HDR_S[FL].

          I is not used by DPI when DPI_DMA_INSTR_HDR_S[II] is set. I must not be set, and
          buffers are never freed, for inbound, internal-only, and external-only DMA
          transfers.


registers:
  - name: DPI_BIST_STATUS
    title: DPI BIST Status Register
    address: 0x1DF0000000000
    bus: NCB
    description: |
      This is the built-in self-test (BIST) status register. Each bit is the BIST result of an
      individual memory (per bit, 0 = pass and 1 = fail).
    attributes:
      dv_bist_all_fail_test: "0x7FFFFFFFE7FFF"
    fields:
      - name: --
        bits: 63..51
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BIST
        bits: 50..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: |
          BIST results. Hardware sets a bit in BIST for memory that fails.
          INTERNAL:
          dpi.dma.rdb.buff.bnk{2,5,8,11}
          dpi.dma.rdb.buff.bnk{0a,1a,3a,4a,6a,7a,9a,10a, 0b,1b,3b,4b,6b,7b,9b,10b}
          dpi.dma.rdb.slif.stm.tmem
          dpi.dma.req.mem.bnk{0,1}
          dpi.dma.spi.ipkt{0,1}.inb_bnk1
          dpi.dma.spi.ipkt{0,1}.inb_bnk0
          dpi.dma.dsi.dsi1.rspf.rsp_dpr_mem{0,1}
          dpi.dma.dsi.dsi0.rspf.rsp_dpr_mem{0,1}
          dpi.dma.ncbo.drf16x64m2_bist
          dpi.dma.ncbi.wrfif_bnk1
          dpi.dma.ncbi.wrfif_bnk0


  - name: DPI_INT_REG
    title: DPI Interrupt Register
    address: 0x1DF0000000008
    bus: NCB
    description: This register contains error flags for DPI.
    fields:
      - name: --
        bits: 63..28
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SPRT3_RST
        bits: 27
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          SLI port 3 in-reset error. DMA instruction was dropped because the source or destination
          port was in reset. Throws DPI_INTSN_E::DPI_INT_SPRT3_RST.

      - name: SPRT2_RST
        bits: 26
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          SLI port 2 in-reset error. DMA instruction was dropped because the source or destination
          port was in reset. Throws DPI_INTSN_E::DPI_INT_SPRT2_RST.

      - name: SPRT1_RST
        bits: 25
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          SLI port 1 in-reset error. DMA instruction was dropped because the source or destination
          port was in reset. Throws DPI_INTSN_E::DPI_INT_SPRT1_RST.

      - name: SPRT0_RST
        bits: 24
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          SLI port 0 in-reset error 0. DMA instruction was dropped because the source or destination
          port was in reset. Throws DPI_INTSN_E::DPI_INT_SPRT0_RST.

      - name: --
        bits: 23
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: REQ_BADFIL
        bits: 22
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Unexpected fill error. This bit is set when an instruction fill is received when there is
          no outstanding request. Throws DPI_INTSN_E::DPI_INT_REQ_BADFIL.

      - name: REQ_INULL
        bits: 21
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Deprecated.

      - name: REQ_ANULL
        bits: 20
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Instruction bad error. This bit is set when a fetched instruction word was 0x0. Throws
          DPI_INTSN_E::DPI_INT_REQ_ANULL.

      - name: REQ_UNDFLW
        bits: 19
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Instruction FIFO underflow error. This bit is set when the instruction FIFO underflows.
          Throws DPI_INTSN_E::DPI_INT_REQ_UNDFLW.

      - name: REQ_OVRFLW
        bits: 18
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Instruction FIFO overflow error. This bit is set when the instruction FIFO overflows.
          Throws DPI_INTSN_E::DPI_INT_REQ_OVRFLW.

      - name: REQ_BADLEN
        bits: 17
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Fetch with length zero error. This bit is set when DPI forms an instruction fetch with
          length of zero. Throws DPI_INTSN_E::DPI_INT_REQ_BADLEN.

      - name: REQ_BADADR
        bits: 16
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Fetch with bad pointer error. This bit is set when DPI forms an instruction fetch to the
          NULL pointer. Throws DPI_INTSN_E::DPI_INT_REQ_BADADR.

      - name: DMADBO
        bits: 15..8
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Doorbell overflow error. DPI has a 32-bit counter for each request queue's outstanding
          doorbell counts. A bit is set when the corresponding doorbell count overflows. Throws
          DPI_INTSN_E::DPI_INT_DMADBO().

      - name: --
        bits: 7..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: NFOVR
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          CSR FIFO overflow error. DPI can store up to 16 CSR requests, and the FIFO overflows if
          that number is exceeded. Throws DPI_INTSN_E::DPI_INT_NFOVR.

      - name: NDERR
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          IOI decode error. This bit is set when the DPI received an IOI transaction on the outbound
          bus to the DPI device ID, but the command was not recognized. Throws
          DPI_INTSN_E::DPI_INT_NDERR.


  - name: DPI_ECC_CTL
    title: DPI ECC Control Register
    address: 0x1DF0000000018
    bus: NCB
    description: This register allows inserting ECC errors for testing.
    attributes:
      dv_fc_scratch: "ALL"
    fields:
      - name: --
        bits: 63..33
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RAM_CDIS
        bits: 32
        access: R/W
        reset: 0
        typical: 0
        description: RDB RAM ECC correction disable. Each bit corresponds to a different RAM.

      - name: --
        bits: 31..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RAM_FLIP1
        bits: 16
        access: R/W
        reset: 0
        typical: 0
        description: |
          Flip syndrome bits on write. Flip syndrome bits <1> on writes to the corresponding RDB RAM
          to test single-bit or double-bit error handling.

      - name: --
        bits: 15..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RAM_FLIP0
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: |
          Flip syndrome bits on write. Flip syndrome bits <0> on writes to the corresponding RDB RAM
          to test single-bit or double-bit error handling.


  - name: DPI_ECC_INT
    title: DPI ECC Interrupt Register
    address: 0x1DF0000000020
    bus: NCB
    description: |
      This register contains ECC error interrupt summary bits.
      INTERNAL:
      RAM[14] = dpi.pnl.pkt.sli_pkt_msix.msix_vfaddr
      RAM[13] = dpi.pnl.pkt.sli_pkt_msix.msix_vfdata
      RAM[12] = dpi.pnl.pkt.sli_pkt_csr.pcsr_in_done
      RAM[11] = dpi.pnl.pkt.sli_pkt_csr.pcsr_instr_mem
      RAM[10] = dpi.pnl.pkt.sli_pkt_csr.pcsr_pout_size
      RAM[ 9] = dpi.pnl.pkt.sli_pkt_csr.pcsr_slist
      RAM[ 8] = dpi.pnl.pkt.sli_pkt_csr.pout_int
      RAM[ 7] = dpi.pnl.pkt.sli_pkt_csr.pout_signal
      RAM[ 6] = dpi.pnl.pkt.sli_pkt_pof.sli_pkt_poi.poi_fifo
      RAM[ 5] = dpi.pnl.pkt.sli_pkt_pof.sli_pkt_psf.psf_fifo
      RAM[ 4] = dpi.pnl.pkt.sli_pkt_pof.sli_pkt_pdf.pdf_fifo
      RAM[ 3] = dpi.pnl.pkt.sli_pkt_pop.sli_pkt_pbn.pbn_fifo
      RAM[ 2] = dpi.pnl.pkt.sli_pkt_pop.sli_pkt_pfp.pfp_fifo
      RAM[ 1] = dpi.pnl.pkt.sli_pkt_pop.pop_fifos.pop_mem1
      RAM[ 1] = dpi.pnl.pkt.sli_pkt_pop.pop_fifos.pop_mem0
      RAM[ 0] = dpi.dma.rdb.buff.bnk0a
      RAM[ 0] = dpi.dma.rdb.buff.bnk0b
      RAM[ 0] = dpi.dma.rdb.buff.bnk1a
      RAM[ 0] = dpi.dma.rdb.buff.bnk1b
      RAM[ 0] = dpi.dma.rdb.buff.bnk3a
      RAM[ 0] = dpi.dma.rdb.buff.bnk3b
      RAM[ 0] = dpi.dma.rdb.buff.bnk4a
      RAM[ 0] = dpi.dma.rdb.buff.bnk4b
      RAM[ 0] = dpi.dma.rdb.buff.bnk6a
      RAM[ 0] = dpi.dma.rdb.buff.bnk6b
      RAM[ 0] = dpi.dma.rdb.buff.bnk7a
      RAM[ 0] = dpi.dma.rdb.buff.bnk7b
      RAM[ 0] = dpi.dma.rdb.buff.bnk9a
      RAM[ 0] = dpi.dma.rdb.buff.bnk9b
      RAM[ 0] = dpi.dma.rdb.buff.bnk10a
      RAM[ 0] = dpi.dma.rdb.buff.bnk10b
    fields:
      - name: --
        bits: 63..47
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RAM_SBE
        bits: 46..32
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Set when a single-bit error is detected in the corresponding RAM. Throws
          DPI_INTSN_E::DPI_ERR_RAM_SBE().

      - name: --
        bits: 31..15
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RAM_DBE
        bits: 14..0
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Set when a double-bit error is detected in the corresponding RAM. Throws
          DPI_INTSN_E::DPI_ERR_RAM_DBE().


  - name: DPI_NCB_CTL
    title: DPI NCB Control Register
    address: 0x1DF0000000028
    bus: NCB
    description: This register provides NCB unit control.
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PRT
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Directs traffic to the specified NCB unit.


  - name: DPI_SWA_Q_VMID
    title: DPI SWA Queue VMID Register
    address: 0x1DF0000000030
    bus: NCB
    fields:
      - name: VMID7
        bits: 63..56
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 7.

      - name: VMID6
        bits: 55..48
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 6.

      - name: VMID5
        bits: 47..40
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 5.

      - name: VMID4
        bits: 39..32
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 4.

      - name: VMID3
        bits: 31..24
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 3.

      - name: VMID2
        bits: 23..16
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 2.

      - name: VMID1
        bits: 15..8
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 1.

      - name: VMID0
        bits: 7..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: The SWA VMID for queue 0.


  - name: DPI_DMA_PP_INT
    title: DPI DMA Per-Core Instruction Completion Interrupt Register
    address: 0x1DF0000000038
    bus: NCB
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: COMPLETE
        bits: 47..0
        access: RO/H
        reset: 0x0
        typical: --
        description: DPI DMA per-core instruction completion interrupt. See DPI_DMA_PP()_CNT.


  - name: DPI_CTL
    title: DPI Control Register
    address: 0x1DF0000000040
    bus: NCB
    description: This register provides the enable bit for the DMA and packet state machines.
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN
        bits: 0
        access: R/W
        reset: 0
        typical: 1
        description: Turns on the DMA and packet state machines.


  - name: DPI_DMA_CONTROL
    title: DPI DMA Control Register
    address: 0x1DF0000000048
    bus: NCB
    description: This register controls the operation of DMA input and output.
    fields:
      - name: --
        bits: 63..60
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FFP_DIS
        bits: 59
        access: R/W
        reset: 0
        typical: 0
        description: |
          Force forward progress disable. The DMA engines will compete for shared resources. If the
          hardware detects that particular engines are not able to make requests to an interface,
          the hardware will periodically trade-off throughput for fairness.

      - name: COMMIT_MODE
        bits: 58
        access: R/W
        reset: 0
        typical: 0
        description: |
          DMA engine commit mode.
          When COMMIT_MODE=1, DPI considers an instruction complete when the hardware internally
          generates the final write for the current instruction.

          When COMMIT_MODE=0, DPI additionally waits for the final write to reach the interface
          coherency point to declare the instructions complete.

          When COMMIT_MODE=1, DPI may not follow the HRM ordering rules. DPI
          hardware performance may be better with COMMIT_MODE=1 than with COMMIT_MODE=0 due to
          the relaxed ordering rules. If the HRM ordering rules are required, set COMMIT_MODE=0.

      - name: --
        bits: 57
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PKT_EN
        bits: 56
        access: R/W
        reset: 0
        typical: --
        description: |
          Enables the packet interface. When the packet interface is enabled, engines 4 and 5 are
          used for packets and are not available for DMA. When PKT_EN=1, then DMA_ENB<5>=0 and
          DMA_ENB<4>=0.

      - name: --
        bits: 55..54
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DMA_ENB
        bits: 53..48
        access: R/W
        reset: 0x0
        typical: 0x3f
        description: |
          DMA engine enable. Enables the operation of the DMA engine. After being enabled an engine
          should not be disabled while processing instructions.
          When PKT_EN=1, then DMA_ENB<5>=0 and DMA_ENB<4>=0.

      - name: --
        bits: 47..35
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: NCB_TAG
        bits: 34
        access: RO
        reset: 0
        typical: 0
        attributes:
          chip_pass: "o78<2.0"
        description: Reserved.

      - name: B0_LEND
        bits: 33
        access: R/W
        reset: 0
        typical: 0
        description: |
          Little-endian. When set to 1 and the DPI is in the mode to write 0 to L2C when a DMA
          transaction is done, the address to be written is treated as a little-endian address.

      - name: LDWB
        bits: 32
        access: R/W
        reset: 0
        typical: --
        description: |
          Load don't write back. When set, the hardware is able to issue LDWB commands to the cache.
          As a result, the line will not be written back when replaced. When clear, the hardware
          issues regular load commands to the cache which cause the line to be written back before
          being replaced.

      - name: AURA_ICHK
        bits: 31..20
        access: R/W
        reset: 0x0
        typical: --
        description: |
          AURA instruction chunk. The AURA that the instruction chunk for DMA operations page will
          be returned to when freed.

      - name: O_ADD1
        bits: 19
        access: R/W
        reset: 0
        typical: 1
        description: |
          Add one.
          0 = The number of bytes in the DMA transfer is added to SLI_DMA()_CNT.
          1 = Add 1 to the SLI_DMA()_CNT DMA counters.

      - name: O_RO
        bits: 18
        access: R/W
        reset: 0
        typical: --
        description: Relaxed ordering mode for DMA transactions

      - name: O_NS
        bits: 17
        access: R/W
        reset: 0
        typical: --
        description: No snoop.

      - name: O_ES
        bits: 16..15
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Endian swap mode for DMA.
          0 = pass-through mode (no swap).
          1 = 64-bit byte-swap mode [ABCD_EFGH] -> [HGFE_DCBA].
          2 = 32-bit byte-swap mode [ABCD_EFGH] -> [DCBA_HGFE].
          3 = 32-bit exchange mode [ABCD_EFGH] -> [EFGH_ABCD].

      - name: O_MODE
        bits: 14
        access: R/W
        reset: 0
        typical: 1
        description: |
          Select PCI_POINTER mode.
          0 = DPTR format 1 is used. Use register values for address; use pointer values for ES, NS,
          RO.
          1 = DPTR format 0 is used. Use pointer values for address; use register values for ES, NS,
          RO.

      - name: --
        bits: 13..0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: DPI_REQ_GBL_EN
    title: DPI Request Global Enable Register
    address: 0x1DF0000000050
    bus: NCB
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: QEN
        bits: 7..0
        access: R/W
        reset: 0xff
        typical: 0xff
        description: |
          Indicates which instruction queues are enabled, and can dispatch instructions to a
          requesting engine.


  - name: DPI_REQ_ERR_RSP
    title: DPI Instruction Queue ErrorResponse Register
    address: 0x1DF0000000058
    bus: NCB
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: QERR
        bits: 7..0
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Indicates which instruction queue received an ErrorResponse from the I/O subsystem.
          Software must clear the bit before the corresponding instruction queue will continue
          processing instructions if DPI_REQ_ERR_RSP_EN[EN] is set.


  - name: DPI_REQ_ERR_RST
    title: DPI Instruction Queue Reset Error Register
    address: 0x1DF0000000060
    bus: NCB
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: QERR
        bits: 7..0
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Indicates which instruction queue dropped an instruction because the source or destination
          was in reset. Software must clear the bit before the corresponding instruction queue will
          continue processing instructions if DPI_REQ_ERR_RSP_EN[EN] is set.


  - name: DPI_REQ_ERR_RSP_EN
    title: DPI Instruction Queue ErrorResponse Enable Register
    address: 0x1DF0000000068
    bus: NCB
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN
        bits: 7..0
        access: R/W
        reset: 0xff
        typical: 0xff
        description: |
          Indicates which instruction queues should stop dispatching instructions when an
          ErrorResponse is received from the I/O subsystem.


  - name: DPI_REQ_ERR_RST_EN
    title: DPI Instruction Queue Reset Error Enable Register
    address: 0x1DF0000000070
    bus: NCB
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN
        bits: 7..0
        access: R/W
        reset: 0xff
        typical: 0xff
        description: |
          Indicates which instruction queues should stop dispatching instructions when an
          instruction is dropped because the source or destination port is in reset.


  - name: DPI_PKT_ERR_RSP
    title: DPI Packet Error Response Register
    address: 0x1DF0000000078
    bus: NCB
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PKTERR
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Indicates that an ErrorResponse was received from the I/O subsystem.


  - name: DPI_DMA_ENG(0..5)_EN
    title: DPI DMA-Engine Queue Enable Registers
    address: 0x1DF0000000080 + a*0x8
    bus: NCB
    description: These registers provide control for the DMA engines.
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: QEN
        bits: 7..0
        access: R/W
        reset: 0xff
        typical: 0xff
        description: |
          Instruction queue enable. This field specifies which of eight logical instruction queues
          can be serviced by the DMA engine.
            0 = Prevent service.
            1 = Allow service.

          Setting QEN = 0x0 effectively disables the engine. When DPI_DMA_CONTROL[PKT_EN] = 1, then
          DPI_DMA_ENG4/5_EN [QEN] must be zero.


  - name: DPI_DMA(0..7)_REQQ_CTL
    title: DPI DMA Request Queue Control Register
    address: 0x1DF0000000180 + a*0x8
    bus: NCB
    description: This register contains the control bits for transactions on the eight request queues.
    fields:
      - name: --
        bits: 63..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: ST_CMD
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: |
          When DPI issues a store full line command to the L2C that is to be cached, this field
          select the type of store command to use:
          0 = STF.
          1 = STY.

      - name: --
        bits: 7..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LD_CMD
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          When DPI issues a load command to the L2C that is to be cached, this field select the type
          of load command to use:
          0x0 = LDD.
          0x1 = LDI.
          0x2 = LDE.
          0x3 = LDY.


  - name: DPI_DMA(0..7)_DBELL
    title: DPI DMA Doorbell Registers
    address: 0x1DF0000000200 + a*0x8
    bus: NCB
    description: This is the door bell register for the eight DMA instruction queues.
    attributes:
      regtest_skip: "True"
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DBELL
        bits: 15..0
        access: WO/H
        reset: 0x0
        typical: --
        description: |
          Doorbell value. The value written to this register is added to the number of eight-byte
          words to be read and processed for the low-priority DMA queue.


  - name: DPI_DMA(0..7)_IBUFF_SADDR
    title: DPI DMA Instruction-Buffer Starting-Address Registers
    address: 0x1DF0000000280 + a*0x8
    bus: NCB
    description: |
      These registers provide the address to start reading instructions for the eight DMA
      instruction queues.
    fields:
      - name: IDLE
        bits: 63
        access: RO/H
        reset: 1
        typical: --
        description: DMA request queue is idle. When asserted, the associated request queue is idle.

      - name: --
        bits: 62
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CSIZE
        bits: 61..48
        access: R/W
        reset: 0x40
        typical: --
        description: |
          The size in 8-byte words of the DMA instruction chunk. This value should only be written
          at known times in order to prevent corruption of the instruction queue. The minimum CSIZE
          is 16 (one cache block).

      - name: --
        bits: 47..42
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SADDR
        bits: 41..7
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          Starting address. The 128-byte aligned starting or chunk address. SADDR is address bit
          <41:7> of the starting instructions address. When new chunks are fetched by the hardware,
          SADDR is updated to reflect the address of the current chunk. A write to SADDR resets both
          the queue's doorbell (DPI_DMA()_COUNTS[DBELL) and its tail pointer
          (DPI_DMA()_NADDR[ADDR]).

      - name: --
        bits: 6..0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: DPI_DMA(0..7)_COUNTS
    title: DPI DMA Instruction Counts Registers
    address: 0x1DF0000000300 + a*0x8
    bus: NCB
    description: |
      These registers provide values for determining the number of instructions in the local
      instruction FIFO.
    fields:
      - name: --
        bits: 63..39
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FCNT
        bits: 38..32
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: FIFO count. Specifies the number of words in the instruction FIFO locally cached within DPI.

      - name: DBELL
        bits: 31..0
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: Doorbell. Specifies the number of available words of instructions to read.


  - name: DPI_DMA(0..7)_NADDR
    title: DPI DMA Next Ichunk Address Registers
    address: 0x1DF0000000380 + a*0x8
    bus: NCB
    description: These registers provide the L2C addresses to read the next Ichunk data.
    fields:
      - name: --
        bits: 63..42
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: ADDR
        bits: 41..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Address. Provides the next L2C address to read instructions.


  - name: DPI_DMA(0..7)_REQBNK0
    title: DPI DMA Request State Bank 0 Registers
    address: 0x1DF0000000400 + a*0x8
    bus: NCB
    description: These registers provide the current contents of the request state machine, bank 0.
    fields:
      - name: STATE
        bits: 63..0
        access: RO/H
        reset: 0x0
        typical: --
        description: State. Provides the current contents of the request state machine.


  - name: DPI_DMA(0..7)_REQBNK1
    title: DPI DMA Request State Bank 1 Registers
    address: 0x1DF0000000480 + a*0x8
    bus: NCB
    description: These registers provide the current contents of the request state machine, bank 1.
    fields:
      - name: STATE
        bits: 63..0
        access: RO/H
        reset: 0x0
        typical: --
        description: State. Provides the current contents of the request state machine.


  - name: DPI_NCB(0)_CFG
    title: DPI IOI Configuration Register
    address: 0x1DF0000000800 + a*0x8
    bus: NCB
    fields:
      - name: --
        bits: 63..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MOLR
        bits: 5..0
        access: R/W
        reset: 0x20
        typical: 0x20
        description: |
          Max outstanding load requests. Limits the number of outstanding load requests on the I/O
          Interconnect. This value can range from 1 to 32. Setting a value of 0 halts all read
          traffic to the I/O Interconnect. There are no restrictions on when this value can be
          changed.


  - name: DPI_PINT_INFO
    title: DPI Packet Interrupt Information Register
    address: 0x1DF0000000830
    bus: NCB
    description: This register provides DPI packet interrupt information.
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: IINFO
        bits: 13..8
        access: RO/H
        reset: 0x0
        typical: --
        description: Packet instruction doorbell count overflow information.

      - name: --
        bits: 7..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SINFO
        bits: 5..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Packet scatter list doorbell count overflow information.


  - name: DPI_REQ_ERR_SKIP_COMP
    title: DPI Instruction Queue Skip Completion Register
    address: 0x1DF0000000838
    bus: NCB
    fields:
      - name: --
        bits: 63..24
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN_RST
        bits: 23..16
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          Indicates which instruction queue should skip the completion phase once a port reset is
          detected as indicated by DPI_REQ_ERR_RST. All completions to the effected instruction
          queue are skipped as long as DPI_REQ_ERR_RSP[QERR<ique>] & DPI_REQ_ERR_RSP_EN<ique> or
          DPI_REQ_ERR_RST[QERR<ique>] & DPI_REQ_ERR_RST_EN<ique> are set.

      - name: --
        bits: 15..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN_RSP
        bits: 7..0
        access: R/W/H
        reset: 0x0
        typical: 0x0
        description: |
          Indicates which instruction queue should skip the completion phase once an ErrorResponse
          is detected as indicated by DPI_REQ_ERR_RSP. All completions to the effected instruction
          queue are skipped as long as DPI_REQ_ERR_RSP[QERR<ique>] & DPI_REQ_ERR_RSP_EN<ique> or
          DPI_REQ_ERR_RST[QERR<ique>] & DPI_REQ_ERR_RST_EN<ique> are set.


  - name: DPI_ENG(0..5)_BUF
    title: DPI DMA Engine Buffer Registers
    address: 0x1DF0000000880 + a*0x8
    bus: NCB
    fields:
      - name: --
        bits: 63..38
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: COMPBLKS
        bits: 37..32
        access: RO/H
        reset: --
        typical: --
        description: Computed engine block size

      - name: --
        bits: 31..10
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BASE
        bits: 9..4
        access: RO/H
        reset: --
        typical: --
        description: The base address in 512-byte blocks of the DMA engine FIFO.

      - name: BLKS
        bits: 3..0
        access: R/W
        reset: 0x2
        typical: --
        description: |
          The size of the DMA engine FIFO. The sum of the allocated FIFOs across all six
          DPI_ENG()_BUF[BLKS] registers must not exceed the overall RDB memory size of
          16 KB.
          0x0 = Engine disabled.
          0x1 = 0.5 KB FIFO.
          0x2 = 1.0 KB FIFO.
          0x3 = 1.5 KB FIFO.
          0x4 = 2.0 KB FIFO.
          0x5 = 2.5 KB FIFO.
          0x6 = 3.0 KB FIFO.
          0x7 = 3.5 KB FIFO.
          0x8 = 4.0 KB FIFO.
          0x9 = 6.0 KB FIFO.
          0xA = 8.0 KB FIFO.
          0xB = 16.0 KB FIFO.


  - name: DPI_SLI_PRT(0..3)_CFG
    title: DPI SLI Port Configuration Register
    address: 0x1DF0000000900 + a*0x8
    bus: NCB
    description: |
      This register configures the max read request size, max payload size, and max number of SLI
      tags in use.
    fields:
      - name: --
        bits: 63..25
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: HALT
        bits: 24
        access: RO/H
        reset: 0
        typical: 0
        description: |
          When set, HALT indicates that the MAC has detected a reset condition. No further
          instructions that reference the MAC from any instruction queue will be issued until the
          MAC comes out of reset and HALT is cleared in SLI_CTL_PORT()[DIS_PORT].

      - name: --
        bits: 23..21
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: QLM_CFG
        bits: 20
        access: RO/H
        reset: --
        typical: --
        description: |
          Read only copy of the QLM CFG pin.
          0 = MAC is DPI.
          1 = Reserved.

          Since QLM_CFG is simply a copy of the QLM CFG pins, it could reflect values that are not
          normal for DMA or packet operations. QLM_CFG does not indicate if a port is disabled.
          GSER()_CFG can be used for more complete QLM configuration information.

      - name: --
        bits: 19..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RD_MODE
        bits: 16
        access: R/W
        reset: 0
        typical: 0
        description: |
          Read mode.
          0 = Exact read mode. The hardware reads on a four-byte granularity. In this mode, the
          hardware may break a given read into 3 operations to satisfy DPI rules.
          1 = Block mode. The hardware reads more data than requested in order to minimize the
          number of operations necessary to complete the operation. The memory region must be memory
          like.

      - name: --
        bits: 15..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MOLR
        bits: 13..8
        access: R/W
        reset: 0x20
        typical: 0x20
        description: |
          Maximum outstanding load requests. Limits the number of outstanding load requests on the
          port by restricting the number of tags used by the SLI to track load responses. This value
          can range from 1 to 32. Setting MOLR to a value of 0 halts all read traffic to the port.
          There are no restrictions on when this value can be changed.

      - name: MPS_LIM
        bits: 7
        access: R/W
        reset: 0
        typical: 0
        description: |
          MAC memory space write requests cannot cross the (naturally-aligned) MPS boundary.
          When clear, DPI is allowed to issue a MAC memory- space read that crosses the naturally-
          aligned boundary of size defined by MPS. (DPI will still only cross the boundary when it
          would eliminate a write by doing so.)

          When set, DPI will never issue a MAC memory space write that crosses the naturally-aligned
          boundary of size defined by MPS.

      - name: --
        bits: 6..5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MPS
        bits: 4
        access: R/W
        reset: 0
        typical: 0
        description: |
          Maximum payload size.
          0 = 128B.
          1 = 256B.

          The MPS size must not exceed the size selected by PCIE*_CFG030[MPS].

      - name: MRRS_LIM
        bits: 3
        access: R/W
        reset: 0
        typical: 0
        description: |
          MAC memory space read requests cannot cross the (naturally-aligned) MRRS boundary.

          When clear, DPI is allowed to issue a MAC memory-space read that crosses the naturally-
          aligned boundary of size defined by MRRS. (DPI will still only cross the boundary when it
          would eliminate a read by doing so.)

          When set, DPI will never issue a MAC memory space read that crosses the naturally-aligned
          boundary of size defined by MRRS.

      - name: --
        bits: 2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MRRS
        bits: 1..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Maximum read-request size.
          0x0 = 128B.
          0x1 = 256B.
          0x2 = 512B.
          0x3 = 1024B.

          The MRRS size must not exceed the size selected by PCIE*_CFG030[MRRS].


  - name: DPI_SLI_PRT(0..3)_ERR
    title: DPI SLI Port Error Address Registers
    address: 0x1DF0000000920 + a*0x8
    bus: NCB
    description: This register logs the address associated with the reported SLI error response.
    fields:
      - name: ADDR
        bits: 63..3
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Address of the failed load request. Address is locked along with the
          DPI_SLI_PRT()_ERR_INFO register. See the
          DPI_SLI_PRT()_ERR_INFO[LOCK] description for further information.

      - name: --
        bits: 2..0
        access: RAZ
        reset: --
        typical: --
        description: Reserved.


  - name: DPI_SLI_PRT(0..3)_ERR_INFO
    title: DPI SLI MAC Port Error Info Registers
    address: 0x1DF0000000940 + a*0x8
    bus: NCB
    description: This register logs information associated with the reported SLI error response.
    fields:
      - name: --
        bits: 63..23
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: VF
        bits: 22..16
        access: RO/H
        reset: 0x0
        typical: --
        description: Virtual function that caused the ErrorResponse.

      - name: --
        bits: 15..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LOCK
        bits: 8
        access: RO/H
        reset: 0
        typical: --
        description: |
          DPI_SLI_PRT()_ERR and DPI_SLI_PRT()_ERR_INFO have captured and locked contents.
          When CNXXXX first detects an ErrorResponse, the TYPE, REQQ, and ADDR of the error is saved
          and an internal lock state is set so the data associated with the initial error is
          preserved.

          Subsequent ErrorResponses will optionally raise an interrupt, but will not modify the
          TYPE, REQQ, or ADDR fields until the internal lock state is cleared.

          Software can clear the internal lock state by writing a 1 to the appropriate bit in either
          DPI_REQ_ERR_RSP or DPI_PKT_ERR_RSP depending on the TYPE field. Once the internal lock
          state is cleared, the next ErrorResponse will set the TYPE, REQQ, and ADDR for the new
          transaction.

      - name: --
        bits: 7..5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TYPE
        bits: 4
        access: RO/H
        reset: 0
        typical: --
        attributes:
          exempt_keyword: "True"
        description: |
          Type of transaction that caused the ErrorResponse.
          0 = DMA Instruction.
          1 = PKT Instruction.

      - name: --
        bits: 3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: REQQ
        bits: 2..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Request queue that made the failed load request.


  - name: DPI_INFO_REG
    title: DPI Information Register
    address: 0x1DF0000000980
    bus: NCB
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FFP
        bits: 7..4
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: Force forward progress indicator.

      - name: --
        bits: 3..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: NCB
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          NCB register access. This interrupt fires in normal operation when software reads a DPI
          register through the IOI interface.

      - name: RSL
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          RSL register access. This interrupt fires in normal operation when software reads a DPI
          register through the RSL interface.


  - name: DPI_DMA(0..7)_IFLIGHT
    title: DPI DMA In-Flight Register
    address: 0x1DF0000000A00 + a*0x8
    bus: NCB
    fields:
      - name: --
        bits: 63..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 2..0
        access: R/W/H
        reset: 0x6
        typical: 0x6
        description: |
          The number of instructions from a given queue that can be in flight to the DMA engines at
          a time. Reset value matches the number of DMA engines.


  - name: DPI_DMA(0..7)_ERR_RSP_STATUS
    title: DPI DMA Error Response Status Register
    address: 0x1DF0000000A80 + a*0x8
    bus: NCB
    fields:
      - name: --
        bits: 63..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: STATUS
        bits: 5..0
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          QUE captures the ErrorResponse status of the last 6 instructions for each instruction
          queue. STATUS<5> represents the status for first instruction in instruction order while
          STATUS<0> represents the last or most recent instruction. If STATUS<n> is set, then the
          Nth instruction in the given queue experienced an ErrorResponse. Otherwise, it completed
          normally.


  - name: DPI_DMA_PP(0..47)_CNT
    title: DPI DMA Per-Core Instruction Completion Counter Register
    address: 0x1DF0000000C00 + a*0x8
    bus: NCB
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 15..0
        access: R/W/H
        reset: 0x0
        typical: --
        description: |
          DPI DMA per-core instruction completion counter. The counter is incremented according to
          conditions described below and is decremented by values written to this field. A CNT of
          nonzero causes an interrupt in DPI_DMA_PP_INT.

          Each DMA instruction that has the DPI_DMA_INSTR_HDR_S[PT]=CNT and a PTR value of 1 to
          0x30 will increment DPI_DMA_PP()_CNT value -1 counter. Hardware reserves the values
          0x31 to 0x3F for future use, treats them as a PTR of 0, and does nothing.



