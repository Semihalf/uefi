# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: LAP
enums:
  - name: LAP_CMD_E
    attributes:
      width: "4"
    description: Enumerates the values of the operation structure command field.
    values:
      - name: SEND
        value: 0x8
        description: Send command.

      - name: RTN
        value: 0x9
        description: Return command.


  - name: LAP_ERR_E
    attributes:
      width: "6"
    description: Enumerates the different errors for returns in LAP_CTL_RTN_S[ERR]; see also LAP0/1_GEN_INT.
    values:
      - name: "NONE"
        value: 0
        description: No error or LAB is still PROCESSING.

      - name: TERMINATE
        value: 9
        description: ILA interface terminate error. A SOP-SOP can cause packets to terminate with this error code.

      - name: EOP_SKIP
        value: 12
        description: ILA interface error at EOP. ILA received a packet with an 'Error and end of packet' indication.

      - name: PARITY
        value: 13
        description: |
          ILA interface parity error. ILK detected a parity error in the data portion of its receive
          FIFO during this packet transfer.

      - name: LAB_OUT
        value: 33
        description: |
          An LMTDMA was requested, but no free LABs are available. Only possible on
          LAP_SEND_LMTDMA_S operations.

      - name: LAB_INVALID
        value: 34
        description: |
          The IOBDMA was requested to an LAB that is in the EMPTY/INVALID state. Only possible on
          LAP_RD_IOBDMA_S operations.

      - name: RESP_TIME
        value: 35
        description: |
          The LAP0/1_TIMEOUT[RESP] timer expired and transitioned this LAB to error state. Only
          possible in non-exception queues.

      - name: MISMATCH
        value: 36
        description: |
          The response packet did not match LAP0/1_EXP(0..15)_DATA and LAP0/1_EXP(0..15)_VALID. Not
          reported if packet also has CRC errors. Only delivered to exception queue.

      - name: XID_BAD
        value: 37
        description: |
          The response packet's transaction ID was targeted to an LAB not in PROCESSING state. Not
          reported if packet also has CRC or MISMATCH errors. Typically indicates TCAM or
          configuration error. Only delivered to exception queue.

      - name: TOO_BIG
        value: 38
        description: The request or response sent too much data to fit in the LAB size.


  - name: LAP_INTSN_E
    attributes:
      width: "20"
    description: Enumerates the different LAP-generated interrupts.
    values:
      - name: LAP(0..1)_GEN_LABS_OUT
        value: 0x0C000 + a*0x01000
        description: See LAP0/1_GEN_INT[LABS_OUT].

      - name: LAP(0..1)_GEN_LOST_EXC
        value: 0x0C001 + a*0x01000
        description: See LAP0/1_GEN_INT[LOST_EXC].

      - name: LAP(0..1)_GEN_NEW_EXC
        value: 0x0C002 + a*0x01000
        description: See LAP0/1_GEN_INT[NEW_EXC].

      - name: LAP(0..1)_GEN_TIMEOUT
        value: 0x0C003 + a*0x01000
        description: See LAP0/1_GEN_INT[TIMEOUT].

      - name: LAP(0..1)_GEN_LAB_SBE
        value: 0x0C006 + a*0x01000
        description: See LAP0/1_GEN_INT[LAB_SBE].

      - name: LAP(0..1)_GEN_LAB_DBE
        value: 0x0C007 + a*0x01000
        description: See LAP0/1_GEN_INT[LAB_DBE].

      - name: LAP(0..1)_GEN_STA_SBE
        value: 0x0C008 + a*0x01000
        description: See LAP0/1_GEN_INT[STA_SBE].

      - name: LAP(0..1)_GEN_STA_DBE
        value: 0x0C009 + a*0x01000
        description: See LAP0/1_GEN_INT[STA_DBE].

      - name: LAP(0..1)_GEN_NXT_SBE
        value: 0x0C00A + a*0x01000
        description: See LAP0/1_GEN_INT[NXT_SBE].

      - name: LAP(0..1)_GEN_NXT_DBE
        value: 0x0C00B + a*0x01000
        description: See LAP0/1_GEN_INT[NXT_DBE].

      - name: LAP(0..1)_GEN_EMSK_SBE
        value: 0x0C00C + a*0x01000
        description: See LAP0/1_GEN_INT[EMSK_SBE].

      - name: LAP(0..1)_GEN_EMSK_DBE
        value: 0x0C00D + a*0x01000
        description: See LAP0/1_GEN_INT[EMSK_DBE].

      - name: LAP(0..1)_GEN_EDAT_SBE
        value: 0x0C00E + a*0x01000
        description: See LAP0/1_GEN_INT[EDAT_SBE].

      - name: LAP(0..1)_GEN_EDAT_DBE
        value: 0x0C00F + a*0x01000
        description: See LAP0/1_GEN_INT[EDAT_DBE].

      - name: LAP(0..1)_GEN_NBR_SBE
        value: 0x0C010 + a*0x01000
        description: See LAP0/1_GEN_INT[NBR_SBE].

      - name: LAP(0..1)_GEN_NBR_DBE
        value: 0x0C011 + a*0x01000
        description: See LAP0/1_GEN_INT[NBR_DBE].


structs:
  - name: LAP_CTL_REQ_S
    description: This structure specifies the layout of word 0 of each request.
    fields:
      - name: --
        bits: 23..0
        description: |
          Reserved. MBZ in request; replaced by ILA.
          INTERNAL: Overlaps ILK CRC bits.

      - name: AS2
        bits: 31..24
        description: Application specific 2.

      - name: CHAN
        bits: 32
        description: Channel number. Ignored in request, replaced by LAP with LAP_SEND_LMTDMA_S[CHAN].

      - name: AS1
        bits: 38..33
        description: Application specific 1. These bits are also used for the channel number in Interlaken non-LA.

      - name: PROTO
        bits: 39
        description: |
          Protocol.
          0 = Interlaken non-LA.
          1 = Interlaken LA control word.

      - name: --
        bits: 41..40
        description: |
          Reserved. MBZ in request; replaced by ILA.
          INTERNAL: Overlaps ILK XON bits.

      - name: AS0
        bits: 56..42
        description: Application specific 0.

      - name: --
        bits: 63..57
        description: |
          Reserved. MBZ in request; replaced by ILA.
          INTERNAL: Overlaps ILK Ctl bits.


  - name: LAP_CTL_RTN_S
    description: This structure specifies the layout of word 0 of each return.
    fields:
      - name: LAB
        bits: 7..0
        description: |
          LAB number used for transaction. The LAB is only meaningful if this return indicates an
          IOBDMA timeout, or if LAP_SEND_LMTDMA_S[DF] was set in the request.
          INTERNAL: Overlaps ILK CRC bits.

      - name: --
        bits: 15..8
        description: |
          Reserved INTERNAL: Overlaps ILK CRC bits. 15:8 for more LAB bits.

      - name: ERR
        bits: 21..16
        description: |
          Error code, or zero if no error. Encoded with LAP_ERR_E.
          INTERNAL: Overlaps ILK CRC bits.

      - name: EQNE
        bits: 22
        description: |
          Exception queue not empty. Asserted whenever LAP0/1_QUE(0..2)_STATE[LABS_RX] for queue 2
          is non-zero. This indicates software may want to read the received exception entry.

      - name: TIMEOUT
        bits: 23
        description: |
          This LAB is not in the RECEIVED state yet. Caused by a IOBDMA or LMTDMA timeout, or
          LAP_SEND_LMTDMA_S[ITO] was set in the request and the data has not yet been received. Any
          data words that follow the header that were returned in this IOBDMA/LMTDMA will be
          undefined.
          INTERNAL: Overlaps ILK CRC bits.

      - name: AS2
        bits: 31..24
        description: Application specific 2

      - name: CHAN
        bits: 32
        description: Channel number

      - name: AS1
        bits: 38..33
        description: Application specific 1.These bits are also used for the channel number in Interlaken non-LA.

      - name: PROTO
        bits: 39
        description: |
          Protocol.
          0 = Interlaken non-LA.
          1 = Interlaken LA control word.

      - name: --
        bits: 41..40
        description: Reserved. Presently flow control state from controller.

      - name: AS0
        bits: 56..42
        description: Application specific 0

      - name: LENGTH
        bits: 61..57
        description: |
          Length of received packet in 64-bit words, including the Interlaken header. Zero is
          invalid, and only returned when the return is still processing or in error cases. If the
          received packet exceeds the LAB size, ERR will be LAP_ERR_E::TOO_BIG, and this length will
          still indicate the received packet size, saturating at 0x1F.

      - name: --
        bits: 63..62
        description: Reserved.


  - name: LAP_RD_IOBDMA_S
    description: IOBDMA return operations are created with an address formed with this structure.
    fields:
      - name: --
        bits: 2..0
        attributes:
          const: "--"
        description: Reserved.

      - name: OFFSET
        bits: 6..3
        attributes:
          const: "--"
        description: Word number from buffer to begin reading at.

      - name: --
        bits: 15..7
        attributes:
          const: "--"
        description: Reserved.

      - name: LAB
        bits: 23..16
        attributes:
          const: "--"
        description: LAB to return data for.

      - name: --
        bits: 26..24
        attributes:
          const: "--"
        description: Reserved.

      - name: ITO
        bits: 27
        attributes:
          const: "--"
        description: |
          Instant time out. Immediately return the IOBDMA even if response data is not ready, as if
          there was a timeout. If LAP_CTL_RTN_S[TIMEOUT] is set the result is still not ready and
          Any data words that follow the LAP_CTL_RTN_S header that were returned with this IOBDMA
          will be undefined.

      - name: --
        bits: 30..28
        attributes:
          const: "--"
        description: Reserved.

      - name: DF
        bits: 31
        attributes:
          const: "--"
        description: |
          Don't Free. Do not free the LAB if read is successful, leave it allocated until a future
          read operation; the state and data in the LAB remains unchanged.

      - name: CMD
        bits: 35..32
        attributes:
          const: "0x9"
        description: Command. Indicates IOBDMA data return. Enumerated by LAP_CMD_E.

      - name: NODE
        bits: 39..36
        attributes:
          const: "--"
        description: OCI node number.

      - name: DID
        bits: 47..40
        attributes:
          const: "(0x0c/0x0d)"
        description: Device Id. Indicates LAP0 or LAP1.

      - name: RTNLEN
        bits: 55..48
        attributes:
          const: "--"
        description: Length of return in words.

      - name: SCRADDR
        bits: 63..56
        attributes:
          const: "--"
        description: CVMSEG LM address to return to. See .


  - name: LAP_RD_LD_S
    description: IO read loads are created with an address formed with this structure.
    fields:
      - name: --
        bits: 2..0
        attributes:
          const: "--"
        description: Reserved.

      - name: OFFSET
        bits: 6..3
        attributes:
          const: "--"
        description: Word number from buffer to begin reading at.

      - name: --
        bits: 15..7
        attributes:
          const: "--"
        description: Reserved.

      - name: LAB
        bits: 23..16
        attributes:
          const: "--"
        description: LAB to return data for.

      - name: --
        bits: 30..24
        attributes:
          const: "--"
        description: Reserved.

      - name: DF
        bits: 31
        attributes:
          const: "--"
        description: |
          Don't free. Do not free the LAB if read is successful, leave it allocated until a future
          read operation.

      - name: CMD
        bits: 35..32
        attributes:
          const: "0x9"
        description: Command. Indicates IO data return. Enumerated by LAP_CMD_E.

      - name: NODE
        bits: 39..36
        attributes:
          const: "--"
        description: OCI node number.

      - name: DID
        bits: 47..40
        attributes:
          const: "(0x0c/0x0d)"
        description: Device ID. Indicates LAP0 or LAP1.

      - name: IO
        bits: 48
        attributes:
          const: "1"
        description: Indicates IO space.


  - name: LAP_SEND_LMTDMA_S
    description: LMTDMA send operations are created with an address formed with this structure.
    fields:
      - name: --
        bits: 26..0
        attributes:
          const: "--"
        description: Reserved.

      - name: ITO
        bits: 27
        attributes:
          const: "--"
        description: |
          Instant time out. Immediately return the response as if there was a timeout. Any data
          words that follow the LAP_CTL_RTN_S header that were returned with this LMTDMA will be
          undefined. Software is responsible for later retrieving the data using a separate IOBDMA.

      - name: CHAN
        bits: 28
        attributes:
          const: "--"
        description: Channel number.

      - name: EQ
        bits: 29
        attributes:
          const: "--"
        description: |
          Send to error queue. The request will be added to the exception queue to handle future
          errors. DS and DF should also be set.

      - name: DS
        bits: 30
        attributes:
          const: "--"
        description: |
          Don't send. If set, rather than sending the packet to the TCAM, pass it directly to the
          RECEIVED state as if the data came from the TCAM. This allows the hypervisor to fake
          responses.

      - name: DF
        bits: 31
        attributes:
          const: "--"
        description: |
          Don't free. Do not free the LAB if read is successful, leave it allocated until a future
          read operation.

      - name: CMD
        bits: 35..32
        attributes:
          const: "0x8"
        description: Command. Indicates send. Enumerated by LAP_CMD_E.

      - name: NODE
        bits: 39..36
        attributes:
          const: "--"
        description: OCI node number.

      - name: DID
        bits: 47..40
        attributes:
          const: "(0x0c/0x0d)"
        description: Device Id. Indicates LAP0 or LAP1.

      - name: RTNLEN
        bits: 55..48
        attributes:
          const: "--"
        description: Length of return IOBDMA transaction in words. 0 indicates no return.

      - name: SCRADDR
        bits: 63..56
        attributes:
          const: "--"
        description: CVMSEG LM address to return to. See .


registers:
  - name: LAP(0..1)_SFT_RST
    title: LAP Reset Register
    address: 0x118000C000008 | a<<24
    bus: RSL
    attributes:
      uvm_default_constraint: "True"
    fields:
      - name: BUSY
        bits: 63
        access: RO/H
        reset: --
        typical: 0
        description: |
          Initialization in progress. After reset asserts, LAP will set this bit until internal
          structures are initialized. This bit must be read as zero before any configuration may be
          done.

      - name: --
        bits: 62..1
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: RESET
        bits: 0
        access: R/W1
        reset: 0
        typical: 0
        description: Reset. When set, causes a reset of the LAP, except RSL.


  - name: LAP(0..1)_BIST_RESULT
    title: LAP BIST Result Register
    address: 0x118000C010000 | a<<24
    bus: RSL
    description: |
      This register provides access to the internal BIST results. Each bit is the BIST result of an
      individual memory (per bit, 0 = pass and 1 = fail).
    attributes:
      dv_bist_all_fail_test: "ALL"
    fields:
      - name: --
        bits: 63..9
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: NBR
        bits: 8
        access: RO/H
        reset: X
        typical: 0
        description: |
          BIST result of the NBR memory. INTERNAL: nbr.nbr_mem_fif.

      - name: EDAT
        bits: 7
        access: RO/H
        reset: X
        typical: 0
        description: |
          BIST result of the EDAT memory. INTERNAL: rcv.lap_exp_dat_mem.

      - name: EMSK
        bits: 6
        access: RO/H
        reset: X
        typical: 0
        description: |
          BIST result of the EMSK memory. INTERNAL: rcv.lap_exp_msk_mem.

      - name: --
        bits: 5..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: LAB_DAT
        bits: 3..2
        access: RO/H
        reset: X
        typical: 0x0
        description: |
          BIST result of the LAB_DAT memory. INTERNAL: lab.lab_bnk{0,1}_mem.

      - name: CTL_NXT
        bits: 1
        access: RO/H
        reset: X
        typical: 0
        description: |
          BIST result of the CTL_NXT memory. INTERNAL: ctl.lap_stl_nxt_mem.

      - name: CTL_STA
        bits: 0
        access: RO/H
        reset: X
        typical: 0
        description: |
          BIST result of the CTL_STA memory. INTERNAL: ctl.lap_stl_sta_mem.


  - name: LAP(0..1)_GEN_INT
    title: LAP General Interrupt Register
    address: 0x118000C010010 | a<<24
    bus: RSL
    description: This register contains error flags for LAP.
    attributes:
      uvm_default_constraint: "True"
    fields:
      - name: --
        bits: 63..18
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: NBR_DBE
        bits: 17
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC uncorrectable error has occurred in the NBR RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_NBR_DBE.

      - name: NBR_SBE
        bits: 16
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC correctable error has occurred in the NBR RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_NBR_SBE.

      - name: EDAT_DBE
        bits: 15
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC uncorrectable error has occurred in the EDAT RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_EDAT_DBE. See also LAP0/1_EDAT_ERR_ST.

      - name: EDAT_SBE
        bits: 14
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC correctable error has occurred in the EDAT RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_EDAT_SBE. See also LAP0/1_EDAT_ERR_ST.

      - name: EMSK_DBE
        bits: 13
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC uncorrectable error has occurred in the EMSK RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_EMSK_DBE. See also LAP0/1_EMSK_ERR_ST.

      - name: EMSK_SBE
        bits: 12
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC correctable error has occurred in the EMSK RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_EMSK_SBE. See also LAP0/1_EMSK_ERR_ST.

      - name: NXT_DBE
        bits: 11
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC uncorrectable error has occurred in the NXT RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_NXT_DBE. See also LAP0/1_NXT_ERR_ST.

      - name: NXT_SBE
        bits: 10
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC correctable error has occurred in the NXT RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_NXT_SBE. See also LAP0/1_NXT_ERR_ST.

      - name: STA_DBE
        bits: 9
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC uncorrectable error has occurred in the STA RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_STA_DBE. See also LAP0/1_STA_ERR_ST.

      - name: STA_SBE
        bits: 8
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC correctable error has occurred in the STA RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_STA_SBE. See also LAP0/1_STA_ERR_ST.

      - name: LAB_DBE
        bits: 7
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC uncorrectable error has occurred in the LAB RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_LAB_DBE. See also LAP0/1_LAB_ERR_ST.

      - name: LAB_SBE
        bits: 6
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          An ECC correctable error has occurred in the LAB RAM. Throws
          LAP_INTSN_E::LAP(0..1)_GEN_LAB_SBE. See also LAP0/1_LAB_ERR_ST.

      - name: --
        bits: 5..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: TIMEOUT
        bits: 3
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Indication timer transitioned an LAB to error state. This interrupt will typically be
          masked off, as error delivery can be in-band. Throws LAP_INTSN_E::LAP(0..1)_GEN_TIMEOUT.

      - name: NEW_EXC
        bits: 2
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Indication the exception queue contains any received packet. Software should check the
          exception queue for new packets. Throws LAP_INTSN_E::LAP(0..1)_GEN_NEW_EXC.

      - name: LOST_EXC
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Error indicating exception packet received with no LABs available on the exception queue;
          the exception packet was dropped. Throws LAP_INTSN_E::LAP(0..1)_GEN_LOST_EXC.

      - name: LABS_OUT
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Error indicating did push with no free LABs available, or LAP0/1_QUE(0..2)_CFG[MAX_LABS]
          was exceeded. Throws LAP_INTSN_E::LAP(0..1)_GEN_LABS_OUT.


  - name: LAP(0..1)_CFG
    title: LAP Configuration Register
    address: 0x118000C010040 | a<<24
    bus: RSL
    description: This register contains flags to control the LAP unit.
    fields:
      - name: --
        bits: 63..8
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: NBR_BYP_DIS
        bits: 7
        access: R/W
        reset: 0
        typical: 0
        attributes:
          uvm_default_constraint: "True"
        description: Disable the NBR FIFO RAM bypass. For diagnostic use only.

      - name: DROP_XOFF
        bits: 6
        access: R/W
        reset: 0
        typical: 0
        attributes:
          uvm_default_constraint: "True"
        description: |
          Drop outbound traffic on timeout and XOFF:
          0 = If an ILA/ASE channel is backpressured, and a response timeout occurs, leave the
          untransmitted traffic for later transmission after XON.
          1 = If an ILA/ASE channel is backpressured, and a response timeout occurs, drop all
          untransmitted traffic until XON returns.

      - name: TIME_XOFF
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        attributes:
          uvm_default_constraint: "True"
        description: |
          Timeout increment on XOFF:
          0 = If an ILA/ASE channel is backpressured, the response timeout counters are paused.
          1 = If an ILA/ASE channel is backpressured, the response timeout counters continue to run.
          This may result in timeouts due to temporary backpressure.

      - name: OOO
        bits: 4
        access: R/W
        reset: 0
        typical: 1
        description: |
          Out-of-order Transaction ID mode:
          0 = FIFO ordering on each ILA/ASE channel, no transaction id (XID) inserted.
          1 = Allow out of order returns of packets from the TCAM/ASE; insert a transaction id (XID)
          into request packets, and expect one in response packets.

      - name: ENA
        bits: 3
        access: R/W
        reset: 0
        typical: 1
        attributes:
          uvm_default_constraint: "True"
        description: |
          Enable LAP.
          0 = LAP disabled, any lookups will result in out-of-LAB interrupt.
          1 = LAP enabled.
          When ENA transitions from 0 to 1, LAP will build the free list and empty all queue lists.
          Results are unpredictable if ENA is toggled with traffic outstanding.

      - name: LAB_SIZE
        bits: 2..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Number of LABs versus size of each LAB. This register may only be changed when [ENA]=0.
          0x0 = 128 LABs, 16 words/LAB (1024 bits)
          0x1 = 170 LABs, 12 words/LAB (768 bits)
          0x2 = 256 LABs, 8 words/LAB (512 bits)
          0x3-0x7 Reserved


  - name: LAP(0..1)_ERR_CFG
    title: LAP Error Configuration Register
    address: 0x118000C010050 | a<<24
    bus: RSL
    attributes:
      uvm_default_constraint: "True"
    fields:
      - name: --
        bits: 63..28
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: NBR_FLIP
        bits: 27..26
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Testing feature. Flip syndrome bits <1:0> on writes to the NBR ram to test single-bit or
          double-bit errors.

      - name: EDAT_FLIP
        bits: 25..24
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Testing feature. Flip syndrome bits <1:0> on writes to the EDAT ram to test single-bit or
          double-bit errors.

      - name: EMSK_FLIP
        bits: 23..22
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Testing feature. Flip syndrome bits <1:0> on writes to the EMSK ram to test single-bit or
          double-bit errors.

      - name: NXT_FLIP
        bits: 21..20
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Testing feature. Flip syndrome bits <1:0> on writes to the NXT ram to test single-bit or
          double-bit errors.

      - name: STA_FLIP
        bits: 19..18
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Testing feature. Flip syndrome bits <1:0> on writes to the STA ram to test single-bit or
          double-bit errors.

      - name: LAB_FLIP
        bits: 17..16
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Testing feature. Flip syndrome bits <1:0> on writes to the LAB ram to test single-bit or
          double-bit errors.

      - name: --
        bits: 15..6
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: NBR_COR_DIS
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: Disable ECC corrector on NBR.

      - name: EDAT_COR_DIS
        bits: 4
        access: R/W
        reset: 0
        typical: 0
        description: Disable ECC corrector on EDAT.

      - name: EMSK_COR_DIS
        bits: 3
        access: R/W
        reset: 0
        typical: 0
        description: Disable ECC corrector on EMSK.

      - name: NXT_COR_DIS
        bits: 2
        access: R/W
        reset: 0
        typical: 0
        description: Disable ECC corrector on NXT.

      - name: STA_COR_DIS
        bits: 1
        access: R/W
        reset: 0
        typical: 0
        description: Disable ECC corrector on STA.

      - name: LAB_COR_DIS
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Disable ECC corrector on LAB.


  - name: LAP(0..1)_TIMEOUT
    title: LAP Timeout Register
    address: 0x118000C010060 | a<<24
    bus: RSL
    attributes:
      uvm_default_constraint: "True"
    fields:
      - name: --
        bits: 63..24
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: IOBDMA
        bits: 23..16
        access: R/W
        reset: 0x3
        typical: --
        description: |
          Timeout waiting for an IOBDMA in number of SCLKs minus one divided by 256. After between
          one and two times this interval an IOBDMA request waiting for a packet will return no-data
          as defined in Interlaken Control Word.
          0x0 = Timeout between 256 and 511 cycles
          0x1 = Timeout between 512 and 1023 cycles
          0x2 = Timeout between 768 and 1535 cycles
          etc.

      - name: --
        bits: 15..12
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: RESP
        bits: 11..0
        access: R/W
        reset: 0x7
        typical: --
        description: |
          Timeout waiting for a response in number of sclks minus one divided by 256. After between
          one and two times this interval an in-flight LAB will be considered lost and marked as
          RECEIVED with error. RESP must be set to >= (2 * LAP0/1_TIMEOUT[IOBDMA] + 1).
          0x0 = Timeout between 256 and 511 cycles
          0x1 = Timeout between 512 and 1023 cycles
          0x2 = Timeout between 768 and 1535 cycles
          etc.


  - name: LAP(0..1)_XID_POS
    title: LAP Transaction Position Register
    address: 0x118000C010070 | a<<24
    bus: RSL
    description: Configures how to insert and extract transaction ids; see Transaction ID Assignment.
    fields:
      - name: --
        bits: 63..33
        access: ---
        reset: --
        typical: 0x0
        description: Reserved.

      - name: AS_ONLY
        bits: 32
        access: R/W
        reset: 0
        typical: 1
        description: |
          Insert/extract in Interlaken-LA application specific AS fields. If set and REQ_WD or
          RTN_WD are zero, the XID field that is inserted or extracted respectively will skip over
          the non-application specific fields in the Interlaken LA header. See Transaction ID
          Packing.

      - name: --
        bits: 31..26
        access: ---
        reset: --
        typical: 0x0
        description: Reserved.

      - name: RTN_WD
        bits: 25..22
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Extract transaction tag from this 64 bit word number of the return packet; typically the
          same value as [REQ_WD]. Word 0 is the Interlaken control word, word 1 is the first word of
          payload.

      - name: RTN_LSB
        bits: 21..16
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Extract transaction tag value's LSB into this LSB of the of request packet; typically the
          same value as [REQ_LSB].

      - name: --
        bits: 15..10
        access: ---
        reset: --
        typical: 0x0
        description: Reserved.

      - name: REQ_WD
        bits: 9..6
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Insert transaction tag into this 64 bit word number of the request packet. Word 0 is the
          Interlaken control word, word 1 is the first word of payload.

      - name: REQ_LSB
        bits: 5..0
        access: R/W
        reset: 0x0
        typical: --
        description: Insert transaction tag value's LSB into this LSB of the of request packet.


  - name: LAP(0..1)_FREE_STATE
    title: LAP Free List Status Registers
    address: 0x118000C010100 | a<<24
    bus: RSL
    description: This register is for diagnostic use only.
    fields:
      - name: --
        bits: 63..40
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: TAIL
        bits: 39..32
        access: RO/H
        reset: 0x0
        typical: --
        description: LAB number that is at tail of list. Unspecified if [LABS] = 0.

      - name: --
        bits: 31..24
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: HEAD
        bits: 23..16
        access: RO/H
        reset: 0x0
        typical: --
        description: LAB number that is at head of list. Unspecified if [LABS] = 0.

      - name: --
        bits: 15..9
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: LABS
        bits: 8..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Number of LABs on list.


  - name: LAP(0..1)_RESP_STATE
    title: LAP Response List Status Registers
    address: 0x118000C010108 | a<<24
    bus: RSL
    description: This register is for diagnostic use only.
    fields:
      - name: --
        bits: 63..40
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: TAIL
        bits: 39..32
        access: RO/H
        reset: 0x0
        typical: --
        description: LAB number that is at tail of list. Unspecified if [LABS] = 0.

      - name: --
        bits: 31..24
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: HEAD
        bits: 23..16
        access: RO/H
        reset: 0x0
        typical: --
        description: LAB number that is at head of list. Unspecified if [LABS] = 0.

      - name: --
        bits: 15..9
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: LABS
        bits: 8..0
        access: RO/H
        reset: 0x0
        typical: --
        description: Number of LABs on list.


  - name: LAP(0..1)_LAB_ERR_ST
    title: LAP LAB ECC Status Register
    address: 0x118000C010200 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..26
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSYN
        bits: 25..16
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Syndrome of last LAB data ram ECC error. Latched when
          LAP0/1_GEN_INT[LAB_SBE] or [LAB_DBE] set

      - name: --
        bits: 15..10
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FADR
        bits: 9..0
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Address of last LAB data ram ECC error. Latched when
          LAP0/1_GEN_INT[LAB_SBE] or [LAB_DBE] set.


  - name: LAP(0..1)_STA_ERR_ST
    title: LAP STA ECC Status Register
    address: 0x118000C010208 | a<<24
    bus: RSL
    fields:
      - name: RESERVED60
        bits: 63..60
        access: RO/H
        reset: --
        typical: --
        description: Reserved.

      - name: --
        bits: 59..23
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSYN
        bits: 22..16
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Syndrome of last LAB state ram ECC error. Latched when
          LAP0/1_GEN_INT[STA_SBE] or [STA_DBE] set

      - name: --
        bits: 15..8
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FADR
        bits: 7..0
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Address of last LAB state ram ECC error. Latched when
          LAP0/1_GEN_INT[STA_SBE] or [STA_DBE] set.


  - name: LAP(0..1)_NXT_ERR_ST
    title: LAP NXT ECC Status Register
    address: 0x118000C010210 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..21
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSYN
        bits: 20..16
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Syndrome of last Next Pointer Ram ECC error. Latched when
          LAP0/1_GEN_INT[NXT_SBE] or [NXT_DBE] set

      - name: --
        bits: 15..8
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FADR
        bits: 7..0
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Address of last Next Pointer Ram ECC error. Latched when
          LAP0/1_GEN_INT[NXT_SBE] or [NXT_DBE] set.


  - name: LAP(0..1)_EMSK_ERR_ST
    title: LAP EMSK ECC Status Register
    address: 0x118000C010218 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..24
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSYN
        bits: 23..16
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Syndrome of last Expected Data Ram ECC error. Latched when
          LAP0/1_GEN_INT[EMSK_SBE] or [EMSK_DBE] set

      - name: --
        bits: 15..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FADR
        bits: 3..0
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Address of last Expected Data Ram ECC error. Latched when
          LAP0/1_GEN_INT[EMSK_SBE] or [EMSK_DBE] set.


  - name: LAP(0..1)_EDAT_ERR_ST
    title: LAP EDAT ECC Status Register
    address: 0x118000C010220 | a<<24
    bus: RSL
    fields:
      - name: --
        bits: 63..24
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FSYN
        bits: 23..16
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Syndrome of last Expected Mask Ram ECC error. Latched when LAP0/1_GEN_INT[EDAT_SBE] or
          [EDAT_DBE] set

      - name: --
        bits: 15..4
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: FADR
        bits: 3..0
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Address of last Expected Mask Ram ECC error. Latched when
          LAP0/1_GEN_INT[EDAT_SBE] or [EDAT_DBE] set.


  - name: LAP(0..1)_EXP(0..15)_DATA
    title: LAP Expected Data Register
    address: 0x118000C020000 | a<<24 | b<<3
    bus: RSL
    description: Configures exception error masking; see Errors.
    attributes:
      arch_max: "x,16"
      dv_fc_scratch: "a;b=(0)"
      uvm_default_constraint: "True"
    fields:
      - name: DATA
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Data value expected. The packet must have bits matching this value if the corresponding
          bits in LAP0/1_EXP(0..15)_VALID are set.


  - name: LAP(0..1)_EXP(0..15)_VALID
    title: LAP Expected Mask Register
    address: 0x118000C030000 | a<<24 | b<<3
    bus: RSL
    description: Configures exception error masking; see Errors.
    attributes:
      uvm_default_constraint: "True"
    fields:
      - name: VALID
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Valid mask. Each bit corresponds to a bit in
          LAP0/1_EXP(0..15)_VALID:
          0 = Corresponding bit is a don't care.
          1 = Corresponding bit compared against
          LAP0/1_EXP(0..15)_VALID.
          Note that some response bits indicated by LAP_CTL_RTN_S are for Interlaken control, and
          thus should always be zero (don't care) in LAP0/1_EXP_VALID(0).


  - name: LAP(0..1)_QUE(0..2)_CFG
    title: LAP Queue Configuration Registers
    address: 0x118000C040000 | a<<24 | b<<3
    bus: RSL
    attributes:
      arch_max: "x,256"
      uvm_default_constraint: "True"
    fields:
      - name: --
        bits: 63..9
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: MAX_LABS
        bits: 8..0
        access: R/W
        reset: 0x100
        typical: --
        description: |
          Maximum number of LABS allowed to be assigned to this queue; compared against
          LAP0/1_QUE(0..2)_STATE[LABS_RX] + LAP0/1_QUE(0..2)_STATE[LABS_PROC] to generate errors.
          The total across all queues' [MAX_LABS] may be over-provisioned, in which case the global
          LAP0/1_SFT_RSTLAP0/1_CFG[LAB_SIZE] number of LABs will throttle the transaction count.


  - name: LAP(0..1)_QUE(0..2)_STATE
    title: LAP Queue Status Registers
    address: 0x118000C050000 | a<<24 | b<<3
    bus: RSL
    attributes:
      arch_max: "x,256"
    fields:
      - name: --
        bits: 63..56
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: TAIL
        bits: 55..48
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          LAB number that is at tail of this queue; the most recent one to enter the PROCESSING
          state (though it may now be in RECEIVED). Unspecified if [LABS_PROC]+[LABS_RX]=0.

      - name: --
        bits: 47..44
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: HEAD_PROC
        bits: 43..36
        access: RO/H
        reset: 0x0
        typical: --
        description: LAB number that is at head of the PROCESSING state list this queue. Unspecified if [LABS_PROC]=0.

      - name: --
        bits: 35..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: HEAD
        bits: 31..24
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          LAB number that is at head of the PROCESSING or RECEIVED state list in this queue.
          Unspecified if [LABS_PROC]+[LABS_RX]=0. Valid for exception queue QUE(2) only, otherwise
          diagnostic use only.

      - name: --
        bits: 23..21
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: LABS_PROC
        bits: 20..12
        access: RO/H
        reset: 0x0
        typical: --
        description: Number of LABs in PROCESSING state in this queue.

      - name: --
        bits: 11..9
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: LABS_RX
        bits: 8..0
        access: RO/H
        reset: 0x0
        typical: --
        description: |
          Number of LABs in RECEIVED state in this queue. Valid for exception queue QUE(2) only,
          otherwise diagnostic use only.


  - name: LAP(0..1)_LAB(0..255)_STATE
    title: LAP Buffer State Registers
    address: 0x118000C060000 | a<<24 | b<<3
    bus: RSL
    description: |
      This register indicates the state of the LAB. This is intended for diagnostics and hypervisor
      resource recovery; IOBDMA Read operations would normally be used to read this state instead.
    attributes:
      arch_max: "x,2048"
    fields:
      - name: RESERVED56
        bits: 63..56
        access: RO/H
        reset: --
        typical: --
        description: Reserved.

      - name: NEXT
        bits: 55..48
        access: RO/H
        reset: 0x0
        typical: --
        description: Next LAB in chain of LABs assigned to this LAB's queue.

      - name: RESERVED16
        bits: 47..16
        access: RO/H
        reset: 0x0
        typical: --
        description: Reserved.

      - name: LENGTH
        bits: 15..12
        access: RO/H
        reset: 0x0
        typical: --
        description: Length of received data in words minus one.

      - name: RESERVED3
        bits: 11..3
        access: RO/H
        reset: 0x0
        typical: --
        description: Reserved.

      - name: DMAPEND
        bits: 2
        access: RO/H
        reset: 0
        typical: --
        description: IOBDMA or LMTDMA pending against this entry.

      - name: RECV
        bits: 1
        access: RO/H
        reset: 0
        typical: --
        description: Received. Indicates the LAB is in RECEIVED state.

      - name: VALID
        bits: 0
        access: RO/H
        reset: 0
        typical: --
        description: |
          Valid. Set to indicate the LAB is non-EMPTY. If clear, all other fields in this register
          are stale and ignored by hardware.


  - name: LAP(0..1)_LAB_DATA(0..1535)
    title: LAP Buffer Data
    address: 0x118000C080000 | a<<24 | b<<3
    bus: RSL
    description: |
      "This register reads raw data from the LABs. The address is calculated from (LAB#  *
      words_per_lab_from_table_in_LAP0/1_CFG[LAB_SIZE] + offset_in_LAB) * 8."
    attributes:
      arch_max: "x,16384"
    fields:
      - name: DATA
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: Data for specified packet word.



