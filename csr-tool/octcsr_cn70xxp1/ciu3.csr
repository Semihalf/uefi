# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: CIU3
enums:
  - name: CIU_INTSN_E
    title: |
      INTERNAL: CIU Interrupt Source Enumeration
    attributes:
      width: "20"
    description: Enumerates the different interrupts from CIU itself; see Interrupt Source Numbers.
    values:
      - name: CIB_NONE
        value: 0x00000
        attributes:
          cib_rtl_module: "none"
          intsn_complex: "1"
        description: |
          INTERNAL: No interrupt.

      - name: CIB_CANCEL
        value: 0x00001
        attributes:
          cib_rtl_module: "none"
          intsn_complex: "1"
        description: |
          INTERNAL: Request not needed as interrupt already cleared.


  - name: CIU_INTSN_MAJOR_E
    title: |
      INTERNAL: CIU Master Interrupt Source Number Enumeration
    attributes:
      cib_rtl_ciu1_style: "1"
      width: "8"
    description: |
      INTERNAL: Where possible, these numbers match the RSLDID assignments in chip_defines.vh.
      Enumerates the upper 8 bits of interrupt source numbers; see Interrupt Source Numbers.
    values:
      - name: CIU
        value: 0x00
        attributes:
          see_enumeration: "CIU_INTSN_E on CIU_INTSN_E"
        description: CIU

      - name: RST
        value: 0x06
        attributes:
          see_enumeration: "RST_INTSN_E on TBD-TECHDOC"
        description: Reset interrupts

      - name: USBDRD(0..1)
        value: 0x68 + a
        attributes:
          see_enumeration: "USBDRD_UCTL_INTSN_E on TBD-TECHDOC"
        description: USB controller interrupts; see .

      - name: SATA
        value: 0x6C
        attributes:
          see_enumeration: "SATA_UCTL_INTSN_E on TBD-TECHDOC"
        description: SATA controller interrupts; see .

      - name: L2C
        value: 0x80
        attributes:
          see_enumeration: "L2C_INTSN_E on TBD-TECHDOC-link"
        description: L2C interrupts; see .

      - name: LMC(0)
        value: 0x88 + a
        attributes:
          see_enumeration: "LMC_INTSN_E on TBD-TECHDOC-link"
        description: LMC interrupts; see .

      - name: OCLA(0)
        value: 0xA8 + a
        attributes:
          see_enumeration: "OCLA_INTSN_E on"
        description: OCLA interrupts; see .


structs:
  - name: CIU_PP_INT_S
    description: This structure specifies the layout of RTL interrupt delivery. It is not visible to software.
    fields:
      - name: RST
        bits: 0
        description: Reset control for the core specified by PPVID.

      - name: DINT
        bits: 1
        description: DINT pulse to core specified by PPVID.

      - name: NMI
        bits: 2
        description: NMI pulse to core specified by PPVID.

      - name: IRQ
        bits: 5..3
        attributes:
          verilog_struct_row_offset: "2"
        description: Interrupt IRQ2,3,4 for the core specified by PPVID.

      - name: PPVID
        bits: 11..6
        description: Virtual core number.

      - name: PWRDWN
        bits: 12
        description: Core does not require power.

      - name: VALID
        bits: 13
        description: Data transmitted on interface is valid..



