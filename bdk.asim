
# Load the CN88XX IOs
@../asim/tests/io/cn88xx-1s48p.asim

# Listen for uart connections on port 2000, 2001
control n0.uaa0 connect 2000
control n0.uaa1 connect 2001

# Load the BDK image
load target-bin/bdk-boot-cn88xx.bin 0
symbols bdk-boot/bdk-full-no-romfs

# Set PC to zero
rm0 pc = 0

# Control tracing
trace cpu0 debug
show_source off

# Break on synchronous exceptions for debugging
bp __bdk_exception_current_el_sync_sp0
bp __bdk_exception_current_el_irq_sp0
bp __bdk_exception_current_el_fiq_sp0
bp __bdk_exception_current_el_serror_sp0
bp __bdk_exception_current_el_sync_spx
bp __bdk_exception_current_el_irq_spx
bp __bdk_exception_current_el_fiq_spx
bp __bdk_exception_current_el_serror_spx
bp __bdk_exception_lower_el_sync_sp0
bp __bdk_exception_lower_el_irq_sp0
bp __bdk_exception_lower_el_fiq_sp0
bp __bdk_exception_lower_el_serror_sp0
bp __bdk_exception_lower_el_sync_spx
bp __bdk_exception_lower_el_irq_spx
bp __bdk_exception_lower_el_fiq_spx
bp __bdk_exception_lower_el_serror_spx
#bp __bdk_thread_switch
#bp bdk_thread_destroy


