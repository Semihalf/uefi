# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: AGL
registers:
  - name: AGL_GMX_RX(0..0)_INT_REG
    title: Interrupt Register
    address: 0x11800E0000000 + a*0x800
    bus: RSL
    internal: |
      (1) exceptions will only be raised to the control processor if the
      corresponding bit in the AGL_GMX_RX_INT_EN register is set.
      (2) exception conditions 10:0 can also set the rcv/opcode in the received
      packet's workQ entry.  The AGL_GMX_RX_FRM_CHK register provides a bit mask
      for configuring which conditions set the error.
      (3) in half duplex operation, the expectation is that collisions will appear
      as MINERRs.
      (4) JABBER An RX Jabber error indicates that a packet was received which
      is longer than the maximum allowed packet as defined by the
      system.  GMX will truncate the packet at the JABBER count.
      Failure to do so could lead to system instabilty.
      (6) MAXERR for untagged frames, the total frame DA+SA+TL+DATA+PAD+FCS >
      AGL_GMX_RX_FRM_MAX.  For tagged frames, DA+SA+VLAN+TL+DATA+PAD+FCS
      > AGL_GMX_RX_FRM_MAX + 4*VLAN_VAL + 4*VLAN_STACKED.
      (7) MINERR total frame DA+SA+TL+DATA+PAD+FCS < AGL_GMX_RX_FRM_MIN.
      (8) ALNERR Indicates that the packet received was not an integer number of
      bytes.  If FCS checking is enabled, ALNERR will only assert if
      the FCS is bad.  If FCS checking is disabled, ALNERR will
      assert in all non-integer frame cases.
      (9) Collisions Collisions can only occur in half-duplex mode.  A collision
      is assumed by the receiver when the received
      frame < AGL_GMX_RX_FRM_MIN this is normally a MINERR
      (A) LENERR Length errors occur when the received packet does not match the
      length field.  LENERR is only checked for packets between 64
      and 1500 bytes.  For untagged frames, the length must exact
      match.  For tagged frames the length or length+4 must match.
      (B) PCTERR checks that the frame begins with a valid PREAMBLE sequence.
      Does not check the number of PREAMBLE cycles.
      (C) OVRERR INTERNAL: *DON'T PUT IN HRM*
      OVRERR is an architectural assertion check internal to GMX to
      make sure no assumption was violated.  In a correctly operating
      system, this interrupt can never fire.
      GMX has an internal arbiter which selects which of 4 ports to
      buffer in the main RX FIFO.  If we normally buffer 8 bytes,
      then each port will typically push a tick every 8 cycles if
      the packet interface is going as fast as possible.  If there
      are four ports, they push every two cycles.  So that's the
      assumption.  That the inbound module will always be able to
      consume the tick before another is produced.  If that doesn't
      happen that's when OVRERR will assert.
    fields:
      - name: --
        bits: 63..30
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: WOL
        bits: 29
        access: R/W1C/H
        reset: 0
        typical: 0
        description: A Wake-on-LAN event has occurred

      - name: --
        bits: 28..20
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PAUSE_DRP
        bits: 19
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Pause packet was dropped due to full GMX RX FIFO

      - name: PHY_DUPX
        bits: 18
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Change in the RGMII inbound LinkDuplex

      - name: PHY_SPD
        bits: 17
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Change in the RGMII inbound LinkSpeed

      - name: PHY_LINK
        bits: 16
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Change in the RGMII inbound LinkStatus

      - name: IFGERR
        bits: 15
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Interframe Gap Violation
          Does not necessarily indicate a failure

      - name: COLDET
        bits: 14
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Collision Detection

      - name: FALERR
        bits: 13
        access: R/W1C/H
        reset: 0
        typical: 0
        description: False carrier error or extend error after slottime

      - name: RSVERR
        bits: 12
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Packet reserved opcodes

      - name: PCTERR
        bits: 11
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Bad Preamble / Protocol

      - name: OVRERR
        bits: 10
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Internal Data Aggregation Overflow
          This interrupt should never assert

      - name: NIBERR
        bits: 9
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Nibble error (hi_nibble != lo_nibble)

      - name: SKPERR
        bits: 8
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Skipper error

      - name: RCVERR
        bits: 7
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Frame was received with Packet Data reception error

      - name: LENERR
        bits: 6
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Frame was received with length error

      - name: ALNERR
        bits: 5
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Frame was received with an alignment error

      - name: FCSERR
        bits: 4
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Frame was received with FCS/CRC error

      - name: JABBER
        bits: 3
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Frame was received with length > sys_length

      - name: MAXERR
        bits: 2
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Frame was received with length > max_length

      - name: CAREXT
        bits: 1
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Carrier extend error

      - name: MINERR
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Frame was received with length < min_length


  - name: AGL_GMX_RX(0..0)_INT_EN
    title: Interrupt Enable
    address: 0x11800E0000008 + a*0x800
    bus: RSL
    attributes:
      dv_fc_scratch: "ALL"
    fields:
      - name: --
        bits: 63..30
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: WOL
        bits: 29
        access: R/W/H
        reset: 0
        typical: 0
        description: A Wake-on-LAN event has occurred

      - name: --
        bits: 28..20
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PAUSE_DRP
        bits: 19
        access: R/W/H
        reset: 0
        typical: 0
        description: Pause packet was dropped due to full GMX RX FIFO

      - name: PHY_DUPX
        bits: 18
        access: R/W
        reset: 0
        typical: 0
        description: Change in the RMGII inbound LinkDuplex

      - name: PHY_SPD
        bits: 17
        access: R/W
        reset: 0
        typical: 0
        description: Change in the RMGII inbound LinkSpeed

      - name: PHY_LINK
        bits: 16
        access: R/W
        reset: 0
        typical: 0
        description: Change in the RMGII inbound LinkStatus

      - name: IFGERR
        bits: 15
        access: R/W
        reset: 0
        typical: 0
        description: Interframe Gap Violation

      - name: COLDET
        bits: 14
        access: R/W
        reset: 0
        typical: 0
        description: Collision Detection

      - name: FALERR
        bits: 13
        access: R/W
        reset: 0
        typical: 0
        description: False carrier error or extend error after slottime

      - name: RSVERR
        bits: 12
        access: R/W
        reset: 0
        typical: 0
        description: Packet reserved opcodes

      - name: PCTERR
        bits: 11
        access: R/W
        reset: 0
        typical: 0
        description: Bad Preamble / Protocol

      - name: OVRERR
        bits: 10
        access: R/W
        reset: 0
        typical: 0
        description: Internal Data Aggregation Overflow

      - name: NIBERR
        bits: 9
        access: R/W
        reset: 0
        typical: 0
        description: Nibble error (hi_nibble != lo_nibble)

      - name: SKPERR
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: Skipper error

      - name: RCVERR
        bits: 7
        access: R/W
        reset: 0
        typical: 0
        description: Frame was received with RMGII Data reception error

      - name: LENERR
        bits: 6
        access: R/W
        reset: 0
        typical: 0
        description: Frame was received with length error

      - name: ALNERR
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: Frame was received with an alignment error

      - name: FCSERR
        bits: 4
        access: R/W
        reset: 0
        typical: 0
        description: Frame was received with FCS/CRC error

      - name: JABBER
        bits: 3
        access: R/W
        reset: 0
        typical: 0
        description: Frame was received with length > sys_length

      - name: MAXERR
        bits: 2
        access: R/W
        reset: 0
        typical: 0
        description: Frame was received with length > max_length

      - name: CAREXT
        bits: 1
        access: R/W
        reset: 0
        typical: 0
        description: Carrier extend error

      - name: MINERR
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Frame was received with length < min_length


  - name: AGL_GMX_PRT(0..0)_CFG
    title: Port description
    address: 0x11800E0000010 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..14
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TX_IDLE
        bits: 13
        access: RO/H
        reset: 1
        typical: --
        description: TX Machine is idle

      - name: RX_IDLE
        bits: 12
        access: RO/H
        reset: 1
        typical: --
        description: RX Machine is idle

      - name: --
        bits: 11..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SPEED_MSB
        bits: 8
        access: R/W
        reset: 0
        typical: --
        description: |
          Link Speed MSB [SPEED_MSB:SPEED]
          10 = 10Mbs operation
          00 = 100Mbs operation
          01 = 1000Mbs operation
          11 = Reserved

      - name: --
        bits: 7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BURST
        bits: 6
        access: R/W
        reset: 0
        typical: --
        description: |
          Half-Duplex Burst Enable
          Only valid for 1000Mbs half-duplex operation
          0 = burst length of 0x2000 (halfdup / 1000Mbs)
          1 = burst length of 0x0    (all other modes)

      - name: TX_EN
        bits: 5
        access: R/W
        reset: 0
        typical: --
        description: |
          Port enable.  Must be set for Octane to send
          RMGII traffic.   When this bit clear on a given
          port, then all packet cycles will appear as
          inter-frame cycles.

      - name: RX_EN
        bits: 4
        access: R/W
        reset: 0
        typical: --
        description: |
          Port enable.  Must be set for Octane to receive
          RMGII traffic.  When this bit clear on a given
          port, then the all packet cycles will appear as
          inter-frame cycles.

      - name: SLOTTIME
        bits: 3
        access: R/W
        reset: 1
        typical: --
        description: |
          Slot Time for Half-Duplex operation
          0 = 512 bitimes (10/100Mbs operation)
          1 = 4096 bitimes (1000Mbs operation)

      - name: DUPLEX
        bits: 2
        access: R/W
        reset: 1
        typical: --
        description: |
          Duplex
          0 = Half Duplex (collisions/extentions/bursts)
          1 = Full Duplex

      - name: SPEED
        bits: 1
        access: R/W
        reset: 1
        typical: --
        description: |
          Link Speed LSB [SPEED_MSB:SPEED]
          10 = 10Mbs operation
          00 = 100Mbs operation
          01 = 1000Mbs operation
          11 = Reserved

      - name: EN
        bits: 0
        access: R/W
        reset: 0
        typical: --
        description: |
          Link Enable
          When EN is clear, packets will not be received
          or transmitted (including PAUSE and JAM packets).
          If EN is cleared while a packet is currently
          being received or transmitted, the packet will
          be allowed to complete before the bus is idled.
          On the RX side, subsequent packets in a burst
          will be ignored.


  - name: AGL_GMX_RX(0..0)_FRM_CTL
    title: Frame Control
    address: 0x11800E0000018 + a*0x800
    bus: RSL
    internal: |
      "* PRE_STRP
      When PRE_CHK is set (indicating that the PREAMBLE will be sent), PRE_STRP
      determines if the PREAMBLE+SFD bytes are thrown away or sent to the Octane
      core as part of the packet.
      In either mode, the PREAMBLE+SFD bytes are not counted toward the packet
      size when checking against the MIN and MAX bounds.  Furthermore, the bytes
      are skipped when locating the start of the L2 header for DMAC and Control
      frame recognition.
      * CTL_BCK/CTL_DRP
      These bits control how the HW handles incoming PAUSE packets.  Here are
      the most common modes of operation:
      CTL_BCK=1,CTL_DRP=1   HW does it all
      CTL_BCK=0,CTL_DRP=0   SW sees all pause frames
      CTL_BCK=0,CTL_DRP=1   all pause frames are completely ignored
      These control bits should be set to CTL_BCK=0,CTL_DRP=0 in halfdup mode.
      Since PAUSE packets only apply to fulldup operation, any PAUSE packet
      would constitute an exception which should be handled by the processing
      cores.  PAUSE packets should not be forwarded."
    fields:
      - name: --
        bits: 63..13
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PTP_MODE
        bits: 12
        access: R/W
        reset: 0
        typical: 0
        description: |
          Timestamp mode
          When PTP_MODE is set, a 64-bit timestamp will be
          prepended to every incoming packet. The timestamp
          bytes are added to the packet in such a way as to
          not modify the packet's receive byte count.  This
          implies that the AGL_GMX_RX_JABBER,
          AGL_GMX_RX_FRM_MIN, AGL_GMX_RX_FRM_MAX,
          AGL_GMX_RX_DECISION, AGL_GMX_RX_UDD_SKP, and the
          AGL_GMX_RX_STATS_* do not require any adjustment
          as they operate on the received packet size.
          If PTP_MODE=1 and PRE_CHK=1, PRE_STRP must be 1.

      - name: --
        bits: 11
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: NULL_DIS
        bits: 10
        access: R/W
        reset: 0
        typical: 0
        description: |
          When set, do not modify the MOD bits on NULL ticks
          due to PARITAL packets

      - name: PRE_ALIGN
        bits: 9
        access: R/W
        reset: 1
        typical: 1
        description: |
          When set, PREAMBLE parser aligns the the SFD byte
          regardless of the number of previous PREAMBLE
          nibbles.  In this mode, PRE_STRP should be set to
          account for the variable nature of the PREAMBLE.
          PRE_CHK must be set to enable this and all
          PREAMBLE features.

      - name: PAD_LEN
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: |
          When set, disables the length check for non-min
          sized pkts with padding in the client data

      - name: VLAN_LEN
        bits: 7
        access: R/W
        reset: 0
        typical: 0
        description: When set, disables the length check for VLAN pkts

      - name: PRE_FREE
        bits: 6
        access: RO
        reset: 1
        typical: 1
        description: |
          When set, PREAMBLE checking is less strict.
          AGL will begin the frame at the first SFD.
          PRE_FREE must be set if PRE_ALIGN is set.
          PRE_CHK must be set to enable this and all
          PREAMBLE features.

      - name: CTL_SMAC
        bits: 5
        access: R/W
        reset: 0
        typical: 0
        description: Control Pause Frames can match station SMAC

      - name: CTL_MCST
        bits: 4
        access: R/W
        reset: 1
        typical: 1
        description: |
          Control Pause Frames can match globally assign
          Multicast address

      - name: CTL_BCK
        bits: 3
        access: R/W
        reset: 1
        typical: 1
        description: Forward pause information to TX block

      - name: CTL_DRP
        bits: 2
        access: R/W
        reset: 1
        typical: 1
        description: Drop Control Pause Frames

      - name: PRE_STRP
        bits: 1
        access: R/W
        reset: 1
        typical: 1
        description: |
          Strip off the preamble (when present)
          0=PREAMBLE+SFD is sent to core as part of frame
          1=PREAMBLE+SFD is dropped
          PRE_STRP must be set if PRE_ALIGN is set.
          PRE_CHK must be set to enable this and all
          PREAMBLE features.

      - name: PRE_CHK
        bits: 0
        access: R/W
        reset: 1
        typical: 1
        description: |
          This port is configured to send a valid 802.3
          PREAMBLE to begin every frame. AGL checks that a
          valid PREAMBLE is received (based on PRE_FREE).
          When a problem does occur within the PREAMBLE
          seqeunce, the frame is marked as bad and not sent
          into the core.  The AGL_GMX_RX_INT_REG[PCTERR]
          interrupt is also raised.


  - name: AGL_GMX_RX(0..0)_FRM_CHK
    title: Which frame errors will set the ERR bit of the frame
    address: 0x11800E0000020 + a*0x800
    bus: RSL
    internal: If AGL_GMX_RX_UDD_SKP[LEN] != 0, then LENERR will be forced to zero in HW.
    fields:
      - name: --
        bits: 63..10
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: NIBERR
        bits: 9
        access: R/W
        reset: 1
        typical: 1
        description: Nibble error

      - name: SKPERR
        bits: 8
        access: R/W
        reset: 1
        typical: 1
        description: Skipper error

      - name: RCVERR
        bits: 7
        access: R/W
        reset: 1
        typical: 1
        description: Frame was received with packet data reception error

      - name: LENERR
        bits: 6
        access: R/W
        reset: 0
        typical: 0
        description: |
          Frame was received with length error
          Most systems should use the checking in PKI/PIP
          for checking the L2 length field.

      - name: ALNERR
        bits: 5
        access: R/W
        reset: 1
        typical: 1
        description: Frame was received with an alignment error

      - name: FCSERR
        bits: 4
        access: R/W
        reset: 1
        typical: 1
        description: Frame was received with FCS/CRC error

      - name: JABBER
        bits: 3
        access: R/W
        reset: 1
        typical: 1
        description: Frame was received with length > sys_length

      - name: MAXERR
        bits: 2
        access: R/W
        reset: 1
        typical: 1
        description: Frame was received with length > max_length

      - name: CAREXT
        bits: 1
        access: R/W
        reset: 1
        typical: 1
        description: Carrier extend error

      - name: MINERR
        bits: 0
        access: R/W
        reset: 1
        typical: 1
        description: Frame was received with length < min_length


  - name: AGL_GMX_RX(0..0)_FRM_MIN
    title: Frame Min length
    address: 0x11800E0000028 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LEN
        bits: 15..0
        access: R/W
        reset: 0x40
        typical: 0x40
        description: |
          Byte count for Min-sized frame check
          AGL_GMX_RXn_FRM_CHK[MINERR] enables the check
          for port n.
          If enabled, failing packets set the MINERR
          interrupt and the WQE opcode is set to UNDER_FCS
          (0x6, if packet has bad FCS) or UNDER_ERR (0x8,
          if packet has good FCS).


  - name: AGL_GMX_RX(0..0)_FRM_MAX
    title: Frame Max length
    address: 0x11800E0000030 + a*0x800
    bus: RSL
    internal: |
      When changing the LEN field, be sure that LEN does not exceed
      AGL_GMX_RX_JABBER[CNT]. Failure to meet this constraint will cause packets that
      are within the maximum length parameter to be rejected because they exceed
      the AGL_GMX_RX_JABBER[CNT] limit.
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LEN
        bits: 15..0
        access: R/W
        reset: 0x600
        typical: 0x600
        description: |
          Byte count for Max-sized frame check
          AGL_GMX_RXn_FRM_CHK[MAXERR] enables the check
          for port n.
          If enabled, failing packets set the MAXERR
          interrupt and the WQE opcode is set to OVER_FCS
          (0x3, if packet has bad FCS) or OVER_ERR (0x4, if
          packet has good FCS).
          LEN <= AGL_GMX_RX_JABBER[CNT]


  - name: AGL_GMX_RX(0..0)_JABBER
    title: The max size packet after which GMX will truncate
    address: 0x11800E0000038 + a*0x800
    bus: RSL
    internal: |
      CNT must be 8-byte aligned such that CNT[2:0] == 0
      The packet that will be sent to the packet input logic will have an
      additionl 8 bytes if AGL_GMX_RX_FRM_CTL[PRE_CHK] is set and
      AGL_GMX_RX_FRM_CTL[PRE_STRP] is clear.  The max packet that will be sent is
      defined as...
      max_sized_packet = AGL_GMX_RX_JABBER[CNT]+((AGL_GMX_RX_FRM_CTL[PRE_CHK] &
      !AGL_GMX_RX_FRM_CTL[PRE_STRP])*8)
      Be sure the CNT field value is at least as large as the
      AGL_GMX_RX_FRM_MAX[LEN] value. Failure to meet this constraint will cause
      packets that are within the AGL_GMX_RX_FRM_MAX[LEN] length to be rejected
      because they exceed the CNT limit.
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 15..0
        access: R/W
        reset: 0x2800
        typical: 0x2800
        description: |
          Byte count for jabber check
          Failing packets set the JABBER interrupt and are
          optionally sent with opcode==JABBER
          GMX will truncate the packet to CNT bytes
          CNT >= AGL_GMX_RX_FRM_MAX[LEN]


  - name: AGL_GMX_RX(0..0)_DECISION
    title: The byte count to decide when to accept or filter a packet
    address: 0x11800E0000040 + a*0x800
    bus: RSL
    internal: |
      As each byte in a packet is received by GMX, the L2 byte count is compared
      against the AGL_GMX_RX_DECISION[CNT].  The L2 byte count is the number of bytes
      from the beginning of the L2 header (DMAC).  In normal operation, the L2
      header begins after the PREAMBLE+SFD (AGL_GMX_RX_FRM_CTL[PRE_CHK]=1) and any
      optional UDD skip data (AGL_GMX_RX_UDD_SKP[LEN]).
      When AGL_GMX_RX_FRM_CTL[PRE_CHK] is clear, PREAMBLE+SFD are prepended to the
      packet and would require UDD skip length to account for them.
      L2 Size
      Port Mode              <=AGL_GMX_RX_DECISION bytes (default=24)        >AGL_GMX_RX_DECISION
      bytes (default=24)
      RGMII/Full Duplex     accept packet                                apply filters
      no filtering is applied                        accept packet based on DMAC and PAUSE packet
      filters
      RGMII/Half Duplex     drop packet                                apply filters
      packet is unconditionally dropped                accept packet based on DMAC
      where l2_size = MAX(0, total_packet_size AGL_GMX_RX_UDD_SKP[LEN]
      ((AGL_GMX_RX_FRM_CTL[PRE_CHK]==1)*8)
    fields:
      - name: --
        bits: 63..5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 4..0
        access: R/W
        reset: 0x18
        typical: 0x18
        description: |
          The byte count to decide when to accept or filter
          a packet.


  - name: AGL_GMX_RX(0..0)_UDD_SKP
    title: Amount of User-defined data before the start of the L2 data
    address: 0x11800E0000048 + a*0x800
    bus: RSL
    internal: |
      (1) The skip bytes are part of the packet and will be sent down the NCB
      packet interface and will be handled by PKI.
      (2) The system can determine if the UDD bytes are included in the FCS check
      by using the FCSSEL field if the FCS check is enabled.
      (3) Assume that the preamble/sfd is always at the start of the frame even
      before UDD bytes.  In most cases, there will be no preamble in these
      cases since it will be MAC to MAC communication without a PHY
      involved.
      (4) We can still do address filtering and control packet filtering is the
      user desires.
      (5) UDD_SKP must be 0 in half-duplex operation unless
      AGL_GMX_RX_FRM_CTL[PRE_CHK] is clear.  If AGL_GMX_RX_FRM_CTL[PRE_CHK] is set,
      then UDD_SKP will normally be 8.
      (6) In all cases, the UDD bytes will be sent down the packet interface as
      part of the packet.  The UDD bytes are never stripped from the actual
      packet.
      (7) If LEN != 0, then AGL_GMX_RX_FRM_CHK[LENERR] will be disabled and
      AGL_GMX_RX_INT_REG[LENERR] will be zero
    fields:
      - name: --
        bits: 63..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FCSSEL
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: |
          Include the skip bytes in the FCS calculation
          0 = all skip bytes are included in FCS
          1 = the skip bytes are not included in FCS

      - name: --
        bits: 7
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LEN
        bits: 6..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: |
          Amount of User-defined data before the start of
          the L2 data.  Zero means L2 comes first.
          Max value is 64.


  - name: AGL_GMX_RX(0..0)_STATS_CTL
    title: RX Stats Control register
    address: 0x11800E0000050 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RD_CLR
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: RX Stats registers will clear on reads


  - name: AGL_GMX_RX(0..0)_IFG
    title: RX Min IFG
    address: 0x11800E0000058 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: IFG
        bits: 3..0
        access: R/W
        reset: 0x8
        typical: 0x8
        description: |
          Min IFG (in IFG*8 bits) between packets used to
          determine IFGERR. Normally IFG is 96 bits.
          Note in some operating modes, IFG cycles can be
          inserted or removed in order to achieve clock rate
          adaptation. For these reasons, the default value
          is slightly conservative and does not check upto
          the full 96 bits of IFG.


  - name: AGL_GMX_RX(0..0)_RX_INBND
    address: 0x11800E0000060 + a*0x800
    bus: RSL
    description: AGL_GMX_RX_INBND = RGMII InBand Link Status
    internal: |
      These fields are only valid if the attached PHY is operating in RGMII mode
      and supports the optional in-band status (see section 3.4.1 of the RGMII
      specification, version 1.3 for more information).
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DUPLEX
        bits: 3
        access: RO
        reset: 0
        typical: --
        description: |
          RGMII Inbound LinkDuplex
          0=half-duplex
          1=full-duplex

      - name: SPEED
        bits: 2..1
        access: RO
        reset: 0x0
        typical: --
        description: |
          RGMII Inbound LinkSpeed
          00=2.5MHz
          01=25MHz
          10=125MHz
          11=Reserved

      - name: STATUS
        bits: 0
        access: RO
        reset: 0
        typical: --
        description: |
          RGMII Inbound LinkStatus
          0=down
          1=up


  - name: AGL_GMX_RX(0..0)_PAUSE_DROP_TIME
    title: The TIME field in a PAUSE Packet which was dropped due to GMX RX FIFO full condition
    address: 0x11800E0000068 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: STATUS
        bits: 15..0
        access: R/W1C/H
        reset: 0x0
        typical: --
        description: Time extracted from the dropped PAUSE packet


  - name: AGL_GMX_RX(0..0)_STATS_PKTS
    address: 0x11800E0000080 + a*0x800
    bus: RSL
    description: |
      Count of good received packets - packets that are not recognized as PAUSE
      packets, dropped due the DMAC filter, dropped due FIFO full status, or
      have any other OPCODE (FCS, Length, etc).
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_RX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Count of received good packets


  - name: AGL_GMX_RX(0..0)_STATS_OCTS
    address: 0x11800E0000088 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 47..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Octet count of received good packets


  - name: AGL_GMX_RX(0..0)_STATS_PKTS_CTL
    address: 0x11800E0000090 + a*0x800
    bus: RSL
    description: |
      Count of all packets received that were recognized as Flow Control or
      PAUSE packets.  PAUSE packets with any kind of error are counted in
      AGL_GMX_RX_STATS_PKTS_BAD.  Pause packets can be optionally dropped or
      forwarded based on the AGL_GMX_RX_FRM_CTL[CTL_DRP] bit.  This count
      increments regardless of whether the packet is dropped.  Pause packets
      will never be counted in AGL_GMX_RX_STATS_PKTS.  Packets dropped due the dmac
      filter will be counted in AGL_GMX_RX_STATS_PKTS_DMAC and not here.
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_RX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Count of received pause packets


  - name: AGL_GMX_RX(0..0)_STATS_OCTS_CTL
    address: 0x11800E0000098 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 47..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Octet count of received pause packets


  - name: AGL_GMX_RX(0..0)_STATS_PKTS_DMAC
    address: 0x11800E00000A0 + a*0x800
    bus: RSL
    description: |
      Count of all packets received that were dropped by the dmac filter.
      Packets that match the DMAC will be dropped and counted here regardless
      of if they were bad packets.  These packets will never be counted in
      AGL_GMX_RX_STATS_PKTS.
      Some packets that were not able to satisify the DECISION_CNT may not
      actually be dropped by Octeon, but they will be counted here as if they
      were dropped.
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_RX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Count of filtered dmac packets


  - name: AGL_GMX_RX(0..0)_STATS_OCTS_DMAC
    address: 0x11800E00000A8 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 47..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Octet count of filtered dmac packets


  - name: AGL_GMX_RX(0..0)_STATS_PKTS_DRP
    address: 0x11800E00000B0 + a*0x800
    bus: RSL
    description: |
      Count of all packets received that were dropped due to a full receive
      FIFO.  This counts good and bad packets received - all packets dropped by
      the FIFO.  It does not count packets dropped by the dmac or pause packet
      filters.
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_RX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Count of dropped packets


  - name: AGL_GMX_RX(0..0)_STATS_OCTS_DRP
    address: 0x11800E00000B8 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 47..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Octet count of dropped packets


  - name: AGL_GMX_RX(0..0)_STATS_PKTS_BAD
    address: 0x11800E00000C0 + a*0x800
    bus: RSL
    description: |
      Count of all packets received with some error that were not dropped
      either due to the dmac filter or lack of room in the receive FIFO.
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_RX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Count of bad packets


  - name: AGL_GMX_RX(0..0)_ADR_CTL
    title: Address Filtering Control
    address: 0x11800E0000100 + a*0x800
    bus: RSL
    internal: |
      "* ALGORITHM
      Here is some pseudo code that represents the address filter behavior.
      @verbatim
      bool dmac_addr_filter(uint8 prt, uint48 dmac) {
      ASSERT(prt >= 0 && prt <= 3);
      if (is_bcst(dmac))                               // broadcast accept
      return (AGL_GMX_RX{prt}_ADR_CTL[BCST] ? ACCEPT : REJECT);
      if (is_mcst(dmac) & AGL_GMX_RX{prt}_ADR_CTL[MCST] == 1)   // multicast reject
      return REJECT;
      if (is_mcst(dmac) & AGL_GMX_RX{prt}_ADR_CTL[MCST] == 2)   // multicast accept
      return ACCEPT;
      cam_hit = 0;
      for (i=0; i<8; i++) {
      if (AGL_GMX_RX{prt}_ADR_CAM_EN[EN<i>] == 0)
      continue;
      uint48 unswizzled_mac_adr = 0x0;
      for (j=5; j>=0; j--) {
      unswizzled_mac_adr = (unswizzled_mac_adr << 8) | AGL_GMX_RX{prt}_ADR_CAM{j}[ADR<i*8+7:i*8>];
      }
      if (unswizzled_mac_adr == dmac) {
      cam_hit = 1;
      break;
      }
      }
      if (cam_hit)
      return (AGL_GMX_RX{prt}_ADR_CTL[CAM_MODE] ? ACCEPT : REJECT);
      else
      return (AGL_GMX_RX{prt}_ADR_CTL[CAM_MODE] ? REJECT : ACCEPT);
      }
      @endverbatim"
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CAM_MODE
        bits: 3
        access: R/W
        reset: 0
        typical: --
        description: |
          Allow or deny DMAC address filter
          0 = reject the packet on DMAC address match
          1 = accept the packet on DMAC address match

      - name: MCST
        bits: 2..1
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Multicast Mode
          0 = Use the Address Filter CAM
          1 = Force reject all multicast packets
          2 = Force accept all multicast packets
          3 = Reserved

      - name: BCST
        bits: 0
        access: R/W
        reset: 1
        typical: --
        description: Accept All Broadcast Packets


  - name: AGL_GMX_RX(0..0)_ADR_CAM_EN
    title: Address Filtering Control Enable
    address: 0x11800E0000108 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN
        bits: 7..0
        access: R/W
        reset: 0x0
        typical: --
        description: CAM Entry Enables


  - name: AGL_GMX_RX(0..0)_ADR_CAM0
    address: 0x11800E0000180 + a*0x800
    bus: RSL
    description: AGL_GMX_RX_ADR_CAM = Address Filtering Control
    fields:
      - name: ADR
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          The DMAC address to match on
          Each entry contributes 8bits to one of 8 matchers.
          The CAM matches against unicst or multicst DMAC
          addresses.


  - name: AGL_GMX_RX(0..0)_ADR_CAM1
    address: 0x11800E0000188 + a*0x800
    bus: RSL
    description: AGL_GMX_RX_ADR_CAM = Address Filtering Control
    fields:
      - name: ADR
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          The DMAC address to match on
          Each entry contributes 8bits to one of 8 matchers.
          The CAM matches against unicst or multicst DMAC
          addresses.


  - name: AGL_GMX_RX(0..0)_ADR_CAM2
    address: 0x11800E0000190 + a*0x800
    bus: RSL
    description: AGL_GMX_RX_ADR_CAM = Address Filtering Control
    fields:
      - name: ADR
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          The DMAC address to match on
          Each entry contributes 8bits to one of 8 matchers.
          The CAM matches against unicst or multicst DMAC
          addresses.


  - name: AGL_GMX_RX(0..0)_ADR_CAM3
    address: 0x11800E0000198 + a*0x800
    bus: RSL
    description: AGL_GMX_RX_ADR_CAM = Address Filtering Control
    fields:
      - name: ADR
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          The DMAC address to match on
          Each entry contributes 8bits to one of 8 matchers.
          The CAM matches against unicst or multicst DMAC
          addresses.


  - name: AGL_GMX_RX(0..0)_ADR_CAM4
    address: 0x11800E00001A0 + a*0x800
    bus: RSL
    description: AGL_GMX_RX_ADR_CAM = Address Filtering Control
    fields:
      - name: ADR
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          The DMAC address to match on
          Each entry contributes 8bits to one of 8 matchers.
          The CAM matches against unicst or multicst DMAC
          addresses.


  - name: AGL_GMX_RX(0..0)_ADR_CAM5
    address: 0x11800E00001A8 + a*0x800
    bus: RSL
    description: AGL_GMX_RX_ADR_CAM = Address Filtering Control
    fields:
      - name: ADR
        bits: 63..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          The DMAC address to match on
          Each entry contributes 8bits to one of 8 matchers.
          The CAM matches against unicst or multicst DMAC
          addresses.


  - name: AGL_GMX_TX(0..0)_CLK
    title: RGMII TX Clock Generation Register
    address: 0x11800E0000208 + a*0x800
    bus: RSL
    internal: |
      Normal Programming Values:
      (1) RGMII, 1000Mbs   (AGL_GMX_PRT_CFG[SPEED]==1), CLK_CNT == 1
      (2) RGMII, 10/100Mbs (AGL_GMX_PRT_CFG[SPEED]==0), CLK_CNT == 50/5
      RGMII Example:
      Given a 125MHz PLL reference clock...
      CLK_CNT ==  1 ==> 125.0MHz TXC clock period (8ns* 1)
      CLK_CNT ==  5 ==>  25.0MHz TXC clock period (8ns* 5)
      CLK_CNT == 50 ==>   2.5MHz TXC clock period (8ns*50)
    fields:
      - name: --
        bits: 63..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CLK_CNT
        bits: 5..0
        access: R/W
        reset: 0x1
        typical: 0x1
        description: |
          Controls the RGMII TXC frequency
          TXC(period) =
          rgm_ref_clk(period)*CLK_CNT


  - name: AGL_GMX_TX(0..0)_THRESH
    title: Packet TX Threshold
    address: 0x11800E0000210 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 5..0
        access: R/W
        reset: 0x20
        typical: 0x20
        description: |
          Number of 16B ticks to accumulate in the TX FIFO
          before sending on the packet interface
          This register should be large enough to prevent
          underflow on the packet interface and must never
          be set below 4.  This register cannot exceed the
          the TX FIFO depth which is 128, 8B entries.


  - name: AGL_GMX_TX(0..0)_APPEND
    title: Packet TX Append Control
    address: 0x11800E0000218 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..4
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: FORCE_FCS
        bits: 3
        access: R/W
        reset: 1
        typical: 1
        description: |
          Append the Ethernet FCS on each pause packet
          when FCS is clear.  Pause packets are normally
          padded to 60 bytes.  If
          AGL_GMX_TX_MIN_PKT[MIN_SIZE] exceeds 59, then
          FORCE_FCS will not be used.

      - name: FCS
        bits: 2
        access: R/W
        reset: 1
        typical: 1
        description: Append the Ethernet FCS on each packet

      - name: PAD
        bits: 1
        access: R/W
        reset: 1
        typical: 1
        description: Append PAD bytes such that min sized

      - name: PREAMBLE
        bits: 0
        access: R/W
        reset: 1
        typical: 1
        description: Prepend the Ethernet preamble on each transfer


  - name: AGL_GMX_SMAC(0..0)
    title: Packet SMAC
    address: 0x11800E0000230 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SMAC
        bits: 47..0
        access: R/W
        reset: 0x0
        typical: --
        description: |
          The SMAC field is used for generating and
          accepting Control Pause packets


  - name: AGL_GMX_TX(0..0)_PAUSE_PKT_TIME
    title: Packet TX Pause Packet pause_time field
    address: 0x11800E0000238 + a*0x800
    bus: RSL
    internal: |
      Choosing proper values of AGL_GMX_TX_PAUSE_PKT_TIME[TIME] and
      AGL_GMX_TX_PAUSE_PKT_INTERVAL[INTERVAL] can be challenging to the system
      designer.  It is suggested that TIME be much greater than INTERVAL and
      AGL_GMX_TX_PAUSE_ZERO[SEND] be set.  This allows a periodic refresh of the PAUSE
      count and then when the backpressure condition is lifted, a PAUSE packet
      with TIME==0 will be sent indicating that Octane is ready for additional
      data.
      If the system chooses to not set AGL_GMX_TX_PAUSE_ZERO[SEND], then it is
      suggested that TIME and INTERVAL are programmed such that they satisify the
      following rule...
      INTERVAL <= TIME (largest_pkt_size + IFG + pause_pkt_size)
      where largest_pkt_size is that largest packet that the system can send
      (normally 1518B), IFG is the interframe gap and pause_pkt_size is the size
      of the PAUSE packet (normally 64B).
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TIME
        bits: 15..0
        access: R/W
        reset: 0x60
        typical: --
        attributes:
          exempt_keyword: "True"
        description: |
          The pause_time field placed is outbnd pause pkts
          pause_time is in 512 bit-times
          Normally, TIME > AGL_GMX_TX_PAUSE_PKT_INTERVAL


  - name: AGL_GMX_TX(0..0)_MIN_PKT
    title: Packet TX Min Size Packet (PAD upto min size)
    address: 0x11800E0000240 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MIN_SIZE
        bits: 7..0
        access: R/W
        reset: 0x3b
        typical: 0x3b
        description: |
          Min frame in bytes before the FCS is applied
          Padding is only appened when
          AGL_GMX_TX_APPEND[PAD] for the coresponding packet
          port is set. Packets will be padded to
          MIN_SIZE+1 The reset value will pad to 60 bytes.


  - name: AGL_GMX_TX(0..0)_PAUSE_PKT_INTERVAL
    title: Packet TX Pause Packet transmission interval - how often PAUSE packets will be sent
    address: 0x11800E0000248 + a*0x800
    bus: RSL
    internal: |
      Choosing proper values of AGL_GMX_TX_PAUSE_PKT_TIME[TIME] and
      AGL_GMX_TX_PAUSE_PKT_INTERVAL[INTERVAL] can be challenging to the system
      designer.  It is suggested that TIME be much greater than INTERVAL and
      AGL_GMX_TX_PAUSE_ZERO[SEND] be set.  This allows a periodic refresh of the PAUSE
      count and then when the backpressure condition is lifted, a PAUSE packet
      with TIME==0 will be sent indicating that Octane is ready for additional
      data.
      If the system chooses to not set AGL_GMX_TX_PAUSE_ZERO[SEND], then it is
      suggested that TIME and INTERVAL are programmed such that they satisify the
      following rule...
      INTERVAL <= TIME (largest_pkt_size + IFG + pause_pkt_size)
      where largest_pkt_size is that largest packet that the system can send
      (normally 1518B), IFG is the interframe gap and pause_pkt_size is the size
      of the PAUSE packet (normally 64B).
    attributes:
      exempt_name_length: "True"
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: INTERVAL
        bits: 15..0
        access: R/W
        reset: 0x10
        typical: --
        description: |
          Arbitrate for a pause packet every (INTERVAL*512)
          bit-times.
          Normally, 0 < INTERVAL < AGL_GMX_TX_PAUSE_PKT_TIME
          INTERVAL=0, will only send a single PAUSE packet
          for each backpressure event


  - name: AGL_GMX_TX(0..0)_SOFT_PAUSE
    title: Packet TX Software Pause
    address: 0x11800E0000250 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TIME
        bits: 15..0
        access: R/W
        reset: 0x0
        typical: --
        attributes:
          exempt_keyword: "True"
        description: |
          Back off the TX bus for (TIME*512) bit-times
          for full-duplex operation only


  - name: AGL_GMX_TX(0..0)_PAUSE_TOGO
    title: Packet TX Amount of time remaining to backpressure
    address: 0x11800E0000258 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TIME
        bits: 15..0
        access: RO/H
        reset: --
        typical: --
        attributes:
          exempt_keyword: "True"
        description: Amount of time remaining to backpressure


  - name: AGL_GMX_TX(0..0)_PAUSE_ZERO
    title: Packet TX Amount of time remaining to backpressure
    address: 0x11800E0000260 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: SEND
        bits: 0
        access: R/W
        reset: 1
        typical: 1
        description: |
          When backpressure condition clear, send PAUSE
          packet with pause_time of zero to enable the
          channel


  - name: AGL_GMX_TX(0..0)_STATS_CTL
    title: TX Stats Control register
    address: 0x11800E0000268 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RD_CLR
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Stats registers will clear on reads


  - name: AGL_GMX_TX(0..0)_CTL
    title: TX Control register
    address: 0x11800E0000270 + a*0x800
    bus: RSL
    fields:
      - name: --
        bits: 63..2
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XSDEF_EN
        bits: 1
        access: R/W
        reset: 1
        typical: 1
        description: |
          Enables the excessive deferral check for stats
          and interrupts

      - name: XSCOL_EN
        bits: 0
        access: R/W
        reset: 1
        typical: 1
        description: |
          Enables the excessive collision check for stats
          and interrupts


  - name: AGL_GMX_TX(0..0)_STAT0
    title: AGL_GMX_TX_STATS_XSDEF / AGL_GMX_TX_STATS_XSCOL
    address: 0x11800E0000280 + a*0x800
    bus: RSL
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: XSDEF
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets dropped (never successfully
          sent) due to excessive deferal

      - name: XSCOL
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets dropped (never successfully
          sent) due to excessive collision.  Defined by
          AGL_GMX_TX_COL_ATTEMPT[LIMIT].


  - name: AGL_GMX_TX(0..0)_STAT1
    title: AGL_GMX_TX_STATS_SCOL  / AGL_GMX_TX_STATS_MCOL
    address: 0x11800E0000288 + a*0x800
    bus: RSL
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: SCOL
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Number of packets sent with a single collision

      - name: MCOL
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with multiple collisions
          but < AGL_GMX_TX_COL_ATTEMPT[LIMIT].


  - name: AGL_GMX_TX(0..0)_STAT2
    title: AGL_GMX_TX_STATS_OCTS
    address: 0x11800E0000290 + a*0x800
    bus: RSL
    internal: |
      Octect counts are the sum of all data transmitted on the wire including
      packet data, pad bytes, fcs bytes, pause bytes, and jam bytes.  The octect
      counts do not include PREAMBLE byte or EXTEND cycles.
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: OCTS
        bits: 47..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of total octets sent on the interface.
          Does not count octets from frames that were
          truncated due to collisions in halfdup mode.


  - name: AGL_GMX_TX(0..0)_STAT3
    title: AGL_GMX_TX_STATS_PKTS
    address: 0x11800E0000298 + a*0x800
    bus: RSL
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: --
        bits: 63..32
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PKTS
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of total frames sent on the interface.
          Does not count frames that were truncated due to
          collisions in halfdup mode.


  - name: AGL_GMX_TX(0..0)_STAT4
    title: AGL_GMX_TX_STATS_HIST1 (64) / AGL_GMX_TX_STATS_HIST0 (<64)
    address: 0x11800E00002A0 + a*0x800
    bus: RSL
    internal: |
      Packet length is the sum of all data transmitted on the wire for the given
      packet including packet data, pad bytes, fcs bytes, pause bytes, and jam
      bytes.  The octect counts do not include PREAMBLE byte or EXTEND cycles.
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: HIST1
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Number of packets sent with an octet count of 64.

      - name: HIST0
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with an octet count
          of < 64.


  - name: AGL_GMX_TX(0..0)_STAT5
    title: AGL_GMX_TX_STATS_HIST3 (128- 255) / AGL_GMX_TX_STATS_HIST2 (65- 127)
    address: 0x11800E00002A8 + a*0x800
    bus: RSL
    internal: |
      Packet length is the sum of all data transmitted on the wire for the given
      packet including packet data, pad bytes, fcs bytes, pause bytes, and jam
      bytes.  The octect counts do not include PREAMBLE byte or EXTEND cycles.
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: HIST3
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with an octet count of
          128 - 255.

      - name: HIST2
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with an octet count of
          65 - 127.


  - name: AGL_GMX_TX(0..0)_STAT6
    title: AGL_GMX_TX_STATS_HIST5 (512-1023) / AGL_GMX_TX_STATS_HIST4 (256-511)
    address: 0x11800E00002B0 + a*0x800
    bus: RSL
    internal: |
      Packet length is the sum of all data transmitted on the wire for the given
      packet including packet data, pad bytes, fcs bytes, pause bytes, and jam
      bytes.  The octect counts do not include PREAMBLE byte or EXTEND cycles.
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: HIST5
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with an octet count of
          512 - 1023.

      - name: HIST4
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with an octet count of
          256 - 511.


  - name: AGL_GMX_TX(0..0)_STAT7
    title: AGL_GMX_TX_STATS_HIST7 (1024-1518) / AGL_GMX_TX_STATS_HIST6 (>1518)
    address: 0x11800E00002B8 + a*0x800
    bus: RSL
    internal: |
      Packet length is the sum of all data transmitted on the wire for the given
      packet including packet data, pad bytes, fcs bytes, pause bytes, and jam
      bytes.  The octect counts do not include PREAMBLE byte or EXTEND cycles.
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: HIST7
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with an octet count
          of > 1518.

      - name: HIST6
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent with an octet count of
          1024 - 1518.


  - name: AGL_GMX_TX(0..0)_STAT8
    title: AGL_GMX_TX_STATS_MCST  / AGL_GMX_TX_STATS_BCST
    address: 0x11800E00002C0 + a*0x800
    bus: RSL
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
      Note, GMX determines if the packet is MCST or BCST from the DMAC of the
      packet.  GMX assumes that the DMAC lies in the first 6 bytes of the packet
      as per the 802.3 frame definition.  If the system requires additional data
      before the L2 header, then the MCST and BCST counters may not reflect
      reality and should be ignored by software.
    fields:
      - name: MCST
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent to multicast DMAC.
          Does not include BCST packets.

      - name: BCST
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of packets sent to broadcast DMAC.
          Does not include MCST packets.


  - name: AGL_GMX_TX(0..0)_STAT9
    title: AGL_GMX_TX_STATS_UNDFLW / AGL_GMX_TX_STATS_CTL
    address: 0x11800E00002C8 + a*0x800
    bus: RSL
    internal: |
      Cleared either by a write (of any value) or a read when AGL_GMX_TX_STATS_CTL[RD_CLR] is set
      Counters will wrap
    fields:
      - name: UNDFLW
        bits: 63..32
        access: RC/W/H
        reset: 0x0
        typical: --
        description: Number of underflow packets

      - name: CTL
        bits: 31..0
        access: RC/W/H
        reset: 0x0
        typical: --
        description: |
          Number of Control packets (PAUSE flow control)
          generated by GMX.  It does not include control
          packets forwarded or generated by the PP's.


  - name: AGL_GMX_BIST
    title: GMX BIST Results
    address: 0x11800E0000400
    bus: RSL
    fields:
      - name: --
        bits: 63..25
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: STATUS
        bits: 24..0
        access: RO
        reset: 0x0
        typical: 0x0
        description: |
          "BIST Results.
          HW sets a bit in BIST for for memory that fails
          0: gmx#.inb.fif_bnk0
          1: gmx#.inb.fif_bnk1
          2: gmx#.inb.fif_bnk2
          3: gmx#.inb.fif_bnk3
          4: gmx#.inb.fif_bnk_ext0
          5: gmx#.inb.fif_bnk_ext1
          6: gmx#.inb.fif_bnk_ext2
          7: gmx#.inb.fif_bnk_ext3
          8: gmx#.outb.fif.fif_bnk0
          9: gmx#.outb.fif.fif_bnk1
          10: RAZ
          11: RAZ
          12: gmx#.outb.fif.fif_bnk_ext0
          13: gmx#.outb.fif.fif_bnk_ext1
          14: RAZ
          15: RAZ
          16: RAZ
          17: RAZ
          18: RAZ
          19: RAZ
          20: gmx#.csr.drf20x32m2_bist
          21: gmx#.csr.drf20x48m2_bist
          22: gmx#.outb.stat.drf16x27m1_bist
          23: gmx#.outb.stat.drf40x64m1_bist
          24: RAZ"


  - name: AGL_GMX_RX_BP_DROP(0..0)
    title: FIFO mark for packet drop
    address: 0x11800E0000420 + a*0x8
    bus: RSL
    fields:
      - name: --
        bits: 63..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MARK
        bits: 5..0
        access: R/W
        reset: 0x2
        typical: 0x2
        description: |
          Number of 8B ticks to reserve in the RX FIFO.
          When the FIFO exceeds this count, packets will
          be dropped and not buffered.
          MARK should typically be programmed to 2.
          Failure to program correctly can lead to system
          instability.


  - name: AGL_GMX_RX_BP_ON(0..0)
    title: Hiwater mark for port/interface backpressure
    address: 0x11800E0000440 + a*0x8
    bus: RSL
    fields:
      - name: --
        bits: 63..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MARK
        bits: 8..0
        access: R/W
        reset: 0x40
        typical: 0x40
        description: Hiwater mark (8B ticks) for backpressure.


  - name: AGL_GMX_RX_BP_OFF(0..0)
    title: Lowater mark for packet drop
    address: 0x11800E0000460 + a*0x8
    bus: RSL
    fields:
      - name: --
        bits: 63..6
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MARK
        bits: 5..0
        access: R/W
        reset: 0x10
        typical: 0x10
        description: Water mark (8B ticks) to deassert backpressure


  - name: AGL_GMX_TX_IFG
    address: 0x11800E0000488
    bus: RSL
    description: |
      Common
      AGL_GMX_TX_IFG = Packet TX Interframe Gap
    internal: |
      "* Programming IFG1 and IFG2.
      For half-duplex systems that require IEEE 802.3 compatibility, IFG1 must
      be in the range of 1-8, IFG2 must be in the range of 4-12, and the
      IFG1+IFG2 sum must be 12.
      For full-duplex systems that require IEEE 802.3 compatibility, IFG1 must
      be in the range of 1-11, IFG2 must be in the range of 1-11, and the
      IFG1+IFG2 sum must be 12.
      For all other systems, IFG1 and IFG2 can be any value in the range of
      1-15.  Allowing for a total possible IFG sum of 2-30."
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: IFG2
        bits: 7..4
        access: R/W
        reset: 0x4
        typical: --
        description: |
          1/3 of the interframe gap timing
          If CRS is detected during IFG2, then the
          interFrameSpacing timer is not reset and a frame
          is transmited once the timer expires.
          1000Mbs   = 4
          10/100Mbs = 10
          (In 10/100Mbs mode, total IFG doubled to 24 with
          IFG2 increase to 10 for bug16930.)
          (Bug16930 only applies to 6xxx series)

      - name: IFG1
        bits: 3..0
        access: R/W
        reset: 0x8
        typical: --
        description: |
          2/3 of the interframe gap timing
          If CRS is detected during IFG1, then the
          interFrameSpacing timer is reset and a frame is
          not transmited.
          1000Mbs   = 8
          10/100Mbs = 14
          (In 10/100Mbs mode, total IFG doubled to 24 with
          IFG1 increase to 14 for bug16930.)
          (Bug16930 only applies to 6xxx series)


  - name: AGL_GMX_TX_JAM
    title: Packet TX Jam Pattern
    address: 0x11800E0000490
    bus: RSL
    fields:
      - name: --
        bits: 63..8
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: JAM
        bits: 7..0
        access: R/W
        reset: 0xee
        typical: --
        description: Jam pattern


  - name: AGL_GMX_TX_COL_ATTEMPT
    title: Packet TX collision attempts before dropping frame
    address: 0x11800E0000498
    bus: RSL
    fields:
      - name: --
        bits: 63..5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LIMIT
        bits: 4..0
        access: R/W
        reset: 0x10
        typical: 0x10
        description: Collision Attempts


  - name: AGL_GMX_TX_PAUSE_PKT_DMAC
    title: Packet TX Pause Packet DMAC field
    address: 0x11800E00004A0
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DMAC
        bits: 47..0
        access: R/W
        reset: 0x180c2000001
        typical: 0x180c2000001
        description: The DMAC field placed is outbnd pause pkts


  - name: AGL_GMX_TX_PAUSE_PKT_TYPE
    title: Packet TX Pause Packet TYPE field
    address: 0x11800E00004A8
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TYPE
        bits: 15..0
        access: R/W
        reset: 0x8808
        typical: 0x8808
        attributes:
          exempt_keyword: "True"
        description: The TYPE field placed is outbnd pause pkts


  - name: AGL_GMX_TX_OVR_BP
    title: Packet TX Override BackPressure
    address: 0x11800E00004C8
    bus: RSL
    fields:
      - name: --
        bits: 63..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: Per port Enable back pressure override

      - name: --
        bits: 7..5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BP
        bits: 4
        access: R/W
        reset: 0
        typical: 0
        description: |
          Port BackPressure status to use
          0=Port is available
          1=Port should be back pressured

      - name: --
        bits: 3..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: IGN_FULL
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Ignore the RX FIFO full when computing BP


  - name: AGL_GMX_TX_BP
    title: Packet TX BackPressure Register
    address: 0x11800E00004D0
    bus: RSL
    fields:
      - name: --
        bits: 63..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BP
        bits: 0
        access: RO
        reset: 0
        typical: 0
        description: |
          Port BackPressure status
          0=Port is available
          1=Port should be back pressured


  - name: AGL_GMX_RX_PRT_INFO
    title: state information for the ports
    address: 0x11800E00004E8
    bus: RSL
    fields:
      - name: --
        bits: 63..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DROP
        bits: 16
        access: RO/H
        reset: 0
        typical: 0
        description: Port indication that data was dropped

      - name: --
        bits: 15..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: COMMIT
        bits: 0
        access: RO/H
        reset: 0
        typical: 0
        description: Port indication that SOP was accepted


  - name: AGL_GMX_TX_LFSR
    title: LFSR used to implement truncated binary exponential backoff
    address: 0x11800E00004F8
    bus: RSL
    fields:
      - name: --
        bits: 63..16
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LFSR
        bits: 15..0
        access: R/W/H
        reset: 0xffff
        typical: --
        description: |
          The current state of the LFSR used to feed random
          numbers to compute truncated binary exponential
          backoff.


  - name: AGL_GMX_TX_INT_REG
    title: Interrupt Register
    address: 0x11800E0000500
    bus: RSL
    fields:
      - name: --
        bits: 63..21
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PTP_LOST
        bits: 20
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          A packet with a PTP request was not able to be
          sent due to XSCOL

      - name: --
        bits: 19..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LATE_COL
        bits: 16
        access: R/W1C/H
        reset: 0
        typical: 0
        description: TX Late Collision

      - name: --
        bits: 15..13
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XSDEF
        bits: 12
        access: R/W1C/H
        reset: 0
        typical: 0
        description: TX Excessive deferral (halfdup mode only)

      - name: --
        bits: 11..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XSCOL
        bits: 8
        access: R/W1C/H
        reset: 0
        typical: 0
        description: TX Excessive collisions (halfdup mode only)

      - name: --
        bits: 7..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: UNDFLW
        bits: 2
        access: R/W1C/H
        reset: 0
        typical: 0
        description: TX Underflow

      - name: --
        bits: 1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PKO_NXA
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Port address out-of-range from PKO Interface


  - name: AGL_GMX_TX_INT_EN
    title: Interrupt Enable
    address: 0x11800E0000508
    bus: RSL
    fields:
      - name: --
        bits: 63..24
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: --
        bits: 23..21
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PTP_LOST
        bits: 20
        access: R/W
        reset: 0
        typical: 0
        description: |
          A packet with a PTP request was not able to be
          sent due to XSCOL

      - name: --
        bits: 19..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LATE_COL
        bits: 16
        access: R/W
        reset: 0
        typical: 0
        description: TX Late Collision

      - name: --
        bits: 15..13
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XSDEF
        bits: 12
        access: R/W
        reset: 0
        typical: 0
        description: TX Excessive deferral (halfdup mode only)

      - name: --
        bits: 11..9
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: XSCOL
        bits: 8
        access: R/W
        reset: 0
        typical: 0
        description: TX Excessive collisions (halfdup mode only)

      - name: --
        bits: 7..3
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: UNDFLW
        bits: 2
        access: R/W
        reset: 0
        typical: 0
        description: TX Underflow

      - name: --
        bits: 1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: PKO_NXA
        bits: 0
        access: R/W
        reset: 0
        typical: 0
        description: Port address out-of-range from PKO Interface


  - name: AGL_GMX_BAD_REG
    title: A collection of things that have gone very, very wrong
    address: 0x11800E0000518
    bus: RSL
    fields:
      - name: --
        bits: 63..35
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TXPSH
        bits: 34
        access: R/W1C
        reset: 0
        typical: 0
        description: TX FIFO overflow (RGMII0)

      - name: TXPOP
        bits: 33
        access: R/W1C
        reset: 0
        typical: 0
        description: TX FIFO underflow (RGMII0)

      - name: OVRFLW
        bits: 32
        access: R/W1C
        reset: 0
        typical: 0
        description: RX FIFO overflow (RGMII0)

      - name: --
        bits: 31..27
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: STATOVR
        bits: 26
        access: R/W1C/H
        reset: 0
        typical: 0
        description: TX Statistics overflow

      - name: --
        bits: 25..23
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: LOSTSTAT
        bits: 22
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          TX Statistics data was over-written
          In RGMII, one bit per port
          TX Stats are corrupted

      - name: --
        bits: 21..3
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: OUT_OVR
        bits: 2
        access: R/W1C/H
        reset: 0
        typical: 0
        description: Outbound data FIFO overflow

      - name: --
        bits: 1..0
        access: RAZ
        reset: 0x0
        typical: 0x0
        description: Reserved.


  - name: AGL_GMX_STAT_BP
    title: Number of cycles that the TX/Stats block has help up operation
    address: 0x11800E0000520
    bus: RSL
    internal: |
      INTERNAL: *DON'T PUT IN HRM*
      It has no relationship with the TX FIFO per se.  The TX engine sends packets
      from PKO and upon completion, sends a command to the TX stats block for an
      update based on the packet size.  The stats operation can take a few cycles -
      normally not enough to be visible considering the 64B min packet size that is
      ethernet convention.
      In the rare case in which SW attempted to schedule really, really, small packets
      or the sclk (6xxx) is running ass-slow, then the stats updates may not happen in
      real time and can back up the TX engine.
      This counter is the number of cycles in which the TX engine was stalled.  In
      normal operation, it should always be zeros.
    fields:
      - name: --
        bits: 63..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: BP
        bits: 16
        access: RO/H
        reset: 0
        typical: 0
        description: |
          Current TX stats BP state
          When the TX stats machine cannot update the stats
          registers quickly enough, the machine has the
          ability to BP TX datapath.  This is a rare event
          and will not occur in normal operation.
          0 = no backpressure is applied
          1 = backpressure is applied to TX datapath to
          allow stat update operations to complete

      - name: CNT
        bits: 15..0
        access: R/W1C/H
        reset: 0x0
        typical: 0x0
        description: |
          Number of cycles that BP has been asserted
          Saturating counter


  - name: AGL_GMX_WOL_CTL
    address: 0x11800E0000780
    bus: RSL
    fields:
      - name: --
        bits: 63..48
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: --
        bits: 47..36
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: --
        bits: 35..33
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: MAGIC_EN
        bits: 32
        access: R/W
        reset: 0
        typical: --
        description: Port enable for magic pkt WOL event detection.

      - name: --
        bits: 31..20
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: --
        bits: 19..17
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DIRECT_EN
        bits: 16
        access: R/W
        reset: 0
        typical: --
        description: Port enable for directed pkt WOL event detection.

      - name: --
        bits: 15..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: EN
        bits: 0
        access: R/W
        reset: 0
        typical: --
        description: Enter WOL mode.


  - name: AGL_GMX_RX_TX_STATUS
    title: GMX RX/TX Status
    address: 0x11800E00007E8
    bus: RSL
    fields:
      - name: --
        bits: 63..5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: TX
        bits: 4
        access: RC/H
        reset: 0
        typical: 0
        description: Transmit data since last read

      - name: --
        bits: 3..1
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: RX
        bits: 0
        access: RC/H
        reset: 0
        typical: 0
        description: Receive data since last read


  - name: AGL_PRT(0..0)_CTL
    title: AGL Port Control
    address: 0x11800E0002000 + a*0x8
    bus: RSL
    internal: |
      The RGMII timing specification requires that devices transmit clock and
      data synchronously. The specification requires external sources (namely
      the PC board trace routes) to introduce the appropriate 1.5 to 2.0 ns of
      delay.
      To eliminate the need for the PC board delays, the RGMII interface has optional
      onboard DLL's for both transmit and receive. For correct operation, at most one
      of the transmitter, board, or receiver involved in an RGMII link should
      introduce delay. By default/reset, the RGMII receivers delay the received clock,
      and the RGMII transmitters do not delay the transmitted clock. Whether this
      default works as-is with a given link partner depends on the behavior of the
      link partner and the PC board.
      These are the possible modes of RGMII receive operation:
      o AGL_PRTx_CTL[CLKRX_BYP] = 0 (reset value) The OCTEON RGMII
      receive interface introduces clock delay using its internal DLL.
      This mode is appropriate if neither the remote
      transmitter nor the PC board delays the clock.
      o AGL_PRTx_CTL[CLKRX_BYP] = 1, [CLKRX_SET] = 0x0 The OCTEON
      RGMII receive interface introduces no clock delay. This mode
      is appropriate if either the remote transmitter or the PC board
      delays the clock.
      These are the possible modes of RGMII transmit operation:
      o AGL_PRTx_CTL[CLKTX_BYP] = 1, [CLKTX_SET] = 0x0 (reset value) -
      The OCTEON RGMII transmit interface introduces no clock
      delay. This mode is appropriate is either the remote receiver
      or the PC board delays the clock.
      o AGL_PRTx_CTL[CLKTX_BYP] = 0 The OCTEON RGMII transmit
      interface introduces clock delay using its internal DLL.
      This mode is appropriate if neither the remote receiver
      nor the PC board delays the clock.
    fields:
      - name: DRV_BYP
        bits: 63
        access: R/W
        reset: 0
        typical: 0
        description: |
          Bypass the compensation controller and use
          DRV_NCTL and DRV_PCTL

      - name: --
        bits: 62..61
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CMP_PCTL
        bits: 60..56
        access: RO/H
        reset: --
        typical: --
        description: PCTL drive strength from the compensation ctl

      - name: --
        bits: 55..53
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CMP_NCTL
        bits: 52..48
        access: RO/H
        reset: --
        typical: --
        description: NCTL drive strength from the compensation ctl

      - name: --
        bits: 47..45
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DRV_PCTL
        bits: 44..40
        access: R/W
        reset: 0xd
        typical: --
        description: |
          PCTL drive strength to use in bypass mode
          Reset value of 19 is for 50 ohm termination

      - name: --
        bits: 39..37
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DRV_NCTL
        bits: 36..32
        access: R/W
        reset: 0xc
        typical: --
        description: |
          NCTL drive strength to use in bypass mode
          Reset value of 15 is for 50 ohm termination

      - name: --
        bits: 31
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: CLK_SET
        bits: 30..24
        access: RO/H
        reset: --
        typical: --
        description: The clock delay as determined by the DLL

      - name: CLKRX_BYP
        bits: 23
        access: R/W
        reset: 0
        typical: --
        description: |
          Bypass the RX clock delay setting
          Skews RXC from RXD,RXCTL
          By default, HW internally shifts the RXC clock
          to sample RXD,RXCTL assuming clock and data and
          sourced synchronously from the link partner.

      - name: CLKRX_SET
        bits: 22..16
        access: R/W
        reset: 0x0
        typical: --
        description: |
          RX clock delay setting to use in bypass mode
          Skews RXC from RXD

      - name: CLKTX_BYP
        bits: 15
        access: R/W
        reset: 1
        typical: --
        description: |
          Bypass the TX clock delay setting
          Skews TXC from TXD,TXCTL
          By default, clock and data and sourced
          synchronously.

      - name: CLKTX_SET
        bits: 14..8
        access: R/W
        reset: 0x0
        typical: --
        description: |
          TX clock delay setting to use in bypass mode
          Skews TXC from TXD

      - name: REFCLK_SEL
        bits: 7..6
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Select the refclk to use.  Normal RGMII specification requires a 125MHz oscillator.  In
          order to save some system cost, a 500MHz coprocessor clock can be divided down and remove
          the requirements for the external oscillator.  Additionally, in some well defined systems,
          the link partner may be able to source the RXC.  The RGMII would operate correctly in
          1000Mbs mode only.  (INTERNAL: Some programming magic could allow for 10/100
          operation if critical).
          0 = RGMII REFCLK
          1 = RGMII RXC (1000Mbs only) (INTERNAL: some programming restrictions apply for 10/100)
          2 = divided coprocessor clk
          3 = reserved

      - name: --
        bits: 5
        access: RAZ
        reset: --
        typical: --
        description: Reserved.

      - name: DLLRST
        bits: 4
        access: R/W
        reset: 1
        typical: 0
        description: DLL Reset

      - name: COMP
        bits: 3
        access: R/W
        reset: 0
        typical: 1
        description: Compensation Enable

      - name: ENABLE
        bits: 2
        access: R/W
        reset: 0
        typical: 1
        description: Port Enable

      - name: CLKRST
        bits: 1
        access: R/W
        reset: 0
        typical: 1
        description: DLL CLK Reset

      - name: MODE
        bits: 0
        access: RO
        reset: 0
        typical: 0
        description: |
          Port Mode
          0=RGMII



