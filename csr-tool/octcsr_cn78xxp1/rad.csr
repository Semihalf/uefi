# -*- csr3 -*-
# You must run "csr3 rtl" after editing this file!
---
name: RAD
enums:
  - name: RAD_INTSN_E
    attributes:
      width: "20"
    description: Enumerates the different RAD generated interrupts.
    values:
      - name: RAD_FIFO(0)_DOORBELL
        value: 0x70100 + a
        description: See RAD_REG_ERROR[DOORBELL].


registers:
  - name: RAD_REG_CTL
    title: RAD Control Register
    address: 0x1180070000000
    bus: RSL
    fields:
      - name: --
        bits: 63..7
        access: ---
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: WC_DIS
        bits: 6
        access: R/W/H
        reset: 0
        typical: 0
        description: |
          Reserved. INTERNAL: Bug 17188 diagnostic disable.

      - name: MAX_READ
        bits: 5..2
        access: R/W
        reset: 0x8
        typical: 0x8
        attributes:
          regtest_force: "0x8"
        description: |
          Maximum number of outstanding data read commands. MAX_READ is a throttle to control IOB
          usage. Values greater than 0x8 are illegal.

      - name: STORE_LE
        bits: 1
        access: R/W
        reset: 0
        typical: 0
        description: Force STORE0 byte write address to little endian.

      - name: RESET
        bits: 0
        access: R/W1
        reset: 0
        typical: 0
        description: Reset oneshot pulse (lasts for 4 cycles).


  - name: RAD_REG_CMD_BUF
    title: Command Buffer Register
    address: 0x1180070000008
    bus: RSL
    description: This register sets the command-buffer parameters.
    fields:
      - name: --
        bits: 63..58
        access: ---
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: AURA
        bits: 57..48
        access: R/W
        reset: 0x0
        typical: --
        description: Aura to use when freeing command-buffer segments.

      - name: LDWB
        bits: 47
        access: R/W
        reset: 1
        typical: 1
        description: When reading commands that end on cache line boundaries, use load-and-don't write back commands.

      - name: DFB
        bits: 46
        access: R/W
        reset: 0
        typical: 0
        description: Don't free buffers to the FPA, for diagnostic use.

      - name: SIZE
        bits: 45..33
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Number of uint64 words per command buffer segment.

      - name: --
        bits: 32..0
        access: ---
        reset: 0x0
        typical: 0x0
        description: Reserved.


  - name: RAD_REG_POLYNOMIAL
    title: RAD Polynomial Register
    address: 0x1180070000010
    bus: RSL
    description: |
      The polynomial is x
      8 + C7*x
      7 + C6*x
      6 + C5*x
      5 + C4*x
      4 + C3*x
      3 + C2*x
      2 + C1*x
      1 + C0.
    fields:
      - name: --
        bits: 63..8
        access: ---
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: COEFFS
        bits: 7..0
        access: R/W
        reset: 0x1d
        typical: 0x1d
        description: Coefficients of GF(28) irreducible polynomial


  - name: RAD_REG_READ_IDX
    title: RAD Read Index Register
    address: 0x1180070000018
    bus: RSL
    description: |
      This register is for debug purposes only. It provides the read index during a CSR read
      operation to any of the CSRs that are physically stored as memories. The mnemonics for these
      CSRs begin with the prefix RAD_MEM_.
      IDX[15:0] is the read index. INC[15:0] is an increment that is added to IDX[15:0] after any
      CSR read. The intended use is to initially write this CSR such that IDX = 0 and INC = 1. Then,
      the entire contents of a CSR memory can be read with consecutive CSR read commands.
    fields:
      - name: --
        bits: 63..32
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: INC
        bits: 31..16
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Increment to add to the current index for the next index.

      - name: IDX
        bits: 15..0
        access: R/W
        reset: 0x0
        typical: 0x0
        description: Index to use for next memory CSR read operation.


  - name: RAD_REG_CMD_PTR
    title: Command Buffer Pointer Register
    address: 0x1180070000020
    bus: RSL
    description: This register sets the command-buffer parameters.
    fields:
      - name: --
        bits: 63..42
        access: ---
        reset: 0x0
        typical: 0x0
        description: Reserved.

      - name: PTR
        bits: 41..7
        access: R/W
        reset: 0x0
        typical: --
        description: |
          Initial command-buffer pointer bits <41:7> (128-byte aligned). Overwritten each time the
          command-buffer segment is exhausted.

      - name: --
        bits: 6..0
        access: ---
        reset: 0x0
        typical: 0x0
        description: Reserved.


  - name: RAD_REG_BIST_RESULT
    title: RAD BIST Result Register
    address: 0x1180070000080
    bus: RSL
    description: |
      This register provides access to internal BIST results. Each bit is the BIST result of an
      individual memory (per bit, 0 = pass, 1 = fail).
    fields:
      - name: --
        bits: 63..6
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: STA
        bits: 5
        access: RO
        reset: X
        typical: 0
        description: BIST result of the STA memories

      - name: NCB_OUB
        bits: 4
        access: RO
        reset: X
        typical: 0
        description: BIST result of the NCB_OUB memories

      - name: NCB_INB
        bits: 3..2
        access: RO
        reset: X
        typical: 0x0
        description: BIST result of the NCB_INB memories

      - name: DAT
        bits: 1..0
        access: RO
        reset: X
        typical: 0x0
        description: BIST result of the DAT memories


  - name: RAD_REG_ERROR
    title: RAD Error Register
    address: 0x1180070000088
    bus: RSL
    fields:
      - name: --
        bits: 63..1
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: DOORBELL
        bits: 0
        access: R/W1C/H
        reset: 0
        typical: 0
        description: |
          Error bit indicating a doorbell count has overflowed. Throws
          RAD_INTSN_E::RAD_FIFO(0)_DOORBELL.


  - name: RAD_REG_DEBUG0
    title: RAD Debug0 Register
    address: 0x1180070000100
    bus: RSL
    fields:
      - name: --
        bits: 63..57
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: LOOP
        bits: 56..32
        access: RO/H
        reset: --
        typical: --
        description: Loop offset

      - name: --
        bits: 31..22
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: IRIDX
        bits: 21..16
        access: RO/H
        reset: --
        typical: --
        description: IWords read index

      - name: --
        bits: 15..14
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: IWIDX
        bits: 13..8
        access: RO/H
        reset: --
        typical: --
        description: IWords write index

      - name: OWORDQV
        bits: 7
        access: RO/H
        reset: --
        typical: --
        description: Valid for OWORDQ

      - name: OWORDPV
        bits: 6
        access: RO/H
        reset: --
        typical: --
        description: Valid for OWORDP

      - name: COMMIT
        bits: 5
        access: RO/H
        reset: --
        typical: --
        description: Waiting for write commit

      - name: STATE
        bits: 4..0
        access: RO/H
        reset: --
        typical: --
        description: Main state


  - name: RAD_REG_DEBUG1
    title: RAD Debug1 Register
    address: 0x1180070000108
    bus: RSL
    fields:
      - name: CWORD
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: CWord


  - name: RAD_REG_DEBUG2
    title: RAD Debug2 Register
    address: 0x1180070000110
    bus: RSL
    fields:
      - name: OWORDP
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: OWordP


  - name: RAD_REG_DEBUG3
    title: RAD Debug3 Register
    address: 0x1180070000118
    bus: RSL
    fields:
      - name: OWORDQ
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: OWordQ


  - name: RAD_REG_DEBUG4
    title: RAD Debug4 Register
    address: 0x1180070000120
    bus: RSL
    fields:
      - name: RWORD
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: RWord


  - name: RAD_REG_DEBUG5
    title: RAD Debug5 Register
    address: 0x1180070000128
    bus: RSL
    fields:
      - name: --
        bits: 63..53
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: NIROPC7
        bits: 52..50
        access: RO/H
        reset: --
        typical: --
        description: IOBI ropc (stage7 grant)

      - name: NIRQUE7
        bits: 49..48
        access: RO/H
        reset: --
        typical: --
        description: IOBI rque (stage7 grant)

      - name: NIRVAL7
        bits: 47..43
        access: RO/H
        reset: --
        typical: --
        description: IOBI rval (stage7 grant)

      - name: NIROPC6
        bits: 42..40
        access: RO/H
        reset: --
        typical: --
        description: IOBI ropc (stage6 arb)

      - name: NIRQUE6
        bits: 39..38
        access: RO/H
        reset: --
        typical: --
        description: IOBI rque (stage6 arb)

      - name: NIRARB6
        bits: 37
        access: RO/H
        reset: --
        typical: --
        description: IOBI rarb (stage6 arb)

      - name: NIRVAL6
        bits: 36..32
        access: RO/H
        reset: --
        typical: --
        description: IOBI rval (stage6 arb)

      - name: NIRIDX1
        bits: 31..28
        access: RO/H
        reset: --
        typical: --
        description: IOBI ridx1

      - name: NIWIDX1
        bits: 27..24
        access: RO/H
        reset: --
        typical: --
        description: IOBI widx1

      - name: NIRIDX0
        bits: 23..20
        access: RO/H
        reset: --
        typical: --
        description: IOBI ridx0

      - name: NIWIDX0
        bits: 19..16
        access: RO/H
        reset: --
        typical: --
        description: IOBI widx0

      - name: WCCREDS
        bits: 15..14
        access: RO/H
        reset: 0x0
        typical: 0x0
        description: WC credits

      - name: FPACREDS
        bits: 13..12
        access: RO/H
        reset: 0x1
        typical: 0x0
        description: FPA credits

      - name: --
        bits: 11..10
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: SSOCREDS
        bits: 9..8
        access: RO/H
        reset: 0x2
        typical: 0x0
        description: SSO credits

      - name: N1CREDS
        bits: 7..4
        access: RO/H
        reset: 0x8
        typical: 0x0
        description: IOBI1 credits

      - name: N0CREDS
        bits: 3..0
        access: RO/H
        reset: 0x8
        typical: 0x0
        description: IOBI0 credits


  - name: RAD_REG_DEBUG6
    title: RAD Debug6 Register
    address: 0x1180070000130
    bus: RSL
    fields:
      - name: CNT
        bits: 63..56
        access: RO/H
        reset: --
        typical: --
        description: |
          CCTL count [7:0] in bytes

      - name: SIZE
        bits: 55..40
        access: RO/H
        reset: --
        typical: --
        description: CCTL size in bytes

      - name: PTR
        bits: 39..0
        access: RO/H
        reset: --
        typical: --
        description: |
          CCTL pointer (address [41:40] not included)


  - name: RAD_REG_DEBUG7
    title: RAD Debug7 Register
    address: 0x1180070000138
    bus: RSL
    fields:
      - name: --
        bits: 63..15
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: CNT
        bits: 14..0
        access: RO/H
        reset: --
        typical: --
        description: |
          CCTL count [22:8] in bytes


  - name: RAD_REG_DEBUG8
    title: RAD Debug8 Register
    address: 0x1180070000140
    bus: RSL
    fields:
      - name: FLAGS
        bits: 63..56
        access: RO/H
        reset: --
        typical: --
        description: ICTL flags

      - name: SIZE
        bits: 55..40
        access: RO/H
        reset: --
        typical: --
        description: ICTL size in bytes

      - name: PTR
        bits: 39..0
        access: RO/H
        reset: --
        typical: --
        description: |
          ICTL pointer (address [41:40] not included)


  - name: RAD_REG_DEBUG9
    title: RAD Debug9 Register
    address: 0x1180070000148
    bus: RSL
    fields:
      - name: --
        bits: 63..20
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: EOD
        bits: 19
        access: RO/H
        reset: --
        typical: --
        description: ICTL eod flag

      - name: INI
        bits: 18
        access: RO/H
        reset: --
        typical: --
        description: ICTL init flag

      - name: Q
        bits: 17
        access: RO/H
        reset: --
        typical: --
        description: ICTL q enable

      - name: P
        bits: 16
        access: RO/H
        reset: --
        typical: --
        description: ICTL p enable

      - name: MUL
        bits: 15..8
        access: RO/H
        reset: --
        typical: --
        description: ICTL multiplier

      - name: IDX
        bits: 7..0
        access: RO/H
        reset: --
        typical: --
        description: ICTL index


  - name: RAD_REG_DEBUG10
    title: RAD Debug10 Register
    address: 0x1180070000150
    bus: RSL
    fields:
      - name: FLAGS
        bits: 63..56
        access: RO/H
        reset: --
        typical: --
        description: OCTL flags

      - name: SIZE
        bits: 55..40
        access: RO/H
        reset: --
        typical: --
        description: OCTL size in bytes

      - name: PTR
        bits: 39..0
        access: RO/H
        reset: --
        typical: --
        description: |
          OCTL pointer (address [41:40] not included)


  - name: RAD_REG_DEBUG11
    title: RAD Debug11 Register
    address: 0x1180070000158
    bus: RSL
    fields:
      - name: --
        bits: 63..13
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: Q
        bits: 12
        access: RO/H
        reset: --
        typical: --
        description: OCTL Q flag

      - name: P
        bits: 11
        access: RO/H
        reset: --
        typical: --
        description: OCTL P flag

      - name: WC
        bits: 10
        access: RO/H
        reset: --
        typical: --
        description: OCTL write commit flag

      - name: EOD
        bits: 9
        access: RO/H
        reset: --
        typical: --
        description: OCTL EOD flag

      - name: SOD
        bits: 8
        access: RO/H
        reset: --
        typical: --
        description: OCTL SOD flag

      - name: IDX
        bits: 7..0
        access: RO/H
        reset: --
        typical: --
        description: OCTL index


  - name: RAD_REG_DEBUG12
    title: RAD Debug12 Register
    address: 0x1180070000160
    bus: RSL
    fields:
      - name: --
        bits: 63..15
        access: ---
        reset: --
        typical: --
        description: Reserved.

      - name: ASSERTS
        bits: 14..0
        access: RO/H
        reset: --
        typical: --
        description: Various assertion checks


  - name: RAD_MEM_DEBUG0
    title: RAD Memory Debug0 Register
    address: 0x1180070001000
    bus: RSL
    description: |
      This CSR is a memory of 32 entries, and thus, the RAD_REG_READ_IDX CSR must be written before
      any CSR read operations to this address can be performed. A read of any entry that has not
      been previously written is illegal and will result in unpredictable CSR read data.
    fields:
      - name: IWORD
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: IWord


  - name: RAD_MEM_DEBUG1
    title: RAD Memory Debug1 Register
    address: 0x1180070001008
    bus: RSL
    description: |
      This CSR is a memory of 256 entries, and thus, the RAD_REG_READ_IDX CSR must be written before
      any CSR read operations to this address can be performed. A read of any entry that has not
      been previously written is illegal and will result in unpredictable CSR read data.
    fields:
      - name: P_DAT
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: P data


  - name: RAD_MEM_DEBUG2
    title: RAD Memory Debug2 Register
    address: 0x1180070001010
    bus: RSL
    description: |
      This CSR is a memory of 256 entries, and thus, the RAD_REG_READ_IDX CSR must be written before
      any CSR read operations to this address can be performed. A read of any entry that has not
      been previously written is illegal and will result in unpredictable CSR read data.
    fields:
      - name: Q_DAT
        bits: 63..0
        access: RO/H
        reset: --
        typical: --
        description: Q data



